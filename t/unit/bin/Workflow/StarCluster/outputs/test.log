2018-08-03 00:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","printlog":5,"conf":bless( {"log":2,"printlog":2,"memorystore":undef,"memory":1,"indent":4,"oldlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","valueoffset":24,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","oldprintlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","backup":1,"yaml":bless( [], "YAML::Tiny" )}, "Conf::Yaml" )}
2018-08-03 00:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 00:43:34    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 00:43:34    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 00:43:34    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 00:43:34    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 00:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	277	username: testuser
2018-08-03 00:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	278	cluster: testuser-testcluster
2018-08-03 00:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	project: Project1
2018-08-03 00:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	280	workflow: Workflow1
2018-08-03 00:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	workflownumber: 1
2018-08-03 00:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	start: 1
2018-08-03 00:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	submit: 1
2018-08-03 00:46:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","conf":bless( {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"oldlog":2,"valueoffset":24,"oldprintlog":2,"memory":1,"yaml":bless( [], "YAML::Tiny" ),"printlog":2,"logtype":"cli","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"memorystore":undef}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 00:46:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 00:46:25    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 00:46:25    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 00:46:25    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 00:46:25    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 00:46:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 00:46:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	280	cluster: testuser-testcluster
2018-08-03 00:46:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 00:46:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 00:46:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 00:46:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 00:46:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 00:46:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	files: ["cluster.tsv","clustervars.tsv","stageparameter.tsv","clusterworkflow.tsv","sessions.tsv","aws.tsv","clusterstatus.tsv","stage.tsv","workflow.tsv"]
2018-08-03 00:48:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"valueoffset":24,"indent":4,"oldprintlog":2,"memory":1,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"oldlog":2,"backup":1,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"log":2,"memorystore":undef,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli"}, "Conf::Yaml" ),"log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 00:48:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 00:48:52    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 00:48:52    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 00:48:52    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 00:48:52    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 00:48:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 00:48:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	280	cluster: testuser-testcluster
2018-08-03 00:48:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 00:48:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 00:48:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 00:48:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 00:48:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 00:48:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	files: ["cluster.tsv","clustervars.tsv","stageparameter.tsv","clusterworkflow.tsv","sessions.tsv","aws.tsv","clusterstatus.tsv","stage.tsv","workflow.tsv"]
2018-08-03 00:48:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	298	table: 18446744073709551615
2018-08-03 00:49:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","conf":bless( {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","yaml":bless( [], "YAML::Tiny" ),"logtype":"cli","oldlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"valueoffset":24,"memory":1,"memorystore":undef,"indent":4,"oldprintlog":2,"backup":1}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 00:49:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 00:49:04    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 00:49:04    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 00:49:04    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 00:49:04    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 00:49:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 00:49:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	280	cluster: testuser-testcluster
2018-08-03 00:49:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 00:49:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 00:49:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 00:49:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 00:49:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 00:49:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	files: ["cluster.tsv","clustervars.tsv","stageparameter.tsv","clusterworkflow.tsv","sessions.tsv","aws.tsv","clusterstatus.tsv","stage.tsv","workflow.tsv"]
2018-08-03 00:49:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	298	table: 18446744073709551615
2018-08-03 00:49:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4","conf":bless( {"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2,"log":2,"oldlog":2,"memorystore":undef,"memory":1,"yaml":bless( [], "YAML::Tiny" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"valueoffset":24,"logtype":"cli","indent":4,"printlog":2}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5}
2018-08-03 00:49:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 00:49:34    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 00:49:34    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 00:49:34    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 00:49:34    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 00:49:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 00:49:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	280	cluster: testuser-testcluster
2018-08-03 00:49:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 00:49:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 00:49:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 00:49:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 00:49:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 00:49:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	files: ["cluster.tsv","clustervars.tsv","stageparameter.tsv","clusterworkflow.tsv","sessions.tsv","aws.tsv","clusterstatus.tsv","stage.tsv","workflow.tsv"]
2018-08-03 00:49:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	298	table: 18446744073709551615
2018-08-03 00:49:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	table: 18446744073709551615
2018-08-03 00:49:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"indent":4,"oldprintlog":2,"memory":1,"backup":1,"yaml":bless( [], "YAML::Tiny" ),"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memorystore":undef,"printlog":2,"oldlog":2,"valueoffset":24,"logtype":"cli","log":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","printlog":5}
2018-08-03 00:49:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 00:49:56    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 00:49:56    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 00:49:56    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 00:49:56    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 00:49:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 00:49:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	280	cluster: testuser-testcluster
2018-08-03 00:49:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 00:49:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 00:49:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 00:49:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 00:49:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 00:49:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	files: ["cluster.tsv","clustervars.tsv","stageparameter.tsv","clusterworkflow.tsv","sessions.tsv","aws.tsv","clusterstatus.tsv","stage.tsv","workflow.tsv"]
2018-08-03 00:49:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	file: cluster.tsv
2018-08-03 00:49:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	table: 18446744073709551615
2018-08-03 00:50:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2,"logtype":"cli","yaml":bless( [], "YAML::Tiny" ),"valueoffset":24,"memory":1,"memorystore":undef,"indent":4,"oldprintlog":2,"log":2,"backup":1,"oldlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"log":"4"}
2018-08-03 00:50:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 00:50:09    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 00:50:09    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 00:50:09    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 00:50:09    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	280	cluster: testuser-testcluster
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	files: ["cluster.tsv","clustervars.tsv","stageparameter.tsv","clusterworkflow.tsv","sessions.tsv","aws.tsv","clusterstatus.tsv","stage.tsv","workflow.tsv"]
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	file: cluster.tsv
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	table: cluster
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	file: clustervars.tsv
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	table: clustervars
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	file: stageparameter.tsv
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	table: stageparameter
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	file: clusterworkflow.tsv
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	table: clusterworkflow
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	file: sessions.tsv
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	table: sessions
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	file: aws.tsv
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	table: aws
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	file: clusterstatus.tsv
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	table: clusterstatus
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	file: stage.tsv
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	table: stage
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	file: workflow.tsv
2018-08-03 00:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	table: workflow
2018-08-03 00:52:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","printlog":2,"memory":1,"memorystore":undef,"yaml":bless( [], "YAML::Tiny" ),"valueoffset":24,"oldprintlog":2,"indent":4,"backup":1,"log":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldlog":2}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","printlog":5}
2018-08-03 00:52:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 00:52:50    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 00:52:50    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 00:52:50    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 00:52:50    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 00:52:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 00:52:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	280	cluster: testuser-testcluster
2018-08-03 00:52:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 00:52:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 00:52:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 00:52:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 00:52:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 00:52:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	files: ["cluster.tsv","clustervars.tsv","stageparameter.tsv","clusterworkflow.tsv","sessions.tsv","aws.tsv","clusterstatus.tsv","stage.tsv","workflow.tsv"]
2018-08-03 00:52:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	file: cluster.tsv
2018-08-03 00:52:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	table: cluster
2018-08-03 00:55:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5,"log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"logtype":"cli","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2,"yaml":bless( [], "YAML::Tiny" ),"valueoffset":24,"printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","indent":4,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memorystore":undef,"memory":1,"backup":1,"log":2,"oldlog":2}, "Conf::Yaml" )}
2018-08-03 00:55:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 00:55:07    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 00:55:07    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 00:55:07    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 00:55:07    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 00:55:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 00:55:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	280	cluster: testuser-testcluster
2018-08-03 00:55:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 00:55:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 00:55:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 00:55:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 00:55:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 00:55:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 00:55:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	file: stageparameter.tsv
2018-08-03 00:55:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	table: stageparameter
2018-08-03 01:12:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","conf":bless( {"printlog":2,"memorystore":undef,"oldlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"valueoffset":24,"log":2,"yaml":bless( [], "YAML::Tiny" ),"oldprintlog":2,"indent":4,"backup":1}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5}
2018-08-03 01:12:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:12:32    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:12:32    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:12:32    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:12:32    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:12:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:12:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:12:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:12:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:12:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:12:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:12:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	294	files: [".~lock.stageparameter.tsv#","stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 01:12:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	296	file: .~lock.stageparameter.tsv#
2018-08-03 01:12:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	298	table: .~lock.stageparameter
2018-08-03 01:12:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"oldlog":2,"oldprintlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","memory":1,"backup":1,"memorystore":undef,"printlog":2,"indent":4,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"log":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","valueoffset":24}, "Conf::Yaml" ),"printlog":5,"log":"4"}
2018-08-03 01:12:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:12:49    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:12:49    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:12:49    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:12:49    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:12:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:12:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:12:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:12:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:12:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:12:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:12:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	294	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 01:12:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	296	file: stageparameter.tsv
2018-08-03 01:12:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	298	table: stageparameter
2018-08-03 01:27:18    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"logtype":"cli","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"yaml":bless( [], "YAML::Tiny" ),"backup":1,"oldlog":2,"indent":4,"valueoffset":24,"memory":1,"memorystore":undef,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2}, "Conf::Yaml" ),"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4"}
2018-08-03 01:27:18    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:27:18    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:27:18    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:27:18    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:27:18    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:27:18    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:27:18    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:27:18    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:27:18    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:27:18    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:27:18    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:33:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"conf":bless( {"valueoffset":24,"logtype":"cli","memory":1,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"memorystore":undef,"oldlog":2,"backup":1,"indent":4,"printlog":2,"oldprintlog":2,"yaml":bless( [], "YAML::Tiny" ),"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 01:33:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:33:37    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:33:37    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:33:37    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:33:37    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:33:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:33:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:33:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:33:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:33:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:33:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:33:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	294	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 01:33:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	296	file: stageparameter.tsv
2018-08-03 01:33:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	298	table: stageparameter
2018-08-03 01:34:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","conf":bless( {"yaml":bless( [], "YAML::Tiny" ),"log":2,"valueoffset":24,"memory":1,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"logtype":"cli","printlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"memorystore":undef,"oldlog":2,"oldprintlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}, "Conf::Yaml" )}
2018-08-03 01:34:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:34:51    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:34:51    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:34:51    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:34:51    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:34:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:34:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:34:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:34:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:34:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:34:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:34:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	294	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 01:34:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	296	file: stageparameter.tsv
2018-08-03 01:34:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	298	table: stageparameter
2018-08-03 01:35:40    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5,"conf":bless( {"logtype":"cli","oldprintlog":2,"backup":1,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"oldlog":2,"memorystore":undef,"indent":4,"printlog":2,"log":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","valueoffset":24,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","yaml":bless( [], "YAML::Tiny" )}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 01:35:40    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:35:40    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:35:40    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:35:40    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:35:40    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:35:40    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:35:40    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:35:40    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:35:40    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:35:40    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:35:40    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:35:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	294	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 01:35:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	296	file: stageparameter.tsv
2018-08-03 01:35:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	298	table: stageparameter
2018-08-03 01:36:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5,"log":"4","conf":bless( {"indent":4,"yaml":bless( [], "YAML::Tiny" ),"log":2,"backup":1,"logtype":"cli","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldlog":2,"memory":1,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"memorystore":undef,"oldprintlog":2,"valueoffset":24,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 01:36:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:36:41    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:36:41    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:36:41    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:36:41    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:36:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:36:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:36:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:36:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:36:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:36:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:36:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	294	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 01:36:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	296	file: stageparameter.tsv
2018-08-03 01:36:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	298	table: stageparameter
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"valueoffset":24,"yaml":bless( [], "YAML::Tiny" ),"memory":1,"backup":1,"log":2,"oldlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"memorystore":undef,"oldprintlog":2,"printlog":2,"logtype":"cli"}, "Conf::Yaml" ),"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4"}
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 01:36:52    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	531	force: undef
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	534	submit: 1
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	535	username: testuser
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	536	project: Project1
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	537	workflow: Workflow1
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	538	workflownumber: 1
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	539	cluster: undef
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	540	start: 1
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	541	stop: 2
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	542	dryrun: undef
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	543	scheduler: local
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	550	exchange: undef
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	554	cluster: undef
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	555	submit: 1
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2535	status: running
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2545	hash: {"project":"Project1","username":"testuser","status":"running","name":"Workflow1","cluster":undef}
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2551	BEFORE _updateTable   hash: {"project":"Project1","username":"testuser","status":"running","name":"Workflow1","cluster":undef}
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2552	self->db: bless( {"database":"agua","logtype":"cli","user":"","printlog":2,"oldprintlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldlog":2,"password":"","indent":4,"dbfile":"/a/db/sqlite/agua.sqlite","dbtype":"sqlite","dbh":bless( {}, "DBI::db" ),"log":2,"sqlite":"","backup":0}, "DBase::SQLite" )
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2555	success: 1
2018-08-03 01:36:52    [DEBUG]   	Engine::Workflow::executeWorkflow	591	DOING self->setStages
2018-08-03 01:36:52        [GROUP]    	Engine::Workflow::setStages	1343	Engine::Workflow::setStages
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStages	1344	username: testuser
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStages	1345	cluster: undef
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStages	1346	project: Project1
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStages	1347	workflow: Workflow1
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStages	1348	scheduler: local
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStages	1355	slots: undef
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStages	1362	force: undef
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::checkPrevious	1681	start: 0
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStages	1364	previouscompleted: 1
2018-08-03 01:36:52        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"value":"","owner":"aguatest","inputParams":"","paramnumber":"1","appname":"FTP","args":"","format":"","username":"testuser","category":"filter","workflow":"Workflow1","argument":"--filter","workflownumber":1,"chained":0,"ordinal":0,"project":"Project1","description":"Download only files containing this text fragment","discretion":"optional","locked":0,"appnumber":"1","paramtype":"input","paramname":"filter","valuetype":"string","paramFunction":""},{"paramtype":"input","paramname":"outputdir","appnumber":"1","paramFunction":"","valuetype":"directory","project":"Project1","ordinal":0,"chained":0,"workflownumber":1,"locked":0,"discretion":"required","description":"Create this directory and download files to it","username":"testuser","format":"","args":"","argument":"--outputdir","workflow":"Workflow1","category":"outputdir","paramnumber":"2","inputParams":"","owner":"aguatest","value":"Project1/Workflow1/downloads","appname":"FTP"},{"appname":"FTP","value":"chr[XYM0-9]+.fa.gz","owner":"aguatest","inputParams":"","paramnumber":"3","category":"regex","workflow":"Workflow1","argument":"--regex","args":"","format":"","username":"testuser","description":"Download files matching this regular expression","discretion":"optional","locked":0,"workflownumber":1,"chained":0,"ordinal":0,"project":"Project1","valuetype":"string","paramFunction":"","appnumber":"1","paramtype":"input","paramname":"regex"},{"appnumber":"1","paramname":"type","paramtype":"input","valuetype":"string","paramFunction":"","ordinal":0,"chained":0,"workflownumber":1,"project":"Project1","discretion":"essential","description":"Type of page: html or text","locked":0,"format":"","args":"","username":"testuser","workflow":"Workflow1","category":"type","argument":"--type","value":"html","paramnumber":"4","owner":"aguatest","inputParams":"","appname":"FTP"},{"discretion":"required","description":"Download files linked on this page","locked":0,"ordinal":0,"workflownumber":1,"chained":0,"project":"Project1","valuetype":"string","paramFunction":"","appnumber":"1","paramtype":"input","paramname":"url","appname":"FTP","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","paramnumber":"5","inputParams":"","owner":"aguatest","workflow":"Workflow1","category":"url","argument":"--url","format":"","args":"","username":"testuser"}]
2018-08-03 01:36:52        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"appname":"unzipFiles","value":"1","paramnumber":"1","inputParams":"","owner":"aguatest","workflow":"Workflow1","category":"delete","argument":"--delete","format":"","args":"","username":"testuser","discretion":"optional","description":" Remove zipped files after unzipping","locked":0,"ordinal":0,"chained":0,"workflownumber":1,"project":"Project1","paramFunction":"","valuetype":"flag","appnumber":"2","paramtype":"input","paramname":"delete"},{"appname":"unzipFiles","value":"","paramnumber":"2","owner":"aguatest","inputParams":"","workflow":"Workflow1","category":"filter","argument":"--filter","format":"","args":"","username":"testuser","discretion":"optional","description":"Unzip only files containing this text fragment","locked":0,"ordinal":0,"workflownumber":1,"chained":0,"project":"Project1","valuetype":"string","paramFunction":"","appnumber":"2","paramname":"filter","paramtype":"input"},{"inputParams":"InputParams","owner":"aguatest","paramnumber":"3","value":"Project1/Workflow1/downloads","appname":"unzipFiles","username":"testuser","args":"input.outputdir.value","format":"","argument":"--inputdir","category":"inputdir","workflow":"Workflow1","project":"Project1","chained":0,"workflownumber":1,"ordinal":0,"locked":0,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","discretion":"essential","paramtype":"input","paramname":"inputdir","appnumber":"2","valuetype":"directory","paramFunction":""},{"args":"input.outputdir.value","format":"","username":"testuser","category":"outputdir","workflow":"Workflow1","argument":"--outputdir","value":"Project1/Workflow1/downloads","owner":"aguatest","inputParams":"InputParams","paramnumber":"4","appname":"unzipFiles","appnumber":"2","paramtype":"input","paramname":"outputdir","paramFunction":"","valuetype":"directory","chained":0,"workflownumber":1,"ordinal":0,"project":"Project1","description":"Unzip files to this directory","discretion":"required","locked":0},{"chained":1,"workflownumber":1,"ordinal":0,"project":"Project1","description":"Unzip only files matching this regular expression","discretion":"optional","locked":0,"appnumber":"2","paramtype":"input","paramname":"regex","valuetype":"string","paramFunction":"","value":"chr[XYM0-9]+.fa.gz","owner":"aguatest","inputParams":"","paramnumber":"5","appname":"unzipFiles","args":"input.regex.value","format":"","username":"testuser","category":"filter","workflow":"Workflow1","argument":"--regex"},{"paramtype":"input","paramname":"type","appnumber":"2","valuetype":"string","paramFunction":"","project":"Project1","workflownumber":1,"chained":0,"ordinal":0,"locked":0,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","discretion":"required","username":"testuser","args":"","format":"","argument":"--type","category":"type","workflow":"Workflow1","owner":"aguatest","inputParams":"","paramnumber":"6","value":"gunzip","appname":"unzipFiles"}]
2018-08-03 01:36:52        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"username":"testuser","format":"","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","argument":"--inputdir","workflow":"Workflow1","category":"inputdir","paramnumber":"1","owner":"aguatest","inputParams":"referencedir,outputdir,inputdir","value":"Project1/Workflow1/reference/fasta","appname":"elandIndex","paramname":"inputdir","paramtype":"input","appnumber":"3","valuetype":"directory","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","project":"Project1","ordinal":0,"workflownumber":1,"chained":0,"locked":0,"discretion":"essential","description":"Location of directory containing *.fa files"},{"workflow":"Workflow1","category":"outputdir","argument":"--outputdir","format":"","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","username":"testuser","appname":"elandIndex","value":"Project1/Workflow1/reference/eland","paramnumber":"2","owner":"aguatest","inputParams":"referencedir,outputdir,inputdir","valuetype":"directory","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","appnumber":"3","paramname":"outputdir","paramtype":"input","discretion":"required","description":"Print indexed files to this directory","locked":0,"ordinal":0,"workflownumber":1,"chained":0,"project":"Project1"},{"paramnumber":"3","inputParams":"","owner":"aguatest","value":"","appname":"elandIndex","username":"testuser","format":"","args":"input.subdirs.value","argument":"--subdirs","workflow":"Workflow1","category":"subdirs","project":"Project1","ordinal":0,"workflownumber":1,"chained":0,"locked":0,"discretion":"optional","description":"","paramtype":"input","paramname":"subdirs","appnumber":"3","valuetype":"flag","paramFunction":""}]
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStartStop	1724	# stages: 3
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStartStop	1729	self->start: 1
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStartStop	1730	self->stop: undef
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStartStop	1735	start: 1
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStartStop	1736	stop: 4
2018-08-03 01:36:52        [NOTE]   	Engine::Workflow::setStartStop	1757	4551 Setting start: 1
2018-08-03 01:36:52        [NOTE]   	Engine::Workflow::setStartStop	1758	4551 Setting stop: 4
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStages	1372	start: 1
2018-08-03 01:36:52        [DEBUG]   	Engine::Workflow::setStages	1373	stop: 4
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"conf":bless( {"valueoffset":24,"memorystore":undef,"memory":1,"log":2,"oldlog":2,"yaml":bless( [], "YAML::Tiny" ),"oldprintlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","indent":4,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","backup":1}, "Conf::Yaml" ),"log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 01:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	531	force: undef
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	534	submit: 1
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	535	username: testuser
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	536	project: Project1
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	537	workflow: Workflow1
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	538	workflownumber: 1
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	539	cluster: undef
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	540	start: 1
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	541	stop: 2
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	542	dryrun: undef
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	543	scheduler: local
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	550	exchange: undef
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	554	cluster: undef
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	555	submit: 1
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2535	status: running
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2545	hash: {"cluster":undef,"project":"Project1","username":"testuser","status":"running","name":"Workflow1"}
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2551	BEFORE _updateTable   hash: {"cluster":undef,"project":"Project1","username":"testuser","status":"running","name":"Workflow1"}
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2552	self->db: bless( {"user":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","database":"agua","backup":0,"password":"","dbtype":"sqlite","logtype":"cli","indent":4,"dbfile":"/a/db/sqlite/agua.sqlite","oldprintlog":2,"printlog":2,"dbh":bless( {}, "DBI::db" ),"sqlite":"","oldlog":2,"log":2}, "DBase::SQLite" )
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2555	success: 1
2018-08-03 01:42:36    [DEBUG]   	Engine::Workflow::executeWorkflow	591	DOING self->setStages
2018-08-03 01:42:36        [GROUP]    	Engine::Workflow::setStages	1343	Engine::Workflow::setStages
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStages	1344	username: testuser
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStages	1345	cluster: undef
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStages	1346	project: Project1
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStages	1347	workflow: Workflow1
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStages	1348	scheduler: local
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStages	1355	slots: undef
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStages	1362	force: undef
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::checkPrevious	1681	start: 0
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStages	1364	previouscompleted: 1
2018-08-03 01:42:36        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"value":"","category":"filter","chained":0,"ordinal":0,"args":"","format":"","locked":0,"workflownumber":1,"paramtype":"input","valuetype":"string","paramname":"filter","paramnumber":"1","username":"testuser","argument":"--filter","description":"Download only files containing this text fragment","discretion":"optional","appnumber":"1","workflow":"Workflow1","inputParams":"","paramFunction":"","project":"Project1","appname":"FTP","owner":"aguatest"},{"username":"testuser","paramnumber":"2","valuetype":"directory","paramtype":"input","paramname":"outputdir","workflownumber":1,"locked":0,"format":"","args":"","ordinal":0,"chained":0,"category":"outputdir","value":"Project1/Workflow1/downloads","owner":"aguatest","appname":"FTP","project":"Project1","inputParams":"","paramFunction":"","discretion":"required","description":"Create this directory and download files to it","workflow":"Workflow1","appnumber":"1","argument":"--outputdir"},{"args":"","ordinal":0,"format":"","value":"chr[XYM0-9]+.fa.gz","category":"regex","chained":0,"paramtype":"input","valuetype":"string","paramname":"regex","workflownumber":1,"username":"testuser","paramnumber":"3","locked":0,"inputParams":"","paramFunction":"","discretion":"optional","description":"Download files matching this regular expression","workflow":"Workflow1","appnumber":"1","argument":"--regex","owner":"aguatest","project":"Project1","appname":"FTP"},{"ordinal":0,"args":"","format":"","value":"html","chained":0,"category":"type","workflownumber":1,"paramtype":"input","valuetype":"string","paramname":"type","paramnumber":"4","username":"testuser","locked":0,"paramFunction":"","inputParams":"","argument":"--type","description":"Type of page: html or text","discretion":"essential","appnumber":"1","workflow":"Workflow1","owner":"aguatest","project":"Project1","appname":"FTP"},{"project":"Project1","appname":"FTP","owner":"aguatest","appnumber":"1","description":"Download files linked on this page","discretion":"required","workflow":"Workflow1","argument":"--url","inputParams":"","paramFunction":"","locked":0,"paramname":"url","valuetype":"string","paramtype":"input","workflownumber":1,"paramnumber":"5","username":"testuser","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","chained":0,"category":"url","args":"","ordinal":0,"format":""}]
2018-08-03 01:42:36        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"argument":"--delete","workflow":"Workflow1","description":" Remove zipped files after unzipping","discretion":"optional","appnumber":"2","paramFunction":"","inputParams":"","project":"Project1","appname":"unzipFiles","owner":"aguatest","value":"1","category":"delete","chained":0,"ordinal":0,"args":"","format":"","locked":0,"workflownumber":1,"valuetype":"flag","paramname":"delete","paramtype":"input","username":"testuser","paramnumber":"1"},{"chained":0,"category":"filter","value":"","format":"","args":"","ordinal":0,"locked":0,"paramnumber":"2","username":"testuser","valuetype":"string","paramname":"filter","paramtype":"input","workflownumber":1,"appnumber":"2","description":"Unzip only files containing this text fragment","discretion":"optional","workflow":"Workflow1","argument":"--filter","paramFunction":"","inputParams":"","appname":"unzipFiles","project":"Project1","owner":"aguatest"},{"appname":"unzipFiles","project":"Project1","owner":"aguatest","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","appnumber":"2","discretion":"essential","workflow":"Workflow1","argument":"--inputdir","inputParams":"InputParams","paramFunction":"","locked":0,"username":"testuser","paramnumber":"3","paramname":"inputdir","valuetype":"directory","paramtype":"input","workflownumber":1,"chained":0,"category":"inputdir","value":"Project1/Workflow1/downloads","format":"","args":"input.outputdir.value","ordinal":0},{"inputParams":"InputParams","paramFunction":"","description":"Unzip files to this directory","discretion":"required","workflow":"Workflow1","appnumber":"2","argument":"--outputdir","owner":"aguatest","appname":"unzipFiles","project":"Project1","format":"","args":"input.outputdir.value","ordinal":0,"category":"outputdir","chained":0,"value":"Project1/Workflow1/downloads","paramnumber":"4","username":"testuser","valuetype":"directory","paramtype":"input","paramname":"outputdir","workflownumber":1,"locked":0},{"project":"Project1","appname":"unzipFiles","owner":"aguatest","argument":"--regex","description":"Unzip only files matching this regular expression","discretion":"optional","appnumber":"2","workflow":"Workflow1","paramFunction":"","inputParams":"","locked":0,"workflownumber":1,"paramname":"regex","valuetype":"string","paramtype":"input","username":"testuser","paramnumber":"5","value":"chr[XYM0-9]+.fa.gz","chained":1,"category":"filter","ordinal":0,"args":"input.regex.value","format":""},{"category":"type","chained":0,"value":"gunzip","format":"","args":"","ordinal":0,"locked":0,"paramnumber":"6","username":"testuser","paramname":"type","valuetype":"string","paramtype":"input","workflownumber":1,"workflow":"Workflow1","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","discretion":"required","appnumber":"2","argument":"--type","inputParams":"","paramFunction":"","appname":"unzipFiles","project":"Project1","owner":"aguatest"}]
2018-08-03 01:42:36        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"owner":"aguatest","appname":"elandIndex","project":"Project1","inputParams":"referencedir,outputdir,inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","discretion":"essential","description":"Location of directory containing *.fa files","appnumber":"3","workflow":"Workflow1","argument":"--inputdir","username":"testuser","paramnumber":"1","paramname":"inputdir","valuetype":"directory","paramtype":"input","workflownumber":1,"locked":0,"format":"","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","ordinal":0,"chained":0,"category":"inputdir","value":"Project1/Workflow1/reference/fasta"},{"value":"Project1/Workflow1/reference/eland","category":"outputdir","chained":0,"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","ordinal":0,"format":"","locked":0,"paramtype":"input","valuetype":"directory","paramname":"outputdir","workflownumber":1,"paramnumber":"2","username":"testuser","description":"Print indexed files to this directory","discretion":"required","appnumber":"3","workflow":"Workflow1","argument":"--outputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","inputParams":"referencedir,outputdir,inputdir","project":"Project1","appname":"elandIndex","owner":"aguatest"},{"chained":0,"category":"subdirs","value":"","format":"","args":"input.subdirs.value","ordinal":0,"locked":0,"username":"testuser","paramnumber":"3","paramname":"subdirs","valuetype":"flag","paramtype":"input","workflownumber":1,"discretion":"optional","description":"","appnumber":"3","workflow":"Workflow1","argument":"--subdirs","inputParams":"","paramFunction":"","appname":"elandIndex","project":"Project1","owner":"aguatest"}]
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStartStop	1724	# stages: 3
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStartStop	1729	self->start: 1
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStartStop	1730	self->stop: undef
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStartStop	1735	start: 1
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStartStop	1736	stop: 4
2018-08-03 01:42:36        [NOTE]   	Engine::Workflow::setStartStop	1757	4665 Setting start: 1
2018-08-03 01:42:36        [NOTE]   	Engine::Workflow::setStartStop	1758	4665 Setting stop: 4
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStages	1372	start: 1
2018-08-03 01:42:36        [DEBUG]   	Engine::Workflow::setStages	1373	stop: 4
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"oldlog":2,"logtype":"cli","valueoffset":24,"oldprintlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"indent":4,"yaml":bless( [], "YAML::Tiny" ),"printlog":2,"memorystore":undef,"log":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","memory":1}, "Conf::Yaml" ),"printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4"}
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 01:43:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	531	force: undef
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	534	submit: 1
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	535	username: testuser
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	536	project: Project1
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	537	workflow: Workflow1
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	538	workflownumber: 1
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	539	cluster: undef
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	540	start: 1
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	541	stop: 2
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	542	dryrun: undef
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	543	scheduler: local
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	550	exchange: undef
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	554	cluster: undef
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	555	submit: 1
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2535	status: running
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2545	hash: {"project":"Project1","cluster":undef,"username":"testuser","name":"Workflow1","status":"running"}
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2551	BEFORE _updateTable   hash: {"project":"Project1","cluster":undef,"username":"testuser","name":"Workflow1","status":"running"}
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2552	self->db: bless( {"password":"","backup":0,"database":"agua","sqlite":"","dbtype":"sqlite","oldprintlog":2,"dbfile":"/a/db/sqlite/agua.sqlite","logtype":"cli","oldlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbh":bless( {}, "DBI::db" ),"log":2,"user":"","indent":4,"printlog":2}, "DBase::SQLite" )
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2555	success: 1
2018-08-03 01:43:34    [DEBUG]   	Engine::Workflow::executeWorkflow	591	DOING self->setStages
2018-08-03 01:43:34        [GROUP]    	Engine::Workflow::setStages	1343	Engine::Workflow::setStages
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStages	1344	username: testuser
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStages	1345	cluster: undef
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStages	1346	project: Project1
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStages	1347	workflow: Workflow1
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStages	1348	scheduler: local
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStages	1355	slots: undef
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStages	1362	force: undef
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::checkPrevious	1681	start: 0
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStages	1364	previouscompleted: 1
2018-08-03 01:43:34        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"format":"","paramname":"filter","discretion":"optional","chained":0,"owner":"aguatest","username":"testuser","workflow":"Workflow1","description":"Download only files containing this text fragment","paramnumber":"1","argument":"--filter","inputParams":"","workflownumber":1,"category":"filter","project":"Project1","value":"","paramtype":"input","paramFunction":"","appname":"FTP","valuetype":"string","args":"","ordinal":0,"appnumber":"1","locked":0},{"args":"","locked":0,"appnumber":"1","ordinal":0,"valuetype":"directory","value":"Project1/Workflow1/downloads","paramFunction":"","appname":"FTP","paramtype":"input","category":"outputdir","inputParams":"","workflownumber":1,"project":"Project1","argument":"--outputdir","paramnumber":"2","username":"testuser","workflow":"Workflow1","description":"Create this directory and download files to it","owner":"aguatest","paramname":"outputdir","format":"","discretion":"required","chained":0},{"category":"regex","inputParams":"","project":"Project1","workflownumber":1,"argument":"--regex","paramFunction":"","appname":"FTP","paramtype":"input","value":"chr[XYM0-9]+.fa.gz","valuetype":"string","locked":0,"appnumber":"1","ordinal":0,"args":"","chained":0,"discretion":"optional","paramname":"regex","format":"","owner":"aguatest","description":"Download files matching this regular expression","workflow":"Workflow1","username":"testuser","paramnumber":"3"},{"valuetype":"string","appnumber":"1","locked":0,"ordinal":0,"args":"","inputParams":"","category":"type","project":"Project1","workflownumber":1,"argument":"--type","paramFunction":"","appname":"FTP","paramtype":"input","value":"html","description":"Type of page: html or text","workflow":"Workflow1","username":"testuser","paramnumber":"4","chained":0,"discretion":"essential","paramname":"type","format":"","owner":"aguatest"},{"valuetype":"string","args":"","ordinal":0,"locked":0,"appnumber":"1","argument":"--url","workflownumber":1,"inputParams":"","category":"url","project":"Project1","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","paramtype":"input","paramFunction":"","appname":"FTP","username":"testuser","description":"Download files linked on this page","workflow":"Workflow1","paramnumber":"5","format":"","paramname":"url","chained":0,"discretion":"required","owner":"aguatest"}]
2018-08-03 01:43:34        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"paramtype":"input","paramFunction":"","appname":"unzipFiles","value":"1","argument":"--delete","project":"Project1","inputParams":"","category":"delete","workflownumber":1,"ordinal":0,"locked":0,"appnumber":"2","args":"","valuetype":"flag","owner":"aguatest","discretion":"optional","chained":0,"format":"","paramname":"delete","paramnumber":"1","workflow":"Workflow1","description":" Remove zipped files after unzipping","username":"testuser"},{"ordinal":0,"appnumber":"2","locked":0,"args":"","valuetype":"string","appname":"unzipFiles","paramFunction":"","paramtype":"input","value":"","argument":"--filter","inputParams":"","category":"filter","workflownumber":1,"project":"Project1","paramnumber":"2","workflow":"Workflow1","description":"Unzip only files containing this text fragment","username":"testuser","owner":"aguatest","discretion":"optional","chained":0,"format":"","paramname":"filter"},{"username":"testuser","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","workflow":"Workflow1","paramnumber":"3","format":"","paramname":"inputdir","chained":0,"discretion":"essential","owner":"aguatest","valuetype":"directory","args":"input.outputdir.value","ordinal":0,"locked":0,"appnumber":"2","argument":"--inputdir","inputParams":"InputParams","workflownumber":1,"category":"inputdir","project":"Project1","value":"Project1/Workflow1/downloads","paramtype":"input","paramFunction":"","appname":"unzipFiles"},{"owner":"aguatest","discretion":"required","chained":0,"format":"","paramname":"outputdir","paramnumber":"4","workflow":"Workflow1","description":"Unzip files to this directory","username":"testuser","paramFunction":"","appname":"unzipFiles","paramtype":"input","value":"Project1/Workflow1/downloads","argument":"--outputdir","category":"outputdir","inputParams":"InputParams","project":"Project1","workflownumber":1,"ordinal":0,"appnumber":"2","locked":0,"args":"input.outputdir.value","valuetype":"directory"},{"username":"testuser","workflow":"Workflow1","description":"Unzip only files matching this regular expression","paramnumber":"5","paramname":"regex","format":"","discretion":"optional","chained":1,"owner":"aguatest","valuetype":"string","args":"input.regex.value","appnumber":"2","locked":0,"ordinal":0,"category":"filter","inputParams":"","workflownumber":1,"project":"Project1","argument":"--regex","value":"chr[XYM0-9]+.fa.gz","paramtype":"input","paramFunction":"","appname":"unzipFiles"},{"owner":"aguatest","discretion":"required","chained":0,"paramname":"type","format":"","paramnumber":"6","workflow":"Workflow1","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","username":"testuser","appname":"unzipFiles","paramFunction":"","paramtype":"input","value":"gunzip","inputParams":"","workflownumber":1,"category":"type","project":"Project1","argument":"--type","locked":0,"appnumber":"2","ordinal":0,"args":"","valuetype":"string"}]
2018-08-03 01:43:34        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","ordinal":0,"locked":0,"appnumber":"3","valuetype":"directory","value":"Project1/Workflow1/reference/fasta","paramtype":"input","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","appname":"elandIndex","argument":"--inputdir","inputParams":"referencedir,outputdir,inputdir","workflownumber":1,"category":"inputdir","project":"Project1","paramnumber":"1","username":"testuser","description":"Location of directory containing *.fa files","workflow":"Workflow1","owner":"aguatest","format":"","paramname":"inputdir","chained":0,"discretion":"essential"},{"locked":0,"appnumber":"3","ordinal":0,"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","valuetype":"directory","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","appname":"elandIndex","paramtype":"input","value":"Project1/Workflow1/reference/eland","inputParams":"referencedir,outputdir,inputdir","workflownumber":1,"category":"outputdir","project":"Project1","argument":"--outputdir","paramnumber":"2","workflow":"Workflow1","description":"Print indexed files to this directory","username":"testuser","owner":"aguatest","chained":0,"discretion":"required","paramname":"outputdir","format":""},{"username":"testuser","workflow":"Workflow1","description":"","paramnumber":"3","paramname":"subdirs","format":"","discretion":"optional","chained":0,"owner":"aguatest","valuetype":"flag","args":"input.subdirs.value","appnumber":"3","locked":0,"ordinal":0,"inputParams":"","category":"subdirs","workflownumber":1,"project":"Project1","argument":"--subdirs","value":"","paramtype":"input","paramFunction":"","appname":"elandIndex"}]
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStartStop	1724	# stages: 3
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStartStop	1729	self->start: 1
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStartStop	1730	self->stop: undef
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStartStop	1735	start: 1
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStartStop	1736	stop: 4
2018-08-03 01:43:34        [NOTE]   	Engine::Workflow::setStartStop	1757	4689 Setting start: 1
2018-08-03 01:43:34        [NOTE]   	Engine::Workflow::setStartStop	1758	4689 Setting stop: 4
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStages	1372	start: 1
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStages	1373	stop: 4
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setStages	1377	fileroot: /home/testuser/agua
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setFileDirs	1511	fileroot: /home/testuser/agua
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setFileDirs	1512	project: Project1
2018-08-03 01:43:34        [DEBUG]   	Engine::Workflow::setFileDirs	1513	workflow: Workflow1
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5,"conf":bless( {"backup":1,"indent":4,"memorystore":undef,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","valueoffset":24,"memory":1,"logtype":"cli","oldlog":2,"oldprintlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"yaml":bless( [], "YAML::Tiny" ),"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2}, "Conf::Yaml" ),"log":"4"}
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 01:44:11    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	531	force: undef
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	534	submit: 1
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	535	username: testuser
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	536	project: Project1
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	537	workflow: Workflow1
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	538	workflownumber: 1
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	539	cluster: undef
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	540	start: 1
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	541	stop: 2
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	542	dryrun: undef
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	543	scheduler: local
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	550	exchange: undef
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	554	cluster: undef
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	555	submit: 1
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2535	status: running
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2545	hash: {"name":"Workflow1","status":"running","project":"Project1","username":"testuser","cluster":undef}
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2551	BEFORE _updateTable   hash: {"name":"Workflow1","status":"running","project":"Project1","username":"testuser","cluster":undef}
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2552	self->db: bless( {"sqlite":"","backup":0,"indent":4,"user":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","dbh":bless( {}, "DBI::db" ),"database":"agua","oldlog":2,"dbfile":"/a/db/sqlite/agua.sqlite","oldprintlog":2,"dbtype":"sqlite","printlog":2,"password":"","log":2}, "DBase::SQLite" )
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2555	success: 1
2018-08-03 01:44:11    [DEBUG]   	Engine::Workflow::executeWorkflow	591	DOING self->setStages
2018-08-03 01:44:11        [GROUP]    	Engine::Workflow::setStages	1343	Engine::Workflow::setStages
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStages	1344	username: testuser
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStages	1345	cluster: undef
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStages	1346	project: Project1
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStages	1347	workflow: Workflow1
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStages	1348	scheduler: local
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStages	1355	slots: undef
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStages	1362	force: undef
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::checkPrevious	1681	start: 0
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStages	1364	previouscompleted: 1
2018-08-03 01:44:11        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"workflow":"Workflow1","argument":"--filter","description":"Download only files containing this text fragment","locked":0,"chained":0,"username":"testuser","format":"","ordinal":0,"inputParams":"","value":"","paramtype":"input","project":"Project1","discretion":"optional","paramnumber":"1","appnumber":"1","owner":"aguatest","paramFunction":"","category":"filter","paramname":"filter","args":"","appname":"FTP","workflownumber":1,"valuetype":"string"},{"appnumber":"1","project":"Project1","discretion":"required","paramnumber":"2","paramtype":"input","value":"Project1/Workflow1/downloads","inputParams":"","valuetype":"directory","workflownumber":1,"args":"","appname":"FTP","paramname":"outputdir","owner":"aguatest","paramFunction":"","category":"outputdir","format":"","username":"testuser","chained":0,"locked":0,"description":"Create this directory and download files to it","argument":"--outputdir","workflow":"Workflow1","ordinal":0},{"valuetype":"string","workflownumber":1,"appname":"FTP","args":"","paramname":"regex","category":"regex","paramFunction":"","owner":"aguatest","appnumber":"1","discretion":"optional","paramnumber":"3","project":"Project1","paramtype":"input","value":"chr[XYM0-9]+.fa.gz","inputParams":"","ordinal":0,"format":"","username":"testuser","chained":0,"locked":0,"description":"Download files matching this regular expression","argument":"--regex","workflow":"Workflow1"},{"ordinal":0,"description":"Type of page: html or text","argument":"--type","workflow":"Workflow1","format":"","username":"testuser","chained":0,"locked":0,"owner":"aguatest","paramFunction":"","category":"type","valuetype":"string","workflownumber":1,"appname":"FTP","args":"","paramname":"type","value":"html","inputParams":"","appnumber":"1","paramnumber":"4","discretion":"essential","project":"Project1","paramtype":"input"},{"format":"","chained":0,"username":"testuser","locked":0,"description":"Download files linked on this page","argument":"--url","workflow":"Workflow1","ordinal":0,"appnumber":"1","paramnumber":"5","discretion":"required","project":"Project1","paramtype":"input","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","inputParams":"","valuetype":"string","workflownumber":1,"args":"","appname":"FTP","paramname":"url","category":"url","paramFunction":"","owner":"aguatest"}]
2018-08-03 01:44:11        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"paramname":"delete","appname":"unzipFiles","args":"","workflownumber":1,"valuetype":"flag","owner":"aguatest","paramFunction":"","category":"delete","paramtype":"input","discretion":"optional","paramnumber":"1","project":"Project1","appnumber":"2","inputParams":"","value":"1","ordinal":0,"locked":0,"username":"testuser","chained":0,"format":"","workflow":"Workflow1","argument":"--delete","description":" Remove zipped files after unzipping"},{"argument":"--filter","workflow":"Workflow1","description":"Unzip only files containing this text fragment","locked":0,"format":"","chained":0,"username":"testuser","ordinal":0,"inputParams":"","value":"","paramtype":"input","appnumber":"2","discretion":"optional","paramnumber":"2","project":"Project1","paramFunction":"","category":"filter","owner":"aguatest","appname":"unzipFiles","args":"","paramname":"filter","valuetype":"string","workflownumber":1},{"paramFunction":"","owner":"aguatest","category":"inputdir","valuetype":"directory","workflownumber":1,"args":"input.outputdir.value","appname":"unzipFiles","paramname":"inputdir","value":"Project1/Workflow1/downloads","inputParams":"InputParams","appnumber":"2","project":"Project1","discretion":"essential","paramnumber":"3","paramtype":"input","ordinal":0,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","argument":"--inputdir","workflow":"Workflow1","format":"","chained":0,"username":"testuser","locked":0},{"argument":"--outputdir","workflow":"Workflow1","description":"Unzip files to this directory","locked":0,"format":"","username":"testuser","chained":0,"ordinal":0,"inputParams":"InputParams","value":"Project1/Workflow1/downloads","paramtype":"input","appnumber":"2","discretion":"required","project":"Project1","paramnumber":"4","category":"outputdir","paramFunction":"","owner":"aguatest","args":"input.outputdir.value","appname":"unzipFiles","paramname":"outputdir","valuetype":"directory","workflownumber":1},{"inputParams":"","value":"chr[XYM0-9]+.fa.gz","paramtype":"input","appnumber":"2","paramnumber":"5","discretion":"optional","project":"Project1","owner":"aguatest","paramFunction":"","category":"filter","args":"input.regex.value","appname":"unzipFiles","paramname":"regex","valuetype":"string","workflownumber":1,"argument":"--regex","workflow":"Workflow1","description":"Unzip only files matching this regular expression","locked":0,"format":"","chained":1,"username":"testuser","ordinal":0},{"workflownumber":1,"valuetype":"string","paramname":"type","appname":"unzipFiles","args":"","paramFunction":"","owner":"aguatest","category":"type","project":"Project1","discretion":"required","paramnumber":"6","appnumber":"2","paramtype":"input","value":"gunzip","inputParams":"","ordinal":0,"chained":0,"username":"testuser","format":"","locked":0,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","workflow":"Workflow1","argument":"--type"}]
2018-08-03 01:44:11        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"locked":0,"username":"testuser","chained":0,"format":"","workflow":"Workflow1","argument":"--inputdir","description":"Location of directory containing *.fa files","ordinal":0,"paramtype":"input","discretion":"essential","paramnumber":"1","project":"Project1","appnumber":"3","inputParams":"referencedir,outputdir,inputdir","value":"Project1/Workflow1/reference/fasta","paramname":"inputdir","appname":"elandIndex","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","workflownumber":1,"valuetype":"directory","owner":"aguatest","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","category":"inputdir"},{"chained":0,"username":"testuser","format":"","locked":0,"description":"Print indexed files to this directory","workflow":"Workflow1","argument":"--outputdir","ordinal":0,"discretion":"required","project":"Project1","paramnumber":"2","appnumber":"3","paramtype":"input","value":"Project1/Workflow1/reference/eland","inputParams":"referencedir,outputdir,inputdir","workflownumber":1,"valuetype":"directory","paramname":"outputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","appname":"elandIndex","owner":"aguatest","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","category":"outputdir"},{"category":"subdirs","paramFunction":"","owner":"aguatest","valuetype":"flag","workflownumber":1,"appname":"elandIndex","args":"input.subdirs.value","paramname":"subdirs","value":"","inputParams":"","appnumber":"3","discretion":"optional","project":"Project1","paramnumber":"3","paramtype":"input","ordinal":0,"description":"","argument":"--subdirs","workflow":"Workflow1","format":"","chained":0,"username":"testuser","locked":0}]
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStartStop	1724	# stages: 3
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStartStop	1729	self->start: 1
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStartStop	1730	self->stop: undef
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStartStop	1735	start: 1
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStartStop	1736	stop: 4
2018-08-03 01:44:11        [NOTE]   	Engine::Workflow::setStartStop	1757	4703 Setting start: 1
2018-08-03 01:44:11        [NOTE]   	Engine::Workflow::setStartStop	1758	4703 Setting stop: 4
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStages	1372	start: 1
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStages	1373	stop: 4
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setStages	1377	fileroot: /home/testuser/agua
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setFileDirs	1511	fileroot: /home/testuser/agua
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setFileDirs	1512	project: Project1
2018-08-03 01:44:11        [DEBUG]   	Engine::Workflow::setFileDirs	1513	workflow: Workflow1
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"backup":1,"printlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","valueoffset":24,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"memory":1,"oldprintlog":2,"oldlog":2,"indent":4,"log":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","memorystore":undef}, "Conf::Yaml" )}
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 01:44:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	531	force: undef
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	534	submit: 1
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	535	username: testuser
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	536	project: Project1
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	537	workflow: Workflow1
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	538	workflownumber: 1
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	539	cluster: undef
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	540	start: 1
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	541	stop: 2
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	542	dryrun: undef
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	543	scheduler: local
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	550	exchange: undef
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	554	cluster: undef
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	555	submit: 1
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2535	status: running
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2545	hash: {"cluster":undef,"username":"testuser","name":"Workflow1","status":"running","project":"Project1"}
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2551	BEFORE _updateTable   hash: {"cluster":undef,"username":"testuser","name":"Workflow1","status":"running","project":"Project1"}
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2552	self->db: bless( {"dbfile":"/a/db/sqlite/agua.sqlite","user":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","password":"","log":2,"sqlite":"","indent":4,"oldprintlog":2,"oldlog":2,"dbh":bless( {}, "DBI::db" ),"logtype":"cli","dbtype":"sqlite","database":"agua","printlog":2,"backup":0}, "DBase::SQLite" )
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2555	success: 1
2018-08-03 01:44:54    [DEBUG]   	Engine::Workflow::executeWorkflow	591	DOING self->setStages
2018-08-03 01:44:54        [GROUP]    	Engine::Workflow::setStages	1343	Engine::Workflow::setStages
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStages	1344	username: testuser
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStages	1345	cluster: undef
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStages	1346	project: Project1
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStages	1347	workflow: Workflow1
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStages	1348	scheduler: local
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStages	1355	slots: undef
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStages	1362	force: undef
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::checkPrevious	1681	start: 0
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStages	1364	previouscompleted: 1
2018-08-03 01:44:54        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"locked":0,"inputParams":"","discretion":"optional","username":"testuser","project":"Project1","owner":"aguatest","argument":"--filter","category":"filter","workflownumber":1,"appname":"FTP","paramtype":"input","value":"","valuetype":"string","args":"","paramnumber":"1","workflow":"Workflow1","chained":0,"ordinal":0,"format":"","paramname":"filter","paramFunction":"","appnumber":"1","description":"Download only files containing this text fragment"},{"paramnumber":"2","workflow":"Workflow1","chained":0,"ordinal":0,"format":"","paramname":"outputdir","description":"Create this directory and download files to it","appnumber":"1","paramFunction":"","discretion":"required","inputParams":"","locked":0,"username":"testuser","project":"Project1","owner":"aguatest","workflownumber":1,"category":"outputdir","argument":"--outputdir","value":"Project1/Workflow1/downloads","appname":"FTP","paramtype":"input","args":"","valuetype":"directory"},{"owner":"aguatest","argument":"--regex","category":"regex","workflownumber":1,"appname":"FTP","paramtype":"input","value":"chr[XYM0-9]+.fa.gz","args":"","valuetype":"string","locked":0,"inputParams":"","discretion":"optional","username":"testuser","project":"Project1","ordinal":0,"chained":0,"workflow":"Workflow1","format":"","paramname":"regex","appnumber":"1","paramFunction":"","description":"Download files matching this regular expression","paramnumber":"3"},{"paramnumber":"4","description":"Type of page: html or text","appnumber":"1","paramFunction":"","paramname":"type","format":"","ordinal":0,"chained":0,"workflow":"Workflow1","project":"Project1","username":"testuser","discretion":"essential","inputParams":"","locked":0,"valuetype":"string","args":"","value":"html","paramtype":"input","appname":"FTP","category":"type","workflownumber":1,"argument":"--type","owner":"aguatest"},{"paramnumber":"5","ordinal":0,"chained":0,"workflow":"Workflow1","format":"","paramname":"url","paramFunction":"","appnumber":"1","description":"Download files linked on this page","locked":0,"discretion":"required","inputParams":"","username":"testuser","project":"Project1","owner":"aguatest","argument":"--url","workflownumber":1,"category":"url","appname":"FTP","paramtype":"input","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","args":"","valuetype":"string"}]
2018-08-03 01:44:54        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"locked":0,"inputParams":"","discretion":"optional","project":"Project1","username":"testuser","argument":"--delete","category":"delete","workflownumber":1,"owner":"aguatest","valuetype":"flag","args":"","appname":"unzipFiles","paramtype":"input","value":"1","paramnumber":"1","format":"","ordinal":0,"chained":0,"workflow":"Workflow1","appnumber":"2","paramFunction":"","description":" Remove zipped files after unzipping","paramname":"delete"},{"paramnumber":"2","paramname":"filter","description":"Unzip only files containing this text fragment","appnumber":"2","paramFunction":"","workflow":"Workflow1","chained":0,"ordinal":0,"format":"","username":"testuser","project":"Project1","inputParams":"","discretion":"optional","locked":0,"value":"","appname":"unzipFiles","paramtype":"input","args":"","valuetype":"string","owner":"aguatest","category":"filter","workflownumber":1,"argument":"--filter"},{"discretion":"essential","inputParams":"InputParams","locked":0,"project":"Project1","username":"testuser","workflownumber":1,"category":"inputdir","argument":"--inputdir","owner":"aguatest","valuetype":"directory","args":"input.outputdir.value","value":"Project1/Workflow1/downloads","paramtype":"input","appname":"unzipFiles","paramnumber":"3","format":"","workflow":"Workflow1","chained":0,"ordinal":0,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","appnumber":"2","paramFunction":"","paramname":"inputdir"},{"locked":0,"discretion":"required","inputParams":"InputParams","project":"Project1","username":"testuser","argument":"--outputdir","workflownumber":1,"category":"outputdir","owner":"aguatest","valuetype":"directory","args":"input.outputdir.value","appname":"unzipFiles","paramtype":"input","value":"Project1/Workflow1/downloads","paramnumber":"4","format":"","chained":0,"workflow":"Workflow1","ordinal":0,"paramFunction":"","appnumber":"2","description":"Unzip files to this directory","paramname":"outputdir"},{"format":"","chained":1,"ordinal":0,"workflow":"Workflow1","paramFunction":"","appnumber":"2","description":"Unzip only files matching this regular expression","paramname":"regex","paramnumber":"5","argument":"--regex","workflownumber":1,"category":"filter","owner":"aguatest","valuetype":"string","args":"input.regex.value","paramtype":"input","appname":"unzipFiles","value":"chr[XYM0-9]+.fa.gz","locked":0,"inputParams":"","discretion":"optional","project":"Project1","username":"testuser"},{"paramnumber":"6","ordinal":0,"chained":0,"workflow":"Workflow1","format":"","paramname":"type","appnumber":"2","paramFunction":"","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","locked":0,"inputParams":"","discretion":"required","username":"testuser","project":"Project1","owner":"aguatest","argument":"--type","workflownumber":1,"category":"type","paramtype":"input","appname":"unzipFiles","value":"gunzip","valuetype":"string","args":""}]
2018-08-03 01:44:54        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"username":"testuser","project":"Project1","inputParams":"referencedir,outputdir,inputdir","discretion":"essential","locked":0,"value":"Project1/Workflow1/reference/fasta","paramtype":"input","appname":"elandIndex","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","valuetype":"directory","owner":"aguatest","category":"inputdir","workflownumber":1,"argument":"--inputdir","paramnumber":"1","paramname":"inputdir","description":"Location of directory containing *.fa files","appnumber":"3","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","chained":0,"workflow":"Workflow1","ordinal":0,"format":""},{"format":"","chained":0,"ordinal":0,"workflow":"Workflow1","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","appnumber":"3","description":"Print indexed files to this directory","paramname":"outputdir","paramnumber":"2","argument":"--outputdir","category":"outputdir","workflownumber":1,"owner":"aguatest","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","valuetype":"directory","paramtype":"input","appname":"elandIndex","value":"Project1/Workflow1/reference/eland","locked":0,"discretion":"required","inputParams":"referencedir,outputdir,inputdir","project":"Project1","username":"testuser"},{"chained":0,"workflow":"Workflow1","ordinal":0,"format":"","paramname":"subdirs","paramFunction":"","appnumber":"3","description":"","paramnumber":"3","owner":"aguatest","argument":"--subdirs","workflownumber":1,"category":"subdirs","appname":"elandIndex","paramtype":"input","value":"","valuetype":"flag","args":"input.subdirs.value","locked":0,"inputParams":"","discretion":"optional","username":"testuser","project":"Project1"}]
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStartStop	1724	# stages: 3
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStartStop	1729	self->start: 1
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStartStop	1730	self->stop: undef
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStartStop	1735	start: 1
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStartStop	1736	stop: 4
2018-08-03 01:44:54        [NOTE]   	Engine::Workflow::setStartStop	1757	4724 Setting start: 1
2018-08-03 01:44:54        [NOTE]   	Engine::Workflow::setStartStop	1758	4724 Setting stop: 4
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStages	1372	start: 1
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStages	1373	stop: 4
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setStages	1377	fileroot: /home/testuser/agua
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setFileDirs	1511	fileroot: /home/testuser/agua
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setFileDirs	1512	project: Project1
2018-08-03 01:44:54        [DEBUG]   	Engine::Workflow::setFileDirs	1513	workflow: Workflow1
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"logtype":"cli","yaml":bless( [], "YAML::Tiny" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"valueoffset":24,"memory":1,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"indent":4,"oldlog":2,"log":2,"memorystore":undef}, "Conf::Yaml" ),"printlog":5,"log":"4"}
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 01:46:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	531	force: undef
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	534	submit: 1
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	535	username: testuser
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	536	project: Project1
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	537	workflow: Workflow1
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	538	workflownumber: 1
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	539	cluster: undef
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	540	start: 1
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	541	stop: 2
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	542	dryrun: undef
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	543	scheduler: local
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	550	exchange: undef
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	554	cluster: undef
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	555	submit: 1
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2535	status: running
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2545	hash: {"name":"Workflow1","status":"running","project":"Project1","username":"testuser","cluster":undef}
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2551	BEFORE _updateTable   hash: {"name":"Workflow1","status":"running","project":"Project1","username":"testuser","cluster":undef}
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2552	self->db: bless( {"log":2,"sqlite":"","database":"agua","backup":0,"indent":4,"dbtype":"sqlite","password":"","oldlog":2,"oldprintlog":2,"dbh":bless( {}, "DBI::db" ),"user":"","logtype":"cli","printlog":2,"dbfile":"/a/db/sqlite/agua.sqlite","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}, "DBase::SQLite" )
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2555	success: 1
2018-08-03 01:46:51    [DEBUG]   	Engine::Workflow::executeWorkflow	591	DOING self->setStages
2018-08-03 01:46:51        [GROUP]    	Engine::Workflow::setStages	1343	Engine::Workflow::setStages
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStages	1344	username: testuser
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStages	1345	cluster: undef
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStages	1346	project: Project1
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStages	1347	workflow: Workflow1
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStages	1348	scheduler: local
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStages	1355	slots: undef
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStages	1362	force: undef
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::checkPrevious	1681	start: 0
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStages	1364	previouscompleted: 1
2018-08-03 01:46:51        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"valuetype":"string","description":"Download only files containing this text fragment","workflow":"Workflow1","inputParams":"","paramFunction":"","owner":"aguatest","discretion":"optional","paramtype":"input","appname":"FTP","argument":"--filter","category":"filter","paramnumber":"1","chained":0,"args":"","project":"Project1","workflownumber":1,"paramname":"filter","value":"","locked":0,"username":"testuser","ordinal":0,"appnumber":"1","format":""},{"workflow":"Workflow1","description":"Create this directory and download files to it","valuetype":"directory","inputParams":"","paramFunction":"","discretion":"required","owner":"aguatest","paramtype":"input","argument":"--outputdir","appname":"FTP","category":"outputdir","chained":0,"paramnumber":"2","args":"","paramname":"outputdir","project":"Project1","workflownumber":1,"value":"Project1/Workflow1/downloads","locked":0,"appnumber":"1","ordinal":0,"username":"testuser","format":""},{"inputParams":"","paramFunction":"","owner":"aguatest","discretion":"optional","valuetype":"string","description":"Download files matching this regular expression","workflow":"Workflow1","appname":"FTP","argument":"--regex","paramtype":"input","project":"Project1","workflownumber":1,"paramname":"regex","category":"regex","chained":0,"paramnumber":"3","args":"","ordinal":0,"username":"testuser","appnumber":"1","format":"","value":"chr[XYM0-9]+.fa.gz","locked":0},{"argument":"--type","appname":"FTP","paramtype":"input","inputParams":"","paramFunction":"","owner":"aguatest","discretion":"essential","description":"Type of page: html or text","workflow":"Workflow1","valuetype":"string","ordinal":0,"username":"testuser","appnumber":"1","format":"","value":"html","locked":0,"paramname":"type","project":"Project1","workflownumber":1,"category":"type","chained":0,"paramnumber":"4","args":""},{"argument":"--url","appname":"FTP","paramtype":"input","inputParams":"","paramFunction":"","owner":"aguatest","discretion":"required","workflow":"Workflow1","description":"Download files linked on this page","valuetype":"string","ordinal":0,"username":"testuser","appnumber":"1","format":"","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","locked":0,"paramname":"url","workflownumber":1,"project":"Project1","category":"url","chained":0,"paramnumber":"5","args":""}]
2018-08-03 01:46:51        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"workflow":"Workflow1","description":" Remove zipped files after unzipping","valuetype":"flag","owner":"aguatest","discretion":"optional","paramFunction":"","inputParams":"","paramtype":"input","argument":"--delete","appname":"unzipFiles","chained":0,"args":"","paramnumber":"1","category":"delete","paramname":"delete","workflownumber":1,"project":"Project1","locked":0,"value":"1","format":"","username":"testuser","ordinal":0,"appnumber":"2"},{"argument":"--filter","appname":"unzipFiles","paramtype":"input","inputParams":"","paramFunction":"","discretion":"optional","owner":"aguatest","workflow":"Workflow1","description":"Unzip only files containing this text fragment","valuetype":"string","appnumber":"2","ordinal":0,"username":"testuser","format":"","value":"","locked":0,"paramname":"filter","workflownumber":1,"project":"Project1","category":"filter","chained":0,"paramnumber":"2","args":""},{"project":"Project1","workflownumber":1,"paramname":"inputdir","category":"inputdir","chained":0,"args":"input.outputdir.value","paramnumber":"3","appnumber":"2","ordinal":0,"username":"testuser","format":"","value":"Project1/Workflow1/downloads","locked":0,"inputParams":"InputParams","paramFunction":"","discretion":"essential","owner":"aguatest","valuetype":"directory","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","workflow":"Workflow1","appname":"unzipFiles","argument":"--inputdir","paramtype":"input"},{"paramtype":"input","appname":"unzipFiles","argument":"--outputdir","valuetype":"directory","description":"Unzip files to this directory","workflow":"Workflow1","discretion":"required","owner":"aguatest","inputParams":"InputParams","paramFunction":"","locked":0,"value":"Project1/Workflow1/downloads","format":"","username":"testuser","ordinal":0,"appnumber":"2","chained":0,"args":"input.outputdir.value","paramnumber":"4","category":"outputdir","workflownumber":1,"project":"Project1","paramname":"outputdir"},{"appname":"unzipFiles","argument":"--regex","paramtype":"input","owner":"aguatest","discretion":"optional","paramFunction":"","inputParams":"","valuetype":"string","description":"Unzip only files matching this regular expression","workflow":"Workflow1","format":"","ordinal":0,"appnumber":"2","username":"testuser","locked":0,"value":"chr[XYM0-9]+.fa.gz","project":"Project1","workflownumber":1,"paramname":"regex","paramnumber":"5","chained":1,"args":"input.regex.value","category":"filter"},{"paramtype":"input","argument":"--type","appname":"unzipFiles","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","workflow":"Workflow1","valuetype":"string","inputParams":"","paramFunction":"","discretion":"required","owner":"aguatest","value":"gunzip","locked":0,"ordinal":0,"username":"testuser","appnumber":"2","format":"","category":"type","chained":0,"args":"","paramnumber":"6","paramname":"type","workflownumber":1,"project":"Project1"}]
2018-08-03 01:46:51        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"format":"","ordinal":0,"username":"testuser","appnumber":"3","locked":0,"value":"Project1/Workflow1/reference/fasta","project":"Project1","workflownumber":1,"paramname":"inputdir","chained":0,"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramnumber":"1","category":"inputdir","appname":"elandIndex","argument":"--inputdir","paramtype":"input","discretion":"essential","owner":"aguatest","inputParams":"referencedir,outputdir,inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","valuetype":"directory","workflow":"Workflow1","description":"Location of directory containing *.fa files"},{"workflow":"Workflow1","description":"Print indexed files to this directory","valuetype":"directory","owner":"aguatest","discretion":"required","inputParams":"referencedir,outputdir,inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","paramtype":"input","argument":"--outputdir","appname":"elandIndex","chained":0,"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramnumber":"2","category":"outputdir","paramname":"outputdir","project":"Project1","workflownumber":1,"locked":0,"value":"Project1/Workflow1/reference/eland","format":"","appnumber":"3","ordinal":0,"username":"testuser"},{"paramtype":"input","argument":"--subdirs","appname":"elandIndex","workflow":"Workflow1","description":"","valuetype":"flag","discretion":"optional","owner":"aguatest","paramFunction":"","inputParams":"","locked":0,"value":"","format":"","username":"testuser","ordinal":0,"appnumber":"3","chained":0,"paramnumber":"3","args":"input.subdirs.value","category":"subdirs","paramname":"subdirs","workflownumber":1,"project":"Project1"}]
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStartStop	1724	# stages: 3
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStartStop	1729	self->start: 1
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStartStop	1730	self->stop: undef
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStartStop	1735	start: 1
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStartStop	1736	stop: 4
2018-08-03 01:46:51        [NOTE]   	Engine::Workflow::setStartStop	1757	4820 Setting start: 1
2018-08-03 01:46:51        [NOTE]   	Engine::Workflow::setStartStop	1758	4820 Setting stop: 4
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStages	1372	start: 1
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStages	1373	stop: 4
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStages	1377	fileroot: /home/testuser/agua
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setFileDirs	1511	fileroot: /home/testuser/agua
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setFileDirs	1512	project: Project1
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setFileDirs	1513	workflow: Workflow1
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setFileDirs	1517	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 01:46:51        [DEBUG]   	Engine::Workflow::setStages	1381	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"log":2,"backup":1,"printlog":2,"valueoffset":24,"indent":4,"memory":1,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldlog":2,"logtype":"cli","memorystore":undef,"yaml":bless( [], "YAML::Tiny" ),"oldprintlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:53:28    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:53:28    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:53:28    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:53:28    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 01:53:28    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 01:53:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	531	force: undef
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	534	submit: 1
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	535	username: testuser
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	536	project: Project1
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	537	workflow: Workflow1
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	538	workflownumber: 1
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	539	cluster: undef
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	540	start: 1
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	541	stop: 2
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	542	dryrun: undef
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	543	scheduler: local
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	550	exchange: undef
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	554	cluster: undef
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	555	submit: 1
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2535	status: running
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2545	hash: {"username":"testuser","project":"Project1","cluster":undef,"status":"running","name":"Workflow1"}
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2551	BEFORE _updateTable   hash: {"username":"testuser","project":"Project1","cluster":undef,"status":"running","name":"Workflow1"}
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2552	self->db: bless( {"dbfile":"/a/db/sqlite/agua.sqlite","oldprintlog":2,"password":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","sqlite":"","database":"agua","user":"","logtype":"cli","oldlog":2,"backup":0,"log":2,"indent":4,"printlog":2,"dbtype":"sqlite","dbh":bless( {}, "DBI::db" )}, "DBase::SQLite" )
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2555	success: 1
2018-08-03 01:53:29    [DEBUG]   	Engine::Workflow::executeWorkflow	591	DOING self->setStages
2018-08-03 01:53:29        [GROUP]    	Engine::Workflow::setStages	1343	Engine::Workflow::setStages
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStages	1344	username: testuser
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStages	1345	cluster: undef
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStages	1346	project: Project1
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStages	1347	workflow: Workflow1
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStages	1348	scheduler: local
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStages	1355	slots: undef
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStages	1362	force: undef
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::checkPrevious	1681	start: 0
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStages	1364	previouscompleted: 1
2018-08-03 01:53:29        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"paramtype":"input","format":"","paramnumber":"1","project":"Project1","appnumber":"1","value":"","locked":0,"category":"filter","paramFunction":"","description":"Download only files containing this text fragment","discretion":"optional","args":"","workflownumber":1,"workflow":"Workflow1","username":"testuser","appname":"FTP","ordinal":0,"valuetype":"string","argument":"--filter","owner":"aguatest","chained":0,"inputParams":"","paramname":"filter"},{"paramtype":"input","project":"Project1","appnumber":"1","format":"","paramnumber":"2","description":"Create this directory and download files to it","paramFunction":"","category":"outputdir","locked":0,"value":"Project1/Workflow1/downloads","args":"","discretion":"required","appname":"FTP","username":"testuser","workflow":"Workflow1","workflownumber":1,"argument":"--outputdir","valuetype":"directory","ordinal":0,"paramname":"outputdir","inputParams":"","chained":0,"owner":"aguatest"},{"workflow":"Workflow1","workflownumber":1,"appname":"FTP","username":"testuser","inputParams":"","paramname":"regex","chained":0,"owner":"aguatest","valuetype":"string","ordinal":0,"argument":"--regex","paramnumber":"3","format":"","appnumber":"1","project":"Project1","paramtype":"input","discretion":"optional","args":"","value":"chr[XYM0-9]+.fa.gz","paramFunction":"","description":"Download files matching this regular expression","locked":0,"category":"regex"},{"paramnumber":"4","format":"","project":"Project1","appnumber":"1","paramtype":"input","discretion":"essential","args":"","value":"html","description":"Type of page: html or text","paramFunction":"","category":"type","locked":0,"workflow":"Workflow1","workflownumber":1,"appname":"FTP","username":"testuser","paramname":"type","inputParams":"","chained":0,"owner":"aguatest","valuetype":"string","ordinal":0,"argument":"--type"},{"argument":"--url","ordinal":0,"valuetype":"string","owner":"aguatest","chained":0,"paramname":"url","inputParams":"","username":"testuser","appname":"FTP","workflownumber":1,"workflow":"Workflow1","category":"url","locked":0,"paramFunction":"","description":"Download files linked on this page","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","args":"","discretion":"required","paramtype":"input","appnumber":"1","project":"Project1","format":"","paramnumber":"5"}]
2018-08-03 01:53:29        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"description":" Remove zipped files after unzipping","paramFunction":"","locked":0,"category":"delete","value":"1","args":"","discretion":"optional","paramtype":"input","appnumber":"2","project":"Project1","format":"","paramnumber":"1","argument":"--delete","valuetype":"flag","ordinal":0,"inputParams":"","paramname":"delete","owner":"aguatest","chained":0,"appname":"unzipFiles","username":"testuser","workflow":"Workflow1","workflownumber":1},{"workflow":"Workflow1","workflownumber":1,"appname":"unzipFiles","username":"testuser","valuetype":"string","ordinal":0,"argument":"--filter","paramname":"filter","inputParams":"","owner":"aguatest","chained":0,"paramtype":"input","paramnumber":"2","format":"","project":"Project1","appnumber":"2","value":"","paramFunction":"","description":"Unzip only files containing this text fragment","category":"filter","locked":0,"discretion":"optional","args":""},{"paramname":"inputdir","inputParams":"InputParams","chained":0,"owner":"aguatest","valuetype":"directory","ordinal":0,"argument":"--inputdir","workflow":"Workflow1","workflownumber":1,"appname":"unzipFiles","username":"testuser","discretion":"essential","args":"input.outputdir.value","value":"Project1/Workflow1/downloads","paramFunction":"","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","locked":0,"category":"inputdir","paramnumber":"3","format":"","project":"Project1","appnumber":"2","paramtype":"input"},{"appname":"unzipFiles","username":"testuser","workflow":"Workflow1","workflownumber":1,"paramname":"outputdir","inputParams":"InputParams","owner":"aguatest","chained":0,"argument":"--outputdir","valuetype":"directory","ordinal":0,"project":"Project1","appnumber":"2","format":"","paramnumber":"4","paramtype":"input","args":"input.outputdir.value","discretion":"required","description":"Unzip files to this directory","paramFunction":"","locked":0,"category":"outputdir","value":"Project1/Workflow1/downloads"},{"paramtype":"input","appnumber":"2","project":"Project1","paramnumber":"5","format":"","category":"filter","locked":0,"description":"Unzip only files matching this regular expression","paramFunction":"","value":"chr[XYM0-9]+.fa.gz","args":"input.regex.value","discretion":"optional","username":"testuser","appname":"unzipFiles","workflownumber":1,"workflow":"Workflow1","argument":"--regex","ordinal":0,"valuetype":"string","chained":1,"owner":"aguatest","paramname":"regex","inputParams":""},{"paramtype":"input","appnumber":"2","project":"Project1","paramnumber":"6","format":"","category":"type","locked":0,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","paramFunction":"","value":"gunzip","args":"","discretion":"required","username":"testuser","appname":"unzipFiles","workflownumber":1,"workflow":"Workflow1","argument":"--type","ordinal":0,"valuetype":"string","owner":"aguatest","chained":0,"paramname":"type","inputParams":""}]
2018-08-03 01:53:29        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"workflownumber":1,"workflow":"Workflow1","username":"testuser","appname":"elandIndex","chained":0,"owner":"aguatest","inputParams":"referencedir,outputdir,inputdir","paramname":"inputdir","ordinal":0,"valuetype":"directory","argument":"--inputdir","format":"","paramnumber":"1","appnumber":"3","project":"Project1","paramtype":"input","discretion":"essential","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","value":"Project1/Workflow1/reference/fasta","locked":0,"category":"inputdir","description":"Location of directory containing *.fa files","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;"},{"description":"Print indexed files to this directory","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","category":"outputdir","locked":0,"value":"Project1/Workflow1/reference/eland","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","discretion":"required","paramtype":"input","project":"Project1","appnumber":"3","paramnumber":"2","format":"","argument":"--outputdir","valuetype":"directory","ordinal":0,"paramname":"outputdir","inputParams":"referencedir,outputdir,inputdir","chained":0,"owner":"aguatest","appname":"elandIndex","username":"testuser","workflow":"Workflow1","workflownumber":1},{"paramname":"subdirs","inputParams":"","owner":"aguatest","chained":0,"argument":"--subdirs","valuetype":"flag","ordinal":0,"appname":"elandIndex","username":"testuser","workflow":"Workflow1","workflownumber":1,"args":"input.subdirs.value","discretion":"optional","paramFunction":"","description":"","category":"subdirs","locked":0,"value":"","project":"Project1","appnumber":"3","format":"","paramnumber":"3","paramtype":"input"}]
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStartStop	1724	# stages: 3
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStartStop	1729	self->start: 1
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStartStop	1730	self->stop: undef
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStartStop	1735	start: 1
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStartStop	1736	stop: 4
2018-08-03 01:53:29        [NOTE]   	Engine::Workflow::setStartStop	1757	4929 Setting start: 1
2018-08-03 01:53:29        [NOTE]   	Engine::Workflow::setStartStop	1758	4929 Setting stop: 4
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStages	1372	start: 1
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStages	1373	stop: 4
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStages	1377	fileroot: /home/testuser/agua
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setFileDirs	1511	fileroot: /home/testuser/agua
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setFileDirs	1512	project: Project1
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setFileDirs	1513	workflow: Workflow1
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setFileDirs	1517	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 01:53:29        [DEBUG]   	Engine::Workflow::setStages	1381	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"valueoffset":24,"memorystore":undef,"logtype":"cli","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","indent":4,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"oldprintlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"printlog":2,"memory":1,"yaml":bless( [], "YAML::Tiny" ),"oldlog":2}, "Conf::Yaml" ),"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4"}
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::setDbObject	237	database: agua
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::setDbObject	238	user: agua
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::setDbObject	239	dbtype: SQLite
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::setDbObject	240	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 01:53:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	531	force: undef
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	534	submit: 1
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	535	username: testuser
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	536	project: Project1
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	537	workflow: Workflow1
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	538	workflownumber: 1
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	539	cluster: undef
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	540	start: 1
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	541	stop: 2
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	542	dryrun: undef
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	543	scheduler: local
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	550	exchange: undef
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	554	cluster: undef
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	555	submit: 1
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2535	status: running
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2545	hash: {"username":"testuser","cluster":undef,"project":"Project1","status":"running","name":"Workflow1"}
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2551	BEFORE _updateTable   hash: {"username":"testuser","cluster":undef,"project":"Project1","status":"running","name":"Workflow1"}
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2552	self->db: bless( {"backup":0,"oldprintlog":2,"sqlite":"","logtype":"cli","database":"agua","indent":4,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbh":bless( {}, "DBI::db" ),"dbfile":"/a/db/sqlite/agua.sqlite","user":"","oldlog":2,"log":2,"password":"","printlog":2,"dbtype":"sqlite"}, "DBase::SQLite" )
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2555	success: 1
2018-08-03 01:53:46    [DEBUG]   	Engine::Workflow::executeWorkflow	591	DOING self->setStages
2018-08-03 01:53:46        [GROUP]    	Engine::Workflow::setStages	1343	Engine::Workflow::setStages
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStages	1344	username: testuser
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStages	1345	cluster: undef
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStages	1346	project: Project1
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStages	1347	workflow: Workflow1
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStages	1348	scheduler: local
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStages	1355	slots: undef
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStages	1362	force: undef
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::checkPrevious	1681	start: 0
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStages	1364	previouscompleted: 1
2018-08-03 01:53:46        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"paramname":"filter","paramFunction":"","paramnumber":"1","discretion":"optional","ordinal":0,"format":"","locked":0,"appnumber":"1","workflow":"Workflow1","argument":"--filter","username":"testuser","appname":"FTP","workflownumber":1,"args":"","description":"Download only files containing this text fragment","category":"filter","valuetype":"string","chained":0,"owner":"aguatest","inputParams":"","value":"","paramtype":"input","project":"Project1"},{"paramnumber":"2","paramFunction":"","paramname":"outputdir","ordinal":0,"discretion":"required","format":"","workflow":"Workflow1","locked":0,"appnumber":"1","workflownumber":1,"appname":"FTP","argument":"--outputdir","username":"testuser","args":"","category":"outputdir","description":"Create this directory and download files to it","valuetype":"directory","chained":0,"inputParams":"","owner":"aguatest","project":"Project1","value":"Project1/Workflow1/downloads","paramtype":"input"},{"owner":"aguatest","inputParams":"","value":"chr[XYM0-9]+.fa.gz","paramtype":"input","project":"Project1","category":"regex","args":"","description":"Download files matching this regular expression","chained":0,"valuetype":"string","locked":0,"appnumber":"1","workflow":"Workflow1","argument":"--regex","username":"testuser","workflownumber":1,"appname":"FTP","paramname":"regex","paramFunction":"","paramnumber":"3","format":"","ordinal":0,"discretion":"optional"},{"workflow":"Workflow1","locked":0,"appnumber":"1","workflownumber":1,"appname":"FTP","argument":"--type","username":"testuser","paramnumber":"4","paramname":"type","paramFunction":"","format":"","ordinal":0,"discretion":"essential","inputParams":"","owner":"aguatest","project":"Project1","value":"html","paramtype":"input","args":"","description":"Type of page: html or text","category":"type","chained":0,"valuetype":"string"},{"paramname":"url","paramFunction":"","paramnumber":"5","discretion":"required","ordinal":0,"format":"","appnumber":"1","locked":0,"workflow":"Workflow1","username":"testuser","argument":"--url","appname":"FTP","workflownumber":1,"args":"","description":"Download files linked on this page","category":"url","valuetype":"string","chained":0,"owner":"aguatest","inputParams":"","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","paramtype":"input","project":"Project1"}]
2018-08-03 01:53:46        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"workflow":"Workflow1","locked":0,"appnumber":"2","appname":"unzipFiles","workflownumber":1,"argument":"--delete","username":"testuser","paramnumber":"1","paramname":"delete","paramFunction":"","ordinal":0,"discretion":"optional","format":"","inputParams":"","owner":"aguatest","project":"Project1","value":"1","paramtype":"input","args":"","category":"delete","description":" Remove zipped files after unzipping","valuetype":"flag","chained":0},{"paramFunction":"","paramname":"filter","paramnumber":"2","format":"","ordinal":0,"discretion":"optional","appnumber":"2","locked":0,"workflow":"Workflow1","username":"testuser","argument":"--filter","workflownumber":1,"appname":"unzipFiles","description":"Unzip only files containing this text fragment","args":"","category":"filter","chained":0,"valuetype":"string","owner":"aguatest","inputParams":"","value":"","paramtype":"input","project":"Project1"},{"workflow":"Workflow1","locked":0,"appnumber":"2","workflownumber":1,"appname":"unzipFiles","username":"testuser","argument":"--inputdir","paramnumber":"3","paramname":"inputdir","paramFunction":"","ordinal":0,"discretion":"essential","format":"","inputParams":"InputParams","owner":"aguatest","project":"Project1","paramtype":"input","value":"Project1/Workflow1/downloads","args":"input.outputdir.value","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","category":"inputdir","valuetype":"directory","chained":0},{"appnumber":"2","locked":0,"workflow":"Workflow1","username":"testuser","argument":"--outputdir","appname":"unzipFiles","workflownumber":1,"paramFunction":"","paramname":"outputdir","paramnumber":"4","format":"","discretion":"required","ordinal":0,"owner":"aguatest","inputParams":"InputParams","value":"Project1/Workflow1/downloads","paramtype":"input","project":"Project1","category":"outputdir","args":"input.outputdir.value","description":"Unzip files to this directory","chained":0,"valuetype":"directory"},{"valuetype":"string","chained":1,"category":"filter","args":"input.regex.value","description":"Unzip only files matching this regular expression","project":"Project1","value":"chr[XYM0-9]+.fa.gz","paramtype":"input","inputParams":"","owner":"aguatest","discretion":"optional","ordinal":0,"format":"","paramnumber":"5","paramname":"regex","paramFunction":"","appname":"unzipFiles","workflownumber":1,"username":"testuser","argument":"--regex","workflow":"Workflow1","appnumber":"2","locked":0},{"value":"gunzip","paramtype":"input","project":"Project1","owner":"aguatest","inputParams":"","valuetype":"string","chained":0,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","args":"","category":"type","username":"testuser","argument":"--type","appname":"unzipFiles","workflownumber":1,"locked":0,"appnumber":"2","workflow":"Workflow1","discretion":"required","ordinal":0,"format":"","paramFunction":"","paramname":"type","paramnumber":"6"}]
2018-08-03 01:53:46        [NOTE]   	Engine::Workflow::setStageParameters	1716	stageparameters: [{"owner":"aguatest","inputParams":"referencedir,outputdir,inputdir","value":"Project1/Workflow1/reference/fasta","paramtype":"input","project":"Project1","description":"Location of directory containing *.fa files","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","category":"inputdir","chained":0,"valuetype":"directory","appnumber":"3","locked":0,"workflow":"Workflow1","argument":"--inputdir","username":"testuser","appname":"elandIndex","workflownumber":1,"paramname":"inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","paramnumber":"1","format":"","discretion":"essential","ordinal":0},{"format":"","discretion":"required","ordinal":0,"paramname":"outputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","paramnumber":"2","argument":"--outputdir","username":"testuser","appname":"elandIndex","workflownumber":1,"appnumber":"3","locked":0,"workflow":"Workflow1","chained":0,"valuetype":"directory","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","category":"outputdir","description":"Print indexed files to this directory","value":"Project1/Workflow1/reference/eland","paramtype":"input","project":"Project1","owner":"aguatest","inputParams":"referencedir,outputdir,inputdir"},{"category":"subdirs","args":"input.subdirs.value","description":"","chained":0,"valuetype":"flag","inputParams":"","owner":"aguatest","project":"Project1","value":"","paramtype":"input","paramnumber":"3","paramFunction":"","paramname":"subdirs","format":"","discretion":"optional","ordinal":0,"workflow":"Workflow1","appnumber":"3","locked":0,"workflownumber":1,"appname":"elandIndex","username":"testuser","argument":"--subdirs"}]
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStartStop	1724	# stages: 3
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStartStop	1729	self->start: 1
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStartStop	1730	self->stop: undef
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStartStop	1735	start: 1
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStartStop	1736	stop: 4
2018-08-03 01:53:46        [NOTE]   	Engine::Workflow::setStartStop	1757	4946 Setting start: 1
2018-08-03 01:53:46        [NOTE]   	Engine::Workflow::setStartStop	1758	4946 Setting stop: 4
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStages	1372	start: 1
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStages	1373	stop: 4
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStages	1377	fileroot: /home/testuser/agua
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setFileDirs	1511	fileroot: /home/testuser/agua
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setFileDirs	1512	project: Project1
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setFileDirs	1513	workflow: Workflow1
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setFileDirs	1517	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 01:53:46        [DEBUG]   	Engine::Workflow::setStages	1381	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"conf":bless( {"memory":1,"printlog":2,"log":2,"valueoffset":24,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"yaml":bless( [], "YAML::Tiny" ),"logtype":"cli","oldlog":2,"memorystore":undef,"indent":4}, "Conf::Yaml" ),"log":"4"}
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:04:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	574	exchange: undef
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	578	cluster: undef
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	579	submit: 1
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2559	status: running
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2569	hash: {"username":"testuser","status":"running","project":"Project1","name":"Workflow1","cluster":undef}
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2575	BEFORE _updateTable   hash: {"username":"testuser","status":"running","project":"Project1","name":"Workflow1","cluster":undef}
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	self->db: bless( {"user":"","password":"","backup":0,"logtype":"cli","sqlite":"","database":"agua","dbfile":"/a/db/sqlite/agua.sqlite","oldlog":2,"dbh":bless( {}, "DBI::db" ),"dbtype":"sqlite","indent":4,"log":2,"printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2}, "DBase::SQLite" )
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	success: 1
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:04:36        [GROUP]    	Engine::Workflow::setStages	1367	Engine::Workflow::setStages
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1368	username: testuser
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1369	cluster: undef
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1370	project: Project1
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1371	workflow: Workflow1
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1372	scheduler: local
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1379	slots: undef
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1386	force: undef
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::checkPrevious	1705	start: 0
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1388	previouscompleted: 1
2018-08-03 02:04:36        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"locked":0,"owner":"aguatest","paramtype":"input","project":"Project1","paramFunction":"","username":"testuser","argument":"--filter","inputParams":"","description":"Download only files containing this text fragment","valuetype":"string","appname":"FTP","paramname":"filter","value":"","workflownumber":1,"ordinal":0,"paramnumber":"1","category":"filter","format":"","args":"","chained":0,"workflow":"Workflow1","discretion":"optional","appnumber":"1"},{"category":"outputdir","paramnumber":"2","paramname":"outputdir","value":"Project1/Workflow1/downloads","workflownumber":1,"ordinal":0,"chained":0,"discretion":"required","workflow":"Workflow1","appnumber":"1","format":"","args":"","project":"Project1","paramFunction":"","username":"testuser","argument":"--outputdir","locked":0,"owner":"aguatest","paramtype":"input","description":"Create this directory and download files to it","valuetype":"directory","appname":"FTP","inputParams":""},{"ordinal":0,"workflownumber":1,"value":"chr[XYM0-9]+.fa.gz","paramname":"regex","category":"regex","paramnumber":"3","args":"","format":"","appnumber":"1","discretion":"optional","workflow":"Workflow1","chained":0,"paramtype":"input","owner":"aguatest","locked":0,"paramFunction":"","username":"testuser","argument":"--regex","project":"Project1","inputParams":"","appname":"FTP","valuetype":"string","description":"Download files matching this regular expression"},{"inputParams":"","valuetype":"string","appname":"FTP","description":"Type of page: html or text","paramtype":"input","locked":0,"owner":"aguatest","username":"testuser","paramFunction":"","argument":"--type","project":"Project1","args":"","format":"","workflow":"Workflow1","discretion":"essential","appnumber":"1","chained":0,"ordinal":0,"paramname":"type","value":"html","workflownumber":1,"category":"type","paramnumber":"4"},{"inputParams":"","description":"Download files linked on this page","appname":"FTP","valuetype":"string","owner":"aguatest","locked":0,"paramtype":"input","project":"Project1","paramFunction":"","argument":"--url","username":"testuser","format":"","args":"","chained":0,"appnumber":"1","workflow":"Workflow1","discretion":"required","workflownumber":1,"value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","paramname":"url","ordinal":0,"category":"url","paramnumber":"5"}]
2018-08-03 02:04:36        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"inputParams":"","description":" Remove zipped files after unzipping","valuetype":"flag","appname":"unzipFiles","locked":0,"owner":"aguatest","paramtype":"input","project":"Project1","username":"testuser","paramFunction":"","argument":"--delete","format":"","args":"","chained":0,"workflow":"Workflow1","discretion":"optional","appnumber":"2","paramname":"delete","workflownumber":1,"value":"1","ordinal":0,"paramnumber":"1","category":"delete"},{"ordinal":0,"value":"","workflownumber":1,"paramname":"filter","paramnumber":"2","category":"filter","args":"","format":"","appnumber":"2","workflow":"Workflow1","discretion":"optional","chained":0,"paramtype":"input","owner":"aguatest","locked":0,"argument":"--filter","paramFunction":"","username":"testuser","project":"Project1","inputParams":"","appname":"unzipFiles","valuetype":"string","description":"Unzip only files containing this text fragment"},{"project":"Project1","argument":"--inputdir","paramFunction":"","username":"testuser","owner":"aguatest","locked":0,"paramtype":"input","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","appname":"unzipFiles","valuetype":"directory","inputParams":"InputParams","paramnumber":"3","category":"inputdir","value":"Project1/Workflow1/downloads","workflownumber":1,"paramname":"inputdir","ordinal":0,"chained":0,"appnumber":"2","workflow":"Workflow1","discretion":"essential","format":"","args":"input.outputdir.value"},{"category":"outputdir","paramnumber":"4","ordinal":0,"workflownumber":1,"value":"Project1/Workflow1/downloads","paramname":"outputdir","appnumber":"2","workflow":"Workflow1","discretion":"required","chained":0,"args":"input.outputdir.value","format":"","paramFunction":"","username":"testuser","argument":"--outputdir","project":"Project1","paramtype":"input","owner":"aguatest","locked":0,"appname":"unzipFiles","valuetype":"directory","description":"Unzip files to this directory","inputParams":"InputParams"},{"project":"Project1","username":"testuser","paramFunction":"","argument":"--regex","locked":0,"owner":"aguatest","paramtype":"input","description":"Unzip only files matching this regular expression","valuetype":"string","appname":"unzipFiles","inputParams":"","category":"filter","paramnumber":"5","paramname":"regex","workflownumber":1,"value":"chr[XYM0-9]+.fa.gz","ordinal":0,"chained":1,"workflow":"Workflow1","discretion":"optional","appnumber":"2","format":"","args":"input.regex.value"},{"appname":"unzipFiles","valuetype":"string","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","inputParams":"","paramFunction":"","argument":"--type","username":"testuser","project":"Project1","paramtype":"input","owner":"aguatest","locked":0,"appnumber":"2","workflow":"Workflow1","discretion":"required","chained":0,"args":"","format":"","paramnumber":"6","category":"type","ordinal":0,"workflownumber":1,"value":"gunzip","paramname":"type"}]
2018-08-03 02:04:36        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"paramtype":"input","locked":0,"owner":"aguatest","argument":"--inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","username":"testuser","project":"Project1","inputParams":"referencedir,outputdir,inputdir","valuetype":"directory","appname":"elandIndex","description":"Location of directory containing *.fa files","ordinal":0,"paramname":"inputdir","value":"Project1/Workflow1/reference/fasta","workflownumber":1,"category":"inputdir","paramnumber":"1","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","format":"","discretion":"essential","workflow":"Workflow1","appnumber":"3","chained":0},{"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","format":"","appnumber":"3","discretion":"required","workflow":"Workflow1","chained":0,"ordinal":0,"value":"Project1/Workflow1/reference/eland","workflownumber":1,"paramname":"outputdir","paramnumber":"2","category":"outputdir","inputParams":"referencedir,outputdir,inputdir","appname":"elandIndex","valuetype":"directory","description":"Print indexed files to this directory","paramtype":"input","owner":"aguatest","locked":0,"paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","username":"testuser","argument":"--outputdir","project":"Project1"},{"locked":0,"owner":"aguatest","paramtype":"input","project":"Project1","paramFunction":"","argument":"--subdirs","username":"testuser","inputParams":"","description":"","valuetype":"flag","appname":"elandIndex","paramname":"subdirs","value":"","workflownumber":1,"ordinal":0,"category":"subdirs","paramnumber":"3","format":"","args":"input.subdirs.value","chained":0,"workflow":"Workflow1","discretion":"optional","appnumber":"3"}]
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStartStop	1748	# stages: 3
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStartStop	1753	self->start: 1
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->stop: undef
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStartStop	1759	start: 1
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStartStop	1760	stop: 4
2018-08-03 02:04:36        [NOTE]   	Engine::Workflow::setStartStop	1781	5155 Setting start: 1
2018-08-03 02:04:36        [NOTE]   	Engine::Workflow::setStartStop	1782	5155 Setting stop: 4
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1396	start: 1
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1397	stop: 4
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1401	fileroot: /home/testuser/agua
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setFileDirs	1535	fileroot: /home/testuser/agua
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setFileDirs	1536	project: Project1
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setFileDirs	1537	workflow: Workflow1
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setFileDirs	1541	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1405	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1421	BEFORE monitor = self->updateMonitor()
2018-08-03 02:04:36        [CALLER]   	Engine::Workflow::updateMonitor	2058	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1425	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:04:36        [DEBUG]   	Engine::Workflow::setStages	1503	final no. stageobjects: 3
2018-08-03 02:04:36        [GROUPEND]    	Engine::Workflow::setStages	1505	Engine::Workflow::setStages
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::_getStatus	2266	now: datetime()
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::_getStatus	2269	datetime: 2018-08-03 06:04:36
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::_getStatus	2282	# stages: 3
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::_getStatus	2283	stages: [{"number":1,"name":"FTP","stagejobid":0,"type":"utility","sample":"","queued":"0000-00-00 00:00:00","description":"","ancestor":"","now":"2018-08-03 06:04:36","version":"0.6.0","owner":"aguatest","username":"testuser","envarfile":"","successor":"","project":"Project1","completed":"2012-02-26 04:36:30","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","started":"2012-02-26 04:24:14","package":"bioapps","workflow":"Workflow1","submit":0,"status":"","workflowpid":0,"stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","notes":"","cluster":"","installdir":"/agua/bioapps","workflownumber":1,"executor":"/usr/bin/perl","location":"bin/utils/FTP.pl","stagepid":7860},{"executor":"/usr/bin/perl","location":"bin/utils/unzipFiles.pl","stagepid":8997,"stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","notes":"","cluster":"","workflownumber":1,"installdir":"/agua/bioapps","workflow":"Workflow1","submit":0,"status":"","workflowpid":0,"stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","started":"2012-02-27 03:39:00","package":"bioapps","username":"testuser","envarfile":"","successor":"","completed":"2012-02-27 03:39:27","project":"Project1","now":"2018-08-03 06:04:36","owner":"aguatest","version":"0.6.0","queued":"0000-00-00 00:00:00","sample":"","ancestor":"","description":"","number":2,"name":"unzipFiles","stagejobid":0,"type":"utility"},{"stderrfile":"","package":"bioapps","started":"0000-00-00 00:00:00","submit":0,"workflow":"Workflow1","workflowpid":0,"status":"","notes":undef,"stdoutfile":"","workflownumber":1,"installdir":"/agua/bioapps","cluster":"","executor":"/usr/bin/perl","stagepid":0,"location":"bin/converters/elandIndex.pl","number":3,"type":"converter","stagejobid":0,"name":"elandIndex","ancestor":"","description":"","sample":"","queued":"0000-00-00 00:00:00","owner":"aguatest","version":"0.6.0","now":"2018-08-03 06:04:36","envarfile":"","username":"testuser","completed":"0000-00-00 00:00:00","project":"Project1","successor":""}]
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::_getStatus	2293	cluster: testuser-testcluster
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::_getStatusCluster	2319	
2018-08-03 02:04:36    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:04:36    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:04:36    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:04:36    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::_getStatusCluster	2323	clusterworkflow: {}
2018-08-03 02:04:36    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2410	workflow: Workflow1
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"memory":1,"valueoffset":24,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldlog":2,"indent":4,"yaml":bless( [], "YAML::Tiny" ),"log":2,"backup":1,"memorystore":undef,"oldprintlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","printlog":2}, "Conf::Yaml" ),"log":"4","printlog":5}
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:13:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	574	exchange: undef
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	578	cluster: undef
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	579	submit: 1
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2559	status: running
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2569	hash: {"status":"running","project":"Project1","username":"testuser","cluster":undef,"name":"Workflow1"}
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2575	BEFORE _updateTable   hash: {"status":"running","project":"Project1","username":"testuser","cluster":undef,"name":"Workflow1"}
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	self->db: bless( {"password":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","sqlite":"","user":"","log":2,"dbh":bless( {}, "DBI::db" ),"indent":4,"oldlog":2,"dbtype":"sqlite","dbfile":"/a/db/sqlite/agua.sqlite","database":"agua","backup":0,"oldprintlog":2,"logtype":"cli","printlog":2}, "DBase::SQLite" )
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	success: 1
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:13:58        [GROUP]    	Engine::Workflow::setStages	1367	Engine::Workflow::setStages
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1368	username: testuser
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1369	cluster: undef
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1370	project: Project1
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1371	workflow: Workflow1
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1372	scheduler: local
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1379	slots: undef
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1386	force: undef
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::checkPrevious	1705	start: 0
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1388	previouscompleted: 1
2018-08-03 02:13:58        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"appnumber":"1","description":"Download only files containing this text fragment","category":"filter","username":"testuser","locked":0,"ordinal":0,"format":"","paramtype":"input","chained":0,"paramnumber":"1","value":"","discretion":"optional","owner":"aguatest","inputParams":"","paramFunction":"","argument":"--filter","project":"Project1","args":"","workflow":"Workflow1","valuetype":"string","appname":"FTP","workflownumber":1,"paramname":"filter"},{"paramname":"outputdir","appname":"FTP","workflownumber":1,"valuetype":"directory","args":"","workflow":"Workflow1","project":"Project1","argument":"--outputdir","paramFunction":"","owner":"aguatest","inputParams":"","discretion":"required","chained":0,"value":"Project1/Workflow1/downloads","paramtype":"input","paramnumber":"2","ordinal":0,"format":"","locked":0,"description":"Create this directory and download files to it","category":"outputdir","username":"testuser","appnumber":"1"},{"format":"","ordinal":0,"username":"testuser","category":"regex","description":"Download files matching this regular expression","locked":0,"appnumber":"1","workflownumber":1,"appname":"FTP","paramname":"regex","workflow":"Workflow1","args":"","project":"Project1","valuetype":"string","inputParams":"","owner":"aguatest","argument":"--regex","paramFunction":"","paramtype":"input","chained":0,"value":"chr[XYM0-9]+.fa.gz","paramnumber":"3","discretion":"optional"},{"appnumber":"1","ordinal":0,"format":"","locked":0,"category":"type","username":"testuser","description":"Type of page: html or text","argument":"--type","paramFunction":"","inputParams":"","owner":"aguatest","discretion":"essential","chained":0,"value":"html","paramnumber":"4","paramtype":"input","paramname":"type","workflownumber":1,"appname":"FTP","valuetype":"string","project":"Project1","args":"","workflow":"Workflow1"},{"appnumber":"1","format":"","ordinal":0,"locked":0,"category":"url","username":"testuser","description":"Download files linked on this page","paramFunction":"","argument":"--url","inputParams":"","owner":"aguatest","discretion":"required","paramtype":"input","chained":0,"paramnumber":"5","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","paramname":"url","workflownumber":1,"appname":"FTP","valuetype":"string","project":"Project1","args":"","workflow":"Workflow1"}]
2018-08-03 02:13:58        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"appnumber":"2","format":"","ordinal":0,"locked":0,"category":"delete","username":"testuser","description":" Remove zipped files after unzipping","argument":"--delete","paramFunction":"","inputParams":"","owner":"aguatest","discretion":"optional","chained":0,"paramnumber":"1","value":"1","paramtype":"input","paramname":"delete","workflownumber":1,"appname":"unzipFiles","valuetype":"flag","workflow":"Workflow1","args":"","project":"Project1"},{"paramtype":"input","chained":0,"paramnumber":"2","value":"","discretion":"optional","inputParams":"","owner":"aguatest","argument":"--filter","paramFunction":"","args":"","workflow":"Workflow1","project":"Project1","valuetype":"string","workflownumber":1,"appname":"unzipFiles","paramname":"filter","appnumber":"2","username":"testuser","category":"filter","description":"Unzip only files containing this text fragment","locked":0,"ordinal":0,"format":""},{"ordinal":0,"format":"","category":"inputdir","username":"testuser","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","locked":0,"appnumber":"2","workflownumber":1,"appname":"unzipFiles","paramname":"inputdir","project":"Project1","args":"input.outputdir.value","workflow":"Workflow1","valuetype":"directory","inputParams":"InputParams","owner":"aguatest","argument":"--inputdir","paramFunction":"","value":"Project1/Workflow1/downloads","chained":0,"paramtype":"input","paramnumber":"3","discretion":"essential"},{"description":"Unzip files to this directory","category":"outputdir","username":"testuser","locked":0,"ordinal":0,"format":"","appnumber":"2","args":"input.outputdir.value","project":"Project1","workflow":"Workflow1","valuetype":"directory","appname":"unzipFiles","workflownumber":1,"paramname":"outputdir","chained":0,"value":"Project1/Workflow1/downloads","paramnumber":"4","paramtype":"input","discretion":"required","owner":"aguatest","inputParams":"InputParams","paramFunction":"","argument":"--outputdir"},{"paramname":"regex","workflownumber":1,"appname":"unzipFiles","valuetype":"string","args":"input.regex.value","project":"Project1","workflow":"Workflow1","paramFunction":"","argument":"--regex","inputParams":"","owner":"aguatest","discretion":"optional","chained":1,"value":"chr[XYM0-9]+.fa.gz","paramtype":"input","paramnumber":"5","format":"","ordinal":0,"locked":0,"category":"filter","username":"testuser","description":"Unzip only files matching this regular expression","appnumber":"2"},{"appnumber":"2","category":"type","username":"testuser","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","locked":0,"format":"","ordinal":0,"paramnumber":"6","chained":0,"value":"gunzip","paramtype":"input","discretion":"required","inputParams":"","owner":"aguatest","paramFunction":"","argument":"--type","args":"","project":"Project1","workflow":"Workflow1","valuetype":"string","workflownumber":1,"appname":"unzipFiles","paramname":"type"}]
2018-08-03 02:13:58        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"appnumber":"3","ordinal":0,"format":"","locked":0,"category":"inputdir","username":"testuser","description":"Location of directory containing *.fa files","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","argument":"--inputdir","inputParams":"referencedir,outputdir,inputdir","owner":"aguatest","discretion":"essential","paramtype":"input","chained":0,"value":"Project1/Workflow1/reference/fasta","paramnumber":"1","paramname":"inputdir","workflownumber":1,"appname":"elandIndex","valuetype":"directory","project":"Project1","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","workflow":"Workflow1"},{"appnumber":"3","description":"Print indexed files to this directory","category":"outputdir","username":"testuser","locked":0,"ordinal":0,"format":"","chained":0,"paramnumber":"2","value":"Project1/Workflow1/reference/eland","paramtype":"input","discretion":"required","owner":"aguatest","inputParams":"referencedir,outputdir,inputdir","argument":"--outputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","project":"Project1","workflow":"Workflow1","valuetype":"directory","appname":"elandIndex","workflownumber":1,"paramname":"outputdir"},{"format":"","ordinal":0,"locked":0,"username":"testuser","category":"subdirs","description":"","appnumber":"3","paramname":"subdirs","workflownumber":1,"appname":"elandIndex","valuetype":"flag","workflow":"Workflow1","args":"input.subdirs.value","project":"Project1","paramFunction":"","argument":"--subdirs","inputParams":"","owner":"aguatest","discretion":"optional","paramnumber":"3","chained":0,"paramtype":"input","value":""}]
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStartStop	1748	# stages: 3
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStartStop	1753	self->start: 1
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->stop: undef
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStartStop	1759	start: 1
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStartStop	1760	stop: 4
2018-08-03 02:13:58        [NOTE]   	Engine::Workflow::setStartStop	1781	5220 Setting start: 1
2018-08-03 02:13:58        [NOTE]   	Engine::Workflow::setStartStop	1782	5220 Setting stop: 4
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1396	start: 1
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1397	stop: 4
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1401	fileroot: /home/testuser/agua
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setFileDirs	1535	fileroot: /home/testuser/agua
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setFileDirs	1536	project: Project1
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setFileDirs	1537	workflow: Workflow1
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setFileDirs	1541	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1405	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1421	BEFORE monitor = self->updateMonitor()
2018-08-03 02:13:58        [CALLER]   	Engine::Workflow::updateMonitor	2058	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1425	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:13:58        [DEBUG]   	Engine::Workflow::setStages	1503	final no. stageobjects: 3
2018-08-03 02:13:58        [GROUPEND]    	Engine::Workflow::setStages	1505	Engine::Workflow::setStages
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::_getStatus	2266	now: datetime()
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::_getStatus	2269	datetime: 2018-08-03 06:13:58
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::_getStatus	2282	# stages: 3
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::_getStatus	2283	stages: [{"cluster":"","version":"0.6.0","notes":"","submit":0,"queued":"0000-00-00 00:00:00","number":1,"now":"2018-08-03 06:13:58","description":"","ancestor":"","sample":"","installdir":"/agua/bioapps","successor":"","username":"testuser","name":"FTP","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","type":"utility","workflowpid":0,"started":"2012-02-26 04:24:14","stagejobid":0,"owner":"aguatest","envarfile":"","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","stagepid":7860,"executor":"/usr/bin/perl","status":"","project":"Project1","workflow":"Workflow1","package":"bioapps","location":"bin/utils/FTP.pl","workflownumber":1,"completed":"2012-02-26 04:36:30"},{"submit":0,"queued":"0000-00-00 00:00:00","notes":"","version":"0.6.0","cluster":"","now":"2018-08-03 06:13:58","number":2,"type":"utility","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","name":"unzipFiles","successor":"","username":"testuser","installdir":"/agua/bioapps","description":"","ancestor":"","sample":"","workflowpid":0,"started":"2012-02-27 03:39:00","stagepid":8997,"stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","envarfile":"","owner":"aguatest","stagejobid":0,"location":"bin/utils/unzipFiles.pl","project":"Project1","workflow":"Workflow1","status":"","package":"bioapps","executor":"/usr/bin/perl","workflownumber":1,"completed":"2012-02-27 03:39:27"},{"name":"elandIndex","stderrfile":"","type":"converter","ancestor":"","description":"","sample":"","installdir":"/agua/bioapps","successor":"","username":"testuser","notes":undef,"queued":"0000-00-00 00:00:00","submit":0,"cluster":"","version":"0.6.0","now":"2018-08-03 06:13:58","number":3,"location":"bin/converters/elandIndex.pl","executor":"/usr/bin/perl","workflow":"Workflow1","status":"","project":"Project1","package":"bioapps","completed":"0000-00-00 00:00:00","workflownumber":1,"workflowpid":0,"started":"0000-00-00 00:00:00","stdoutfile":"","stagepid":0,"owner":"aguatest","stagejobid":0,"envarfile":""}]
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::_getStatus	2293	cluster: testuser-testcluster
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::_getStatusCluster	2319	
2018-08-03 02:13:58    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:13:58    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:13:58    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:13:58    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::_getStatusCluster	2323	clusterworkflow: {}
2018-08-03 02:13:58    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2410	workflow: Workflow1
2018-08-03 02:17:53    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"logtype":"cli","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","valueoffset":24,"indent":4,"oldlog":2,"memorystore":undef,"yaml":bless( [], "YAML::Tiny" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":2,"printlog":2,"oldprintlog":2,"backup":1,"memory":1}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4"}
2018-08-03 02:17:53    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:17:53    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:17:53    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:17:53    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:17:53    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:17:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	574	exchange: undef
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	578	cluster: undef
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	579	submit: 1
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2559	status: running
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2569	hash: {"status":"running","cluster":undef,"name":"Workflow1","project":"Project1","username":"testuser"}
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2575	BEFORE _updateTable   hash: {"status":"running","cluster":undef,"name":"Workflow1","project":"Project1","username":"testuser"}
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	self->db: bless( {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","password":"","dbtype":"sqlite","log":2,"dbh":bless( {}, "DBI::db" ),"printlog":2,"oldprintlog":2,"database":"agua","backup":0,"sqlite":"","logtype":"cli","indent":4,"oldlog":2,"user":"","dbfile":"/a/db/sqlite/agua.sqlite"}, "DBase::SQLite" )
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	success: 1
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:17:54        [GROUP]    	Engine::Workflow::setStages	1367	Engine::Workflow::setStages
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1368	username: testuser
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1369	cluster: undef
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1370	project: Project1
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1371	workflow: Workflow1
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1372	scheduler: local
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1379	slots: undef
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1386	force: undef
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::checkPrevious	1705	start: 0
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1388	previouscompleted: 1
2018-08-03 02:17:54        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"workflow":"Workflow1","valuetype":"string","argument":"--filter","paramtype":"input","paramname":"filter","value":"","category":"filter","username":"testuser","inputParams":"","paramFunction":"","appnumber":"1","workflownumber":1,"args":"","discretion":"optional","owner":"aguatest","project":"Project1","paramnumber":"1","locked":0,"chained":0,"ordinal":0,"description":"Download only files containing this text fragment","format":"","appname":"FTP"},{"appname":"FTP","description":"Create this directory and download files to it","format":"","chained":0,"ordinal":0,"locked":0,"owner":"aguatest","paramnumber":"2","project":"Project1","discretion":"required","args":"","workflownumber":1,"paramFunction":"","appnumber":"1","inputParams":"","category":"outputdir","username":"testuser","value":"Project1/Workflow1/downloads","paramname":"outputdir","paramtype":"input","workflow":"Workflow1","valuetype":"directory","argument":"--outputdir"},{"category":"regex","username":"testuser","value":"chr[XYM0-9]+.fa.gz","paramname":"regex","paramtype":"input","argument":"--regex","workflow":"Workflow1","valuetype":"string","args":"","workflownumber":1,"inputParams":"","paramFunction":"","appnumber":"1","locked":0,"paramnumber":"3","project":"Project1","owner":"aguatest","discretion":"optional","appname":"FTP","format":"","description":"Download files matching this regular expression","ordinal":0,"chained":0},{"workflow":"Workflow1","valuetype":"string","argument":"--type","paramtype":"input","value":"html","paramname":"type","category":"type","username":"testuser","paramFunction":"","appnumber":"1","inputParams":"","workflownumber":1,"args":"","discretion":"essential","owner":"aguatest","paramnumber":"4","project":"Project1","locked":0,"chained":0,"ordinal":0,"description":"Type of page: html or text","format":"","appname":"FTP"},{"workflownumber":1,"paramFunction":"","inputParams":"","appnumber":"1","args":"","paramtype":"input","argument":"--url","valuetype":"string","workflow":"Workflow1","category":"url","username":"testuser","paramname":"url","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","format":"","description":"Download files linked on this page","ordinal":0,"chained":0,"appname":"FTP","discretion":"required","locked":0,"paramnumber":"5","project":"Project1","owner":"aguatest"}]
2018-08-03 02:17:54        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"argument":"--delete","workflow":"Workflow1","valuetype":"flag","paramtype":"input","value":"1","paramname":"delete","username":"testuser","category":"delete","inputParams":"","paramFunction":"","appnumber":"2","workflownumber":1,"args":"","discretion":"optional","project":"Project1","paramnumber":"1","owner":"aguatest","locked":0,"ordinal":0,"chained":0,"format":"","description":" Remove zipped files after unzipping","appname":"unzipFiles"},{"discretion":"optional","locked":0,"owner":"aguatest","paramnumber":"2","project":"Project1","description":"Unzip only files containing this text fragment","format":"","chained":0,"ordinal":0,"appname":"unzipFiles","paramtype":"input","valuetype":"string","workflow":"Workflow1","argument":"--filter","category":"filter","username":"testuser","value":"","paramname":"filter","workflownumber":1,"paramFunction":"","appnumber":"2","inputParams":"","args":""},{"project":"Project1","paramnumber":"3","owner":"aguatest","locked":0,"discretion":"essential","appname":"unzipFiles","ordinal":0,"chained":0,"format":"","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","paramname":"inputdir","value":"Project1/Workflow1/downloads","category":"inputdir","username":"testuser","argument":"--inputdir","workflow":"Workflow1","valuetype":"directory","paramtype":"input","args":"input.outputdir.value","paramFunction":"","appnumber":"2","inputParams":"InputParams","workflownumber":1},{"value":"Project1/Workflow1/downloads","paramname":"outputdir","category":"outputdir","username":"testuser","valuetype":"directory","workflow":"Workflow1","argument":"--outputdir","paramtype":"input","args":"input.outputdir.value","paramFunction":"","inputParams":"InputParams","appnumber":"2","workflownumber":1,"owner":"aguatest","project":"Project1","paramnumber":"4","locked":0,"discretion":"required","appname":"unzipFiles","chained":0,"ordinal":0,"description":"Unzip files to this directory","format":""},{"locked":0,"owner":"aguatest","project":"Project1","paramnumber":"5","discretion":"optional","appname":"unzipFiles","description":"Unzip only files matching this regular expression","format":"","chained":1,"ordinal":0,"username":"testuser","category":"filter","value":"chr[XYM0-9]+.fa.gz","paramname":"regex","paramtype":"input","valuetype":"string","workflow":"Workflow1","argument":"--regex","args":"input.regex.value","workflownumber":1,"paramFunction":"","appnumber":"2","inputParams":""},{"paramtype":"input","valuetype":"string","workflow":"Workflow1","argument":"--type","username":"testuser","category":"type","paramname":"type","value":"gunzip","workflownumber":1,"paramFunction":"","appnumber":"2","inputParams":"","args":"","discretion":"required","locked":0,"owner":"aguatest","project":"Project1","paramnumber":"6","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","format":"","chained":0,"ordinal":0,"appname":"unzipFiles"}]
2018-08-03 02:17:54        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"paramname":"inputdir","value":"Project1/Workflow1/reference/fasta","username":"testuser","category":"inputdir","workflow":"Workflow1","valuetype":"directory","argument":"--inputdir","paramtype":"input","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","appnumber":"3","inputParams":"referencedir,outputdir,inputdir","workflownumber":1,"owner":"aguatest","paramnumber":"1","project":"Project1","locked":0,"discretion":"essential","appname":"elandIndex","chained":0,"ordinal":0,"description":"Location of directory containing *.fa files","format":""},{"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","workflownumber":1,"paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","appnumber":"3","inputParams":"referencedir,outputdir,inputdir","category":"outputdir","username":"testuser","value":"Project1/Workflow1/reference/eland","paramname":"outputdir","paramtype":"input","valuetype":"directory","workflow":"Workflow1","argument":"--outputdir","appname":"elandIndex","description":"Print indexed files to this directory","format":"","chained":0,"ordinal":0,"locked":0,"owner":"aguatest","paramnumber":"2","project":"Project1","discretion":"required"},{"inputParams":"","paramFunction":"","appnumber":"3","workflownumber":1,"args":"input.subdirs.value","valuetype":"flag","workflow":"Workflow1","argument":"--subdirs","paramtype":"input","paramname":"subdirs","value":"","category":"subdirs","username":"testuser","chained":0,"ordinal":0,"description":"","format":"","appname":"elandIndex","discretion":"optional","owner":"aguatest","project":"Project1","paramnumber":"3","locked":0}]
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStartStop	1748	# stages: 3
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStartStop	1753	self->start: 1
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->stop: undef
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStartStop	1759	start: 1
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStartStop	1760	stop: 4
2018-08-03 02:17:54        [NOTE]   	Engine::Workflow::setStartStop	1781	5271 Setting start: 1
2018-08-03 02:17:54        [NOTE]   	Engine::Workflow::setStartStop	1782	5271 Setting stop: 4
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1396	start: 1
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1397	stop: 4
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1401	fileroot: /home/testuser/agua
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setFileDirs	1535	fileroot: /home/testuser/agua
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setFileDirs	1536	project: Project1
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setFileDirs	1537	workflow: Workflow1
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setFileDirs	1541	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1405	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1421	BEFORE monitor = self->updateMonitor()
2018-08-03 02:17:54        [CALLER]   	Engine::Workflow::updateMonitor	2058	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1425	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:17:54        [DEBUG]   	Engine::Workflow::setStages	1503	final no. stageobjects: 3
2018-08-03 02:17:54        [GROUPEND]    	Engine::Workflow::setStages	1505	Engine::Workflow::setStages
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::_getStatus	2266	now: datetime()
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::_getStatus	2269	datetime: 2018-08-03 06:17:54
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::_getStatus	2282	# stages: 3
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::_getStatus	2283	stages: [{"submit":0,"username":"testuser","cluster":"","workflow":"Workflow1","package":"bioapps","workflowpid":0,"installdir":"/agua/bioapps","now":"2018-08-03 06:17:54","successor":"","stagejobid":0,"workflownumber":1,"owner":"aguatest","started":"2012-02-26 04:24:14","location":"bin/utils/FTP.pl","queued":"0000-00-00 00:00:00","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","project":"Project1","executor":"/usr/bin/perl","number":1,"stagepid":7860,"sample":"","status":"","ancestor":"","envarfile":"","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","name":"FTP","type":"utility","completed":"2012-02-26 04:36:30","version":"0.6.0","description":"","notes":""},{"successor":"","now":"2018-08-03 06:17:54","installdir":"/agua/bioapps","workflownumber":1,"stagejobid":0,"username":"testuser","submit":0,"workflowpid":0,"cluster":"","package":"bioapps","workflow":"Workflow1","type":"utility","name":"unzipFiles","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","envarfile":"","notes":"","description":"","version":"0.6.0","completed":"2012-02-27 03:39:27","number":2,"executor":"/usr/bin/perl","started":"2012-02-27 03:39:00","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","queued":"0000-00-00 00:00:00","location":"bin/utils/unzipFiles.pl","project":"Project1","owner":"aguatest","ancestor":"","stagepid":8997,"status":"","sample":""},{"now":"2018-08-03 06:17:54","successor":"","installdir":"/agua/bioapps","stagejobid":0,"workflownumber":1,"submit":0,"username":"testuser","cluster":"","package":"bioapps","workflow":"Workflow1","workflowpid":0,"stdoutfile":"","envarfile":"","name":"elandIndex","type":"converter","completed":"0000-00-00 00:00:00","version":"0.6.0","notes":undef,"description":"","project":"Project1","started":"0000-00-00 00:00:00","queued":"0000-00-00 00:00:00","stderrfile":"","location":"bin/converters/elandIndex.pl","owner":"aguatest","number":3,"executor":"/usr/bin/perl","stagepid":0,"sample":"","status":"","ancestor":""}]
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::_getStatus	2293	cluster: testuser-testcluster
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::_getStatusCluster	2319	
2018-08-03 02:17:54    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:17:54    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:17:54    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:17:54    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::_getStatusCluster	2323	clusterworkflow: {}
2018-08-03 02:17:54    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2410	workflow: Workflow1
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"valueoffset":24,"indent":4,"yaml":bless( [], "YAML::Tiny" ),"memory":1,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2,"backup":1,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","log":2,"oldlog":2,"memorystore":undef,"printlog":2}, "Conf::Yaml" ),"printlog":5,"log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	574	exchange: undef
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	578	cluster: undef
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	579	submit: 1
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2559	status: running
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2569	hash: {"project":"Project1","username":"testuser","status":"running","cluster":undef,"name":"Workflow1"}
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2575	BEFORE _updateTable   hash: {"project":"Project1","username":"testuser","status":"running","cluster":undef,"name":"Workflow1"}
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	self->db: bless( {"user":"","database":"agua","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","printlog":2,"password":"","log":2,"oldlog":2,"indent":4,"dbh":bless( {}, "DBI::db" ),"sqlite":"","dbtype":"sqlite","oldprintlog":2,"backup":0,"dbfile":"/a/db/sqlite/agua.sqlite"}, "DBase::SQLite" )
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	success: 1
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:19:20        [GROUP]    	Engine::Workflow::setStages	1367	Engine::Workflow::setStages
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1368	username: testuser
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1369	cluster: undef
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1370	project: Project1
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1371	workflow: Workflow1
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1372	scheduler: local
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1379	slots: undef
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1386	force: undef
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::checkPrevious	1705	start: 0
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1388	previouscompleted: 1
2018-08-03 02:19:20        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"format":"","args":"","paramnumber":"1","paramname":"filter","inputParams":"","paramtype":"input","locked":0,"argument":"--filter","category":"filter","value":"","workflow":"Workflow1","owner":"aguatest","ordinal":0,"workflownumber":1,"description":"Download only files containing this text fragment","appnumber":"1","appname":"FTP","project":"Project1","username":"testuser","paramFunction":"","chained":0,"valuetype":"string","discretion":"optional"},{"workflow":"Workflow1","category":"outputdir","value":"Project1/Workflow1/downloads","description":"Create this directory and download files to it","appnumber":"1","appname":"FTP","ordinal":0,"workflownumber":1,"owner":"aguatest","args":"","paramnumber":"2","paramname":"outputdir","format":"","argument":"--outputdir","locked":0,"paramtype":"input","inputParams":"","valuetype":"directory","discretion":"required","chained":0,"username":"testuser","project":"Project1","paramFunction":""},{"paramFunction":"","username":"testuser","project":"Project1","valuetype":"string","discretion":"optional","chained":0,"locked":0,"argument":"--regex","paramtype":"input","inputParams":"","paramnumber":"3","args":"","paramname":"regex","format":"","description":"Download files matching this regular expression","appnumber":"1","appname":"FTP","ordinal":0,"owner":"aguatest","workflownumber":1,"category":"regex","value":"chr[XYM0-9]+.fa.gz","workflow":"Workflow1"},{"args":"","paramname":"type","paramnumber":"4","format":"","argument":"--type","locked":0,"inputParams":"","paramtype":"input","workflow":"Workflow1","category":"type","value":"html","description":"Type of page: html or text","appname":"FTP","appnumber":"1","ordinal":0,"workflownumber":1,"owner":"aguatest","username":"testuser","project":"Project1","paramFunction":"","discretion":"essential","valuetype":"string","chained":0},{"paramtype":"input","inputParams":"","locked":0,"argument":"--url","format":"","args":"","paramname":"url","paramnumber":"5","ordinal":0,"owner":"aguatest","workflownumber":1,"appnumber":"1","description":"Download files linked on this page","appname":"FTP","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","category":"url","workflow":"Workflow1","paramFunction":"","project":"Project1","username":"testuser","chained":0,"discretion":"required","valuetype":"string"}]
2018-08-03 02:19:20        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"chained":0,"discretion":"optional","valuetype":"flag","paramFunction":"","project":"Project1","username":"testuser","owner":"aguatest","ordinal":0,"workflownumber":1,"description":" Remove zipped files after unzipping","appnumber":"2","appname":"unzipFiles","workflow":"Workflow1","value":"1","category":"delete","paramtype":"input","inputParams":"","argument":"--delete","locked":0,"format":"","args":"","paramname":"delete","paramnumber":"1"},{"inputParams":"","paramtype":"input","argument":"--filter","locked":0,"format":"","paramname":"filter","args":"","paramnumber":"2","ordinal":0,"workflownumber":1,"owner":"aguatest","appname":"unzipFiles","description":"Unzip only files containing this text fragment","appnumber":"2","workflow":"Workflow1","category":"filter","value":"","paramFunction":"","project":"Project1","username":"testuser","chained":0,"valuetype":"string","discretion":"optional"},{"value":"Project1/Workflow1/downloads","category":"inputdir","workflow":"Workflow1","appname":"unzipFiles","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","appnumber":"2","ordinal":0,"workflownumber":1,"owner":"aguatest","args":"input.outputdir.value","paramname":"inputdir","paramnumber":"3","format":"","locked":0,"argument":"--inputdir","paramtype":"input","inputParams":"InputParams","valuetype":"directory","discretion":"essential","chained":0,"username":"testuser","project":"Project1","paramFunction":""},{"ordinal":0,"owner":"aguatest","workflownumber":1,"description":"Unzip files to this directory","appnumber":"2","appname":"unzipFiles","category":"outputdir","value":"Project1/Workflow1/downloads","workflow":"Workflow1","paramtype":"input","inputParams":"InputParams","locked":0,"argument":"--outputdir","format":"","args":"input.outputdir.value","paramname":"outputdir","paramnumber":"4","chained":0,"valuetype":"directory","discretion":"required","paramFunction":"","project":"Project1","username":"testuser"},{"discretion":"optional","valuetype":"string","chained":1,"paramFunction":"","username":"testuser","project":"Project1","appnumber":"2","description":"Unzip only files matching this regular expression","appname":"unzipFiles","ordinal":0,"owner":"aguatest","workflownumber":1,"workflow":"Workflow1","category":"filter","value":"chr[XYM0-9]+.fa.gz","argument":"--regex","locked":0,"paramtype":"input","inputParams":"","paramnumber":"5","args":"input.regex.value","paramname":"regex","format":""},{"valuetype":"string","discretion":"required","chained":0,"paramFunction":"","username":"testuser","project":"Project1","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","appname":"unzipFiles","appnumber":"2","owner":"aguatest","ordinal":0,"workflownumber":1,"workflow":"Workflow1","value":"gunzip","category":"type","argument":"--type","locked":0,"inputParams":"","paramtype":"input","args":"","paramnumber":"6","paramname":"type","format":""}]
2018-08-03 02:19:20        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"description":"Location of directory containing *.fa files","appname":"elandIndex","appnumber":"3","ordinal":0,"workflownumber":1,"owner":"aguatest","category":"inputdir","value":"Project1/Workflow1/reference/fasta","workflow":"Workflow1","locked":0,"argument":"--inputdir","inputParams":"referencedir,outputdir,inputdir","paramtype":"input","paramnumber":"1","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramname":"inputdir","format":"","discretion":"essential","valuetype":"directory","chained":0,"paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","username":"testuser","project":"Project1"},{"format":"","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramname":"outputdir","paramnumber":"2","paramtype":"input","inputParams":"referencedir,outputdir,inputdir","argument":"--outputdir","locked":0,"workflow":"Workflow1","value":"Project1/Workflow1/reference/eland","category":"outputdir","owner":"aguatest","ordinal":0,"workflownumber":1,"description":"Print indexed files to this directory","appname":"elandIndex","appnumber":"3","project":"Project1","username":"testuser","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","chained":0,"valuetype":"directory","discretion":"required"},{"args":"input.subdirs.value","paramname":"subdirs","paramnumber":"3","format":"","argument":"--subdirs","locked":0,"inputParams":"","paramtype":"input","workflow":"Workflow1","value":"","category":"subdirs","appnumber":"3","description":"","appname":"elandIndex","ordinal":0,"owner":"aguatest","workflownumber":1,"username":"testuser","project":"Project1","paramFunction":"","valuetype":"flag","discretion":"optional","chained":0}]
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStartStop	1748	# stages: 3
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStartStop	1753	self->start: 1
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->stop: undef
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStartStop	1759	start: 1
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStartStop	1760	stop: 4
2018-08-03 02:19:20        [NOTE]   	Engine::Workflow::setStartStop	1781	5314 Setting start: 1
2018-08-03 02:19:20        [NOTE]   	Engine::Workflow::setStartStop	1782	5314 Setting stop: 4
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1396	start: 1
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1397	stop: 4
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1401	fileroot: /home/testuser/agua
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setFileDirs	1535	fileroot: /home/testuser/agua
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setFileDirs	1536	project: Project1
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setFileDirs	1537	workflow: Workflow1
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setFileDirs	1541	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1405	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1421	BEFORE monitor = self->updateMonitor()
2018-08-03 02:19:20        [CALLER]   	Engine::Workflow::updateMonitor	2058	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1425	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:19:20        [DEBUG]   	Engine::Workflow::setStages	1503	final no. stageobjects: 3
2018-08-03 02:19:20        [GROUPEND]    	Engine::Workflow::setStages	1505	Engine::Workflow::setStages
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::_getStatus	2266	now: datetime()
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::_getStatus	2269	datetime: 2018-08-03 06:19:20
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::_getStatus	2282	# stages: 3
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::_getStatus	2283	stages: [{"version":"0.6.0","number":1,"stagepid":7860,"status":"","package":"bioapps","successor":"","workflow":"Workflow1","envarfile":"","executor":"/usr/bin/perl","sample":"","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","started":"2012-02-26 04:24:14","owner":"aguatest","queued":"0000-00-00 00:00:00","workflownumber":1,"description":"","cluster":"","project":"Project1","ancestor":"","username":"testuser","installdir":"/agua/bioapps","now":"2018-08-03 06:19:20","workflowpid":0,"location":"bin/utils/FTP.pl","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","type":"utility","completed":"2012-02-26 04:36:30","notes":"","submit":0,"name":"FTP","stagejobid":0},{"now":"2018-08-03 06:19:20","installdir":"/agua/bioapps","username":"testuser","project":"Project1","ancestor":"","submit":0,"stagejobid":0,"name":"unzipFiles","notes":"","completed":"2012-02-27 03:39:27","location":"bin/utils/unzipFiles.pl","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","type":"utility","workflowpid":0,"package":"bioapps","status":"","stagepid":8997,"number":2,"version":"0.6.0","description":"","cluster":"","started":"2012-02-27 03:39:00","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","owner":"aguatest","queued":"0000-00-00 00:00:00","workflownumber":1,"executor":"/usr/bin/perl","sample":"","workflow":"Workflow1","successor":"","envarfile":""},{"ancestor":"","project":"Project1","username":"testuser","installdir":"/agua/bioapps","now":"2018-08-03 06:19:20","workflowpid":0,"type":"converter","stdoutfile":"","location":"bin/converters/elandIndex.pl","completed":"0000-00-00 00:00:00","notes":undef,"stagejobid":0,"name":"elandIndex","submit":0,"version":"0.6.0","number":3,"stagepid":0,"status":"","package":"bioapps","envarfile":"","successor":"","workflow":"Workflow1","sample":"","executor":"/usr/bin/perl","owner":"aguatest","queued":"0000-00-00 00:00:00","workflownumber":1,"started":"0000-00-00 00:00:00","stderrfile":"","cluster":"","description":""}]
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::_getStatus	2293	cluster: testuser-testcluster
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::_getStatusCluster	2319	
2018-08-03 02:19:20    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:19:20    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:19:20    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:19:20    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::_getStatusCluster	2323	clusterworkflow: {}
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2410	workflow: Workflow1
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2413	object: {"status":"","project":"Project1","number":1,"username":"testuser","notes":"","description":"","provenance":undef,"name":"Workflow1"}
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::_getStatusCluster	2325	workflowstatus: 
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::runLocally	815	# stages: 3
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::runLocally	818	BEFORE runStages()

2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::runLocally	820	AFTER runStages    success: 2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages


2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2559	status: completed
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2569	hash: {"status":"completed","name":"Workflow1","cluster":undef,"project":"Project1","username":"testuser"}
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2575	BEFORE _updateTable   hash: {"status":"completed","name":"Workflow1","cluster":undef,"project":"Project1","username":"testuser"}
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	self->db: bless( {"user":"","database":"agua","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","printlog":2,"password":"","log":2,"oldlog":2,"indent":4,"dbh":bless( {}, "DBI::db" ),"sqlite":"","dbtype":"sqlite","oldprintlog":2,"backup":0,"dbfile":"/a/db/sqlite/agua.sqlite"}, "DBase::SQLite" )
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	success: 1
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::setWorkflowStatus	665	status: completed
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	data: {"project":"Project1","workflow":"Workflow1","samplehash":undef,"username":"testuser","workflownumber":1,"start":1}
2018-08-03 02:19:20    [DEBUG]   	Engine::Workflow::executeWorkflow	653	addQueueSample success: 2018-08-03 02:19:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:19:20    [GROUPEND]    	Engine::Workflow::executeWorkflow	661	5314 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 02:19:20  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	346	statuses: []
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"yaml":bless( [], "YAML::Tiny" ),"memory":1,"logtype":"cli","oldlog":2,"indent":4,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"oldprintlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","valueoffset":24,"backup":1,"memorystore":undef,"log":2}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"log":"4"}
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	574	exchange: undef
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	578	cluster: undef
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	579	submit: 1
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2559	status: running
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2569	hash: {"cluster":undef,"name":"Workflow1","project":"Project1","username":"testuser","status":"running"}
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2575	BEFORE _updateTable   hash: {"cluster":undef,"name":"Workflow1","project":"Project1","username":"testuser","status":"running"}
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	self->db: bless( {"dbh":bless( {}, "DBI::db" ),"dbtype":"sqlite","indent":4,"oldlog":2,"database":"agua","logtype":"cli","password":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2,"user":"","oldprintlog":2,"log":2,"sqlite":"","dbfile":"/a/db/sqlite/agua.sqlite","backup":0}, "DBase::SQLite" )
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	success: 1
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:20:02        [GROUP]    	Engine::Workflow::setStages	1367	Engine::Workflow::setStages
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1368	username: testuser
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1369	cluster: undef
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1370	project: Project1
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1371	workflow: Workflow1
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1372	scheduler: local
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1379	slots: undef
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1386	force: undef
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::checkPrevious	1705	start: 0
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1388	previouscompleted: 1
2018-08-03 02:20:02        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"ordinal":0,"argument":"--filter","appname":"FTP","chained":0,"paramtype":"input","owner":"aguatest","format":"","paramFunction":"","value":"","workflow":"Workflow1","inputParams":"","paramname":"filter","args":"","appnumber":"1","valuetype":"string","discretion":"optional","username":"testuser","description":"Download only files containing this text fragment","category":"filter","locked":0,"paramnumber":"1","workflownumber":1,"project":"Project1"},{"workflownumber":1,"paramnumber":"2","project":"Project1","discretion":"required","description":"Create this directory and download files to it","category":"outputdir","locked":0,"username":"testuser","valuetype":"directory","args":"","appnumber":"1","paramname":"outputdir","inputParams":"","workflow":"Workflow1","format":"","owner":"aguatest","paramtype":"input","value":"Project1/Workflow1/downloads","paramFunction":"","appname":"FTP","ordinal":0,"argument":"--outputdir","chained":0},{"inputParams":"","workflow":"Workflow1","paramtype":"input","owner":"aguatest","format":"","paramFunction":"","value":"chr[XYM0-9]+.fa.gz","appname":"FTP","argument":"--regex","ordinal":0,"chained":0,"paramnumber":"3","workflownumber":1,"project":"Project1","discretion":"optional","username":"testuser","locked":0,"description":"Download files matching this regular expression","category":"regex","valuetype":"string","paramname":"regex","appnumber":"1","args":""},{"argument":"--type","ordinal":0,"appname":"FTP","chained":0,"paramtype":"input","owner":"aguatest","format":"","paramFunction":"","value":"html","workflow":"Workflow1","inputParams":"","paramname":"type","args":"","appnumber":"1","valuetype":"string","discretion":"essential","username":"testuser","category":"type","description":"Type of page: html or text","locked":0,"paramnumber":"4","workflownumber":1,"project":"Project1"},{"paramname":"url","args":"","appnumber":"1","valuetype":"string","username":"testuser","description":"Download files linked on this page","locked":0,"category":"url","discretion":"required","project":"Project1","paramnumber":"5","workflownumber":1,"chained":0,"appname":"FTP","argument":"--url","ordinal":0,"paramFunction":"","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","paramtype":"input","owner":"aguatest","format":"","workflow":"Workflow1","inputParams":""}]
2018-08-03 02:20:02        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"project":"Project1","workflownumber":1,"paramnumber":"1","description":" Remove zipped files after unzipping","category":"delete","locked":0,"username":"testuser","discretion":"optional","valuetype":"flag","args":"","appnumber":"2","paramname":"delete","inputParams":"","workflow":"Workflow1","value":"1","paramFunction":"","format":"","owner":"aguatest","paramtype":"input","chained":0,"appname":"unzipFiles","ordinal":0,"argument":"--delete"},{"value":"","paramFunction":"","format":"","paramtype":"input","owner":"aguatest","chained":0,"argument":"--filter","ordinal":0,"appname":"unzipFiles","inputParams":"","workflow":"Workflow1","valuetype":"string","args":"","appnumber":"2","paramname":"filter","project":"Project1","workflownumber":1,"paramnumber":"2","locked":0,"description":"Unzip only files containing this text fragment","category":"filter","username":"testuser","discretion":"optional"},{"workflownumber":1,"paramnumber":"3","project":"Project1","discretion":"essential","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","category":"inputdir","locked":0,"username":"testuser","valuetype":"directory","appnumber":"2","args":"input.outputdir.value","paramname":"inputdir","inputParams":"InputParams","workflow":"Workflow1","format":"","paramtype":"input","owner":"aguatest","value":"Project1/Workflow1/downloads","paramFunction":"","ordinal":0,"appname":"unzipFiles","argument":"--inputdir","chained":0},{"chained":0,"ordinal":0,"appname":"unzipFiles","argument":"--outputdir","value":"Project1/Workflow1/downloads","paramFunction":"","format":"","paramtype":"input","owner":"aguatest","workflow":"Workflow1","inputParams":"InputParams","appnumber":"2","args":"input.outputdir.value","paramname":"outputdir","valuetype":"directory","description":"Unzip files to this directory","locked":0,"category":"outputdir","username":"testuser","discretion":"required","project":"Project1","workflownumber":1,"paramnumber":"4"},{"owner":"aguatest","paramtype":"input","format":"","paramFunction":"","value":"chr[XYM0-9]+.fa.gz","appname":"unzipFiles","ordinal":0,"argument":"--regex","chained":1,"inputParams":"","workflow":"Workflow1","valuetype":"string","paramname":"regex","args":"input.regex.value","appnumber":"2","paramnumber":"5","workflownumber":1,"project":"Project1","discretion":"optional","username":"testuser","description":"Unzip only files matching this regular expression","locked":0,"category":"filter"},{"workflownumber":1,"paramnumber":"6","project":"Project1","discretion":"required","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","locked":0,"category":"type","username":"testuser","valuetype":"string","appnumber":"2","args":"","paramname":"type","inputParams":"","workflow":"Workflow1","format":"","paramtype":"input","owner":"aguatest","value":"gunzip","paramFunction":"","ordinal":0,"argument":"--type","appname":"unzipFiles","chained":0}]
2018-08-03 02:20:02        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"inputParams":"referencedir,outputdir,inputdir","workflow":"Workflow1","value":"Project1/Workflow1/reference/fasta","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","format":"","owner":"aguatest","paramtype":"input","chained":0,"argument":"--inputdir","ordinal":0,"appname":"elandIndex","project":"Project1","workflownumber":1,"paramnumber":"1","description":"Location of directory containing *.fa files","category":"inputdir","locked":0,"username":"testuser","discretion":"essential","valuetype":"directory","appnumber":"3","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramname":"inputdir"},{"value":"Project1/Workflow1/reference/eland","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","format":"","paramtype":"input","owner":"aguatest","chained":0,"appname":"elandIndex","ordinal":0,"argument":"--outputdir","inputParams":"referencedir,outputdir,inputdir","workflow":"Workflow1","valuetype":"directory","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","appnumber":"3","paramname":"outputdir","project":"Project1","workflownumber":1,"paramnumber":"2","category":"outputdir","description":"Print indexed files to this directory","locked":0,"username":"testuser","discretion":"required"},{"chained":0,"appname":"elandIndex","ordinal":0,"argument":"--subdirs","value":"","paramFunction":"","format":"","paramtype":"input","owner":"aguatest","workflow":"Workflow1","inputParams":"","appnumber":"3","args":"input.subdirs.value","paramname":"subdirs","valuetype":"flag","description":"","locked":0,"category":"subdirs","username":"testuser","discretion":"optional","project":"Project1","workflownumber":1,"paramnumber":"3"}]
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStartStop	1748	# stages: 3
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStartStop	1753	self->start: 1
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->stop: undef
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStartStop	1759	start: 1
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStartStop	1760	stop: 4
2018-08-03 02:20:02        [NOTE]   	Engine::Workflow::setStartStop	1781	5333 Setting start: 1
2018-08-03 02:20:02        [NOTE]   	Engine::Workflow::setStartStop	1782	5333 Setting stop: 4
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1396	start: 1
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1397	stop: 4
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1401	fileroot: /home/testuser/agua
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setFileDirs	1535	fileroot: /home/testuser/agua
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setFileDirs	1536	project: Project1
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setFileDirs	1537	workflow: Workflow1
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setFileDirs	1541	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1405	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1421	BEFORE monitor = self->updateMonitor()
2018-08-03 02:20:02        [CALLER]   	Engine::Workflow::updateMonitor	2058	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1425	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:20:02        [DEBUG]   	Engine::Workflow::setStages	1503	final no. stageobjects: 3
2018-08-03 02:20:02        [GROUPEND]    	Engine::Workflow::setStages	1505	Engine::Workflow::setStages
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::_getStatus	2266	now: datetime()
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::_getStatus	2269	datetime: 2018-08-03 06:20:02
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::_getStatus	2282	# stages: 3
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::_getStatus	2283	stages: [{"stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","owner":"aguatest","status":"","number":1,"type":"utility","submit":0,"notes":"","successor":"","workflow":"Workflow1","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","sample":"","version":"0.6.0","workflowpid":0,"cluster":"","installdir":"/agua/bioapps","name":"FTP","package":"bioapps","envarfile":"","location":"bin/utils/FTP.pl","stagejobid":0,"queued":"0000-00-00 00:00:00","executor":"/usr/bin/perl","project":"Project1","started":"2012-02-26 04:24:14","workflownumber":1,"stagepid":7860,"ancestor":"","description":"","now":"2018-08-03 06:20:02","username":"testuser","completed":"2012-02-26 04:36:30"},{"started":"2012-02-27 03:39:00","project":"Project1","executor":"/usr/bin/perl","ancestor":"","stagepid":8997,"workflownumber":1,"username":"testuser","description":"","now":"2018-08-03 06:20:02","completed":"2012-02-27 03:39:27","name":"unzipFiles","cluster":"","workflowpid":0,"installdir":"/agua/bioapps","stagejobid":0,"location":"bin/utils/unzipFiles.pl","package":"bioapps","envarfile":"","queued":"0000-00-00 00:00:00","number":2,"type":"utility","submit":0,"workflow":"Workflow1","successor":"","notes":"","version":"0.6.0","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","sample":"","owner":"aguatest","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","status":""},{"stderrfile":"","owner":"aguatest","status":"","type":"converter","number":3,"submit":0,"notes":undef,"successor":"","workflow":"Workflow1","sample":"","stdoutfile":"","version":"0.6.0","cluster":"","workflowpid":0,"installdir":"/agua/bioapps","name":"elandIndex","envarfile":"","package":"bioapps","location":"bin/converters/elandIndex.pl","stagejobid":0,"queued":"0000-00-00 00:00:00","executor":"/usr/bin/perl","started":"0000-00-00 00:00:00","project":"Project1","workflownumber":1,"ancestor":"","stagepid":0,"now":"2018-08-03 06:20:02","description":"","username":"testuser","completed":"0000-00-00 00:00:00"}]
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::_getStatus	2293	cluster: testuser-testcluster
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::_getStatusCluster	2319	
2018-08-03 02:20:02    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:20:02    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:20:02    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:20:02    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::_getStatusCluster	2323	clusterworkflow: {}
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2410	workflow: Workflow1
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2413	object: {"description":"","notes":"","username":"testuser","provenance":undef,"project":"Project1","number":1,"status":"","name":"Workflow1"}
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::_getStatusCluster	2325	workflowstatus: 
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::runLocally	815	# stages: 3
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::runLocally	818	BEFORE runStages()

2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::runLocally	820	AFTER runStages    success: 2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages


2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2559	status: completed
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2569	hash: {"status":"completed","username":"testuser","name":"Workflow1","project":"Project1","cluster":undef}
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2575	BEFORE _updateTable   hash: {"status":"completed","username":"testuser","name":"Workflow1","project":"Project1","cluster":undef}
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	self->db: bless( {"dbh":bless( {}, "DBI::db" ),"dbtype":"sqlite","indent":4,"oldlog":2,"database":"agua","logtype":"cli","password":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2,"user":"","oldprintlog":2,"log":2,"sqlite":"","dbfile":"/a/db/sqlite/agua.sqlite","backup":0}, "DBase::SQLite" )
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	success: 1
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::setWorkflowStatus	665	status: completed
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	data: {"project":"Project1","workflownumber":1,"samplehash":undef,"username":"testuser","workflow":"Workflow1","start":1}
2018-08-03 02:20:02    [DEBUG]   	Engine::Workflow::executeWorkflow	653	addQueueSample success: 2018-08-03 02:20:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:20:02    [GROUPEND]    	Engine::Workflow::executeWorkflow	661	5333 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 02:20:02  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	346	statuses: []
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4","conf":bless( {"printlog":2,"memory":1,"valueoffset":24,"oldprintlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"backup":1,"oldlog":2,"logtype":"cli","memorystore":undef,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"indent":4}, "Conf::Yaml" ),"printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2559	status: running
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2569	hash: {"username":"testuser","name":"Workflow1","status":"running","cluster":undef,"project":"Project1"}
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2575	BEFORE _updateTable   hash: {"username":"testuser","name":"Workflow1","status":"running","cluster":undef,"project":"Project1"}
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	self->db: bless( {"oldlog":2,"backup":0,"password":"","oldprintlog":2,"printlog":2,"dbtype":"sqlite","database":"agua","user":"","log":2,"indent":4,"dbh":bless( {}, "DBI::db" ),"dbfile":"/a/db/sqlite/agua.sqlite","sqlite":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli"}, "DBase::SQLite" )
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	success: 1
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:24:34        [GROUP]    	Engine::Workflow::setStages	1367	Engine::Workflow::setStages
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1368	username: testuser
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1369	cluster: undef
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1370	project: Project1
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1371	workflow: Workflow1
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1372	scheduler: local
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1379	slots: undef
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1386	force: undef
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::checkPrevious	1705	start: 0
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1388	previouscompleted: 1
2018-08-03 02:24:34        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"valuetype":"string","paramname":"filter","appnumber":"1","username":"testuser","workflownumber":1,"locked":0,"owner":"aguatest","paramtype":"input","args":"","value":"","appname":"FTP","paramFunction":"","ordinal":0,"argument":"--filter","workflow":"Workflow1","paramnumber":"1","inputParams":"","format":"","project":"Project1","discretion":"optional","chained":0,"description":"Download only files containing this text fragment","category":"filter"},{"owner":"aguatest","args":"","value":"Project1/Workflow1/downloads","paramtype":"input","workflow":"Workflow1","argument":"--outputdir","paramnumber":"2","paramFunction":"","appname":"FTP","ordinal":0,"paramname":"outputdir","appnumber":"1","valuetype":"directory","username":"testuser","workflownumber":1,"locked":0,"chained":0,"description":"Create this directory and download files to it","category":"outputdir","inputParams":"","format":"","project":"Project1","discretion":"required"},{"category":"regex","description":"Download files matching this regular expression","chained":0,"discretion":"optional","project":"Project1","format":"","inputParams":"","ordinal":0,"paramFunction":"","appname":"FTP","paramnumber":"3","workflow":"Workflow1","argument":"--regex","paramtype":"input","value":"chr[XYM0-9]+.fa.gz","args":"","owner":"aguatest","locked":0,"workflownumber":1,"username":"testuser","appnumber":"1","valuetype":"string","paramname":"regex"},{"workflow":"Workflow1","paramnumber":"4","argument":"--type","paramFunction":"","ordinal":0,"appname":"FTP","owner":"aguatest","args":"","value":"html","paramtype":"input","workflownumber":1,"locked":0,"appnumber":"1","paramname":"type","valuetype":"string","username":"testuser","description":"Type of page: html or text","category":"type","chained":0,"project":"Project1","discretion":"essential","inputParams":"","format":""},{"paramFunction":"","ordinal":0,"appname":"FTP","paramnumber":"5","workflow":"Workflow1","argument":"--url","paramtype":"input","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","args":"","owner":"aguatest","locked":0,"workflownumber":1,"username":"testuser","appnumber":"1","paramname":"url","valuetype":"string","category":"url","description":"Download files linked on this page","chained":0,"discretion":"required","project":"Project1","format":"","inputParams":""}]
2018-08-03 02:24:34        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"value":"1","args":"","paramtype":"input","owner":"aguatest","paramnumber":"1","workflow":"Workflow1","argument":"--delete","appname":"unzipFiles","paramFunction":"","ordinal":0,"username":"testuser","appnumber":"2","paramname":"delete","valuetype":"flag","locked":0,"workflownumber":1,"chained":0,"category":"delete","description":" Remove zipped files after unzipping","format":"","inputParams":"","discretion":"optional","project":"Project1"},{"username":"testuser","paramname":"filter","appnumber":"2","valuetype":"string","locked":0,"workflownumber":1,"value":"","args":"","paramtype":"input","owner":"aguatest","paramnumber":"2","workflow":"Workflow1","argument":"--filter","ordinal":0,"paramFunction":"","appname":"unzipFiles","format":"","inputParams":"","discretion":"optional","project":"Project1","chained":0,"description":"Unzip only files containing this text fragment","category":"filter"},{"locked":0,"workflownumber":1,"username":"testuser","paramname":"inputdir","valuetype":"directory","appnumber":"2","workflow":"Workflow1","argument":"--inputdir","paramnumber":"3","paramFunction":"","ordinal":0,"appname":"unzipFiles","args":"input.outputdir.value","value":"Project1/Workflow1/downloads","paramtype":"input","owner":"aguatest","discretion":"essential","project":"Project1","format":"","inputParams":"InputParams","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","category":"inputdir","chained":0},{"ordinal":0,"paramFunction":"","appname":"unzipFiles","paramnumber":"4","argument":"--outputdir","workflow":"Workflow1","owner":"aguatest","paramtype":"input","args":"input.outputdir.value","value":"Project1/Workflow1/downloads","workflownumber":1,"locked":0,"appnumber":"2","paramname":"outputdir","valuetype":"directory","username":"testuser","description":"Unzip files to this directory","category":"outputdir","chained":0,"project":"Project1","discretion":"required","inputParams":"InputParams","format":""},{"category":"filter","description":"Unzip only files matching this regular expression","chained":1,"project":"Project1","discretion":"optional","inputParams":"","format":"","argument":"--regex","paramnumber":"5","workflow":"Workflow1","ordinal":0,"paramFunction":"","appname":"unzipFiles","owner":"aguatest","value":"chr[XYM0-9]+.fa.gz","args":"input.regex.value","paramtype":"input","workflownumber":1,"locked":0,"valuetype":"string","appnumber":"2","paramname":"regex","username":"testuser"},{"format":"","inputParams":"","discretion":"required","project":"Project1","chained":0,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","category":"type","username":"testuser","paramname":"type","appnumber":"2","valuetype":"string","locked":0,"workflownumber":1,"paramtype":"input","args":"","value":"gunzip","owner":"aguatest","paramFunction":"","appname":"unzipFiles","ordinal":0,"paramnumber":"6","workflow":"Workflow1","argument":"--type"}]
2018-08-03 02:24:34        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"format":"","inputParams":"referencedir,outputdir,inputdir","discretion":"essential","project":"Project1","chained":0,"description":"Location of directory containing *.fa files","category":"inputdir","username":"testuser","paramname":"inputdir","valuetype":"directory","appnumber":"3","locked":0,"workflownumber":1,"paramtype":"input","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","value":"Project1/Workflow1/reference/fasta","owner":"aguatest","ordinal":0,"paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","appname":"elandIndex","workflow":"Workflow1","argument":"--inputdir","paramnumber":"1"},{"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","value":"Project1/Workflow1/reference/eland","paramtype":"input","owner":"aguatest","paramnumber":"2","workflow":"Workflow1","argument":"--outputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","ordinal":0,"appname":"elandIndex","username":"testuser","valuetype":"directory","appnumber":"3","paramname":"outputdir","locked":0,"workflownumber":1,"chained":0,"description":"Print indexed files to this directory","category":"outputdir","format":"","inputParams":"referencedir,outputdir,inputdir","discretion":"required","project":"Project1"},{"workflownumber":1,"locked":0,"paramname":"subdirs","appnumber":"3","valuetype":"flag","username":"testuser","paramFunction":"","appname":"elandIndex","ordinal":0,"workflow":"Workflow1","paramnumber":"3","argument":"--subdirs","owner":"aguatest","paramtype":"input","value":"","args":"input.subdirs.value","project":"Project1","discretion":"optional","inputParams":"","format":"","description":"","category":"subdirs","chained":0}]
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStartStop	1748	# stages: 3
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStartStop	1753	self->start: 1
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->stop: undef
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStartStop	1759	start: 1
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStartStop	1760	stop: 4
2018-08-03 02:24:34        [NOTE]   	Engine::Workflow::setStartStop	1781	5368 Setting start: 1
2018-08-03 02:24:34        [NOTE]   	Engine::Workflow::setStartStop	1782	5368 Setting stop: 4
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1396	start: 1
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1397	stop: 4
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1401	fileroot: /home/testuser/agua
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setFileDirs	1535	fileroot: /home/testuser/agua
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setFileDirs	1536	project: Project1
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setFileDirs	1537	workflow: Workflow1
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setFileDirs	1541	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1405	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1421	BEFORE monitor = self->updateMonitor()
2018-08-03 02:24:34        [CALLER]   	Engine::Workflow::updateMonitor	2058	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1425	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:24:34        [DEBUG]   	Engine::Workflow::setStages	1503	final no. stageobjects: 3
2018-08-03 02:24:34        [GROUPEND]    	Engine::Workflow::setStages	1505	Engine::Workflow::setStages
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::_getStatus	2266	now: datetime()
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::_getStatus	2269	datetime: 2018-08-03 06:24:34
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::_getStatus	2282	# stages: 3
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::_getStatus	2283	stages: [{"successor":"","location":"bin/utils/FTP.pl","description":"","installdir":"/agua/bioapps","status":"","workflowpid":0,"sample":"","project":"Project1","completed":"2012-02-26 04:36:30","number":1,"cluster":"","name":"FTP","owner":"aguatest","now":"2018-08-03 06:24:34","notes":"","ancestor":"","version":"0.6.0","stagepid":7860,"workflow":"Workflow1","envarfile":"","started":"2012-02-26 04:24:14","username":"testuser","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","executor":"/usr/bin/perl","workflownumber":1,"queued":"0000-00-00 00:00:00","type":"utility","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","submit":0,"package":"bioapps","stagejobid":0},{"stagepid":8997,"version":"0.6.0","envarfile":"","workflow":"Workflow1","now":"2018-08-03 06:24:34","notes":"","name":"unzipFiles","owner":"aguatest","ancestor":"","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","package":"bioapps","submit":0,"workflownumber":1,"queued":"0000-00-00 00:00:00","type":"utility","stagejobid":0,"started":"2012-02-27 03:39:00","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","username":"testuser","executor":"/usr/bin/perl","location":"bin/utils/unzipFiles.pl","description":"","successor":"","completed":"2012-02-27 03:39:27","project":"Project1","cluster":"","number":2,"installdir":"/agua/bioapps","status":"","sample":"","workflowpid":0},{"cluster":"","number":3,"project":"Project1","completed":"0000-00-00 00:00:00","sample":"","workflowpid":0,"status":"","installdir":"/agua/bioapps","description":"","location":"bin/converters/elandIndex.pl","successor":"","stagejobid":0,"submit":0,"stderrfile":"","package":"bioapps","queued":"0000-00-00 00:00:00","workflownumber":1,"type":"converter","stdoutfile":"","executor":"/usr/bin/perl","username":"testuser","started":"0000-00-00 00:00:00","workflow":"Workflow1","envarfile":"","stagepid":0,"version":"0.6.0","ancestor":"","notes":undef,"now":"2018-08-03 06:24:34","owner":"aguatest","name":"elandIndex"}]
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::_getStatus	2293	cluster: testuser-testcluster
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::_getStatusCluster	2319	
2018-08-03 02:24:34    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:24:34    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:24:34    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:24:34    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::_getStatusCluster	2323	clusterworkflow: {}
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2410	workflow: Workflow1
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2413	object: {"project":"Project1","number":1,"status":"","username":"testuser","description":"","name":"Workflow1","notes":"","provenance":undef}
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::_getStatusCluster	2325	workflowstatus: 
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::runLocally	815	# stages: 3
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::runLocally	818	BEFORE runStages()

2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::runLocally	820	AFTER runStages    success: 2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages


2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2559	status: completed
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2569	hash: {"username":"testuser","name":"Workflow1","status":"completed","cluster":undef,"project":"Project1"}
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2575	BEFORE _updateTable   hash: {"username":"testuser","name":"Workflow1","status":"completed","cluster":undef,"project":"Project1"}
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	self->db: bless( {"oldlog":2,"backup":0,"password":"","oldprintlog":2,"printlog":2,"dbtype":"sqlite","database":"agua","user":"","log":2,"indent":4,"dbh":bless( {}, "DBI::db" ),"dbfile":"/a/db/sqlite/agua.sqlite","sqlite":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli"}, "DBase::SQLite" )
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	success: 1
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::setWorkflowStatus	665	status: completed
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	data: {"workflow":"Workflow1","samplehash":undef,"project":"Project1","start":1,"workflownumber":1,"username":"testuser"}
2018-08-03 02:24:34    [DEBUG]   	Engine::Workflow::executeWorkflow	653	addQueueSample success: 2018-08-03 02:24:34    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:24:34    [GROUPEND]    	Engine::Workflow::executeWorkflow	661	5368 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 02:24:34  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	346	statuses: []
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"conf":bless( {"memory":1,"printlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"valueoffset":24,"memorystore":undef,"backup":1,"oldprintlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"indent":4,"oldlog":2}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4"}
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	340	DOING executeWorkflow()
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2559	status: running
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2569	hash: {"cluster":undef,"name":"Workflow1","status":"running","project":"Project1","username":"testuser"}
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2575	BEFORE _updateTable   hash: {"cluster":undef,"name":"Workflow1","status":"running","project":"Project1","username":"testuser"}
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	self->db: bless( {"dbfile":"/a/db/sqlite/agua.sqlite","dbtype":"sqlite","sqlite":"","oldlog":2,"logtype":"cli","dbh":bless( {}, "DBI::db" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","database":"agua","user":"","indent":4,"backup":0,"oldprintlog":2,"password":"","printlog":2,"log":2}, "DBase::SQLite" )
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	success: 1
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:37:03        [GROUP]    	Engine::Workflow::setStages	1367	Engine::Workflow::setStages
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1368	username: testuser
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1369	cluster: undef
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1370	project: Project1
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1371	workflow: Workflow1
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1372	scheduler: local
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1379	slots: undef
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1386	force: undef
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::checkPrevious	1705	start: 0
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1388	previouscompleted: 1
2018-08-03 02:37:03        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"username":"testuser","paramFunction":"","inputParams":"","project":"Project1","chained":0,"paramnumber":"1","workflow":"Workflow1","args":"","category":"filter","workflownumber":1,"valuetype":"string","description":"Download only files containing this text fragment","appname":"FTP","format":"","ordinal":0,"appnumber":"1","paramtype":"input","locked":0,"discretion":"optional","paramname":"filter","owner":"aguatest","argument":"--filter","value":""},{"format":"","discretion":"required","appnumber":"1","locked":0,"paramtype":"input","ordinal":0,"paramname":"outputdir","value":"Project1/Workflow1/downloads","argument":"--outputdir","owner":"aguatest","chained":0,"project":"Project1","paramFunction":"","inputParams":"","username":"testuser","paramnumber":"2","workflow":"Workflow1","category":"outputdir","args":"","appname":"FTP","description":"Create this directory and download files to it","valuetype":"directory","workflownumber":1},{"locked":0,"appnumber":"1","paramtype":"input","ordinal":0,"discretion":"optional","format":"","value":"chr[XYM0-9]+.fa.gz","argument":"--regex","owner":"aguatest","paramname":"regex","paramnumber":"3","workflow":"Workflow1","username":"testuser","project":"Project1","chained":0,"paramFunction":"","inputParams":"","workflownumber":1,"appname":"FTP","valuetype":"string","description":"Download files matching this regular expression","args":"","category":"regex"},{"paramname":"type","owner":"aguatest","argument":"--type","value":"html","format":"","discretion":"essential","ordinal":0,"appnumber":"1","locked":0,"paramtype":"input","category":"type","args":"","valuetype":"string","description":"Type of page: html or text","appname":"FTP","workflownumber":1,"inputParams":"","paramFunction":"","project":"Project1","chained":0,"username":"testuser","workflow":"Workflow1","paramnumber":"4"},{"paramnumber":"5","workflow":"Workflow1","username":"testuser","paramFunction":"","inputParams":"","chained":0,"project":"Project1","workflownumber":1,"valuetype":"string","description":"Download files linked on this page","appname":"FTP","args":"","category":"url","ordinal":0,"paramtype":"input","appnumber":"1","locked":0,"discretion":"required","format":"","owner":"aguatest","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","argument":"--url","paramname":"url"}]
2018-08-03 02:37:03        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"workflownumber":1,"appname":"unzipFiles","valuetype":"flag","description":" Remove zipped files after unzipping","args":"","category":"delete","paramnumber":"1","workflow":"Workflow1","username":"testuser","chained":0,"project":"Project1","inputParams":"","paramFunction":"","argument":"--delete","value":"1","owner":"aguatest","paramname":"delete","appnumber":"2","locked":0,"paramtype":"input","ordinal":0,"discretion":"optional","format":""},{"argument":"--filter","value":"","owner":"aguatest","paramname":"filter","discretion":"optional","paramtype":"input","appnumber":"2","locked":0,"ordinal":0,"format":"","appname":"unzipFiles","valuetype":"string","description":"Unzip only files containing this text fragment","workflownumber":1,"category":"filter","args":"","workflow":"Workflow1","paramnumber":"2","project":"Project1","chained":0,"paramFunction":"","inputParams":"","username":"testuser"},{"owner":"aguatest","argument":"--inputdir","value":"Project1/Workflow1/downloads","paramname":"inputdir","discretion":"essential","ordinal":0,"paramtype":"input","appnumber":"2","locked":0,"format":"","valuetype":"directory","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","appname":"unzipFiles","workflownumber":1,"category":"inputdir","args":"input.outputdir.value","paramnumber":"3","workflow":"Workflow1","inputParams":"InputParams","paramFunction":"","chained":0,"project":"Project1","username":"testuser"},{"value":"Project1/Workflow1/downloads","argument":"--outputdir","owner":"aguatest","paramname":"outputdir","paramtype":"input","appnumber":"2","locked":0,"ordinal":0,"discretion":"required","format":"","workflownumber":1,"appname":"unzipFiles","valuetype":"directory","description":"Unzip files to this directory","args":"input.outputdir.value","category":"outputdir","paramnumber":"4","workflow":"Workflow1","username":"testuser","project":"Project1","chained":0,"inputParams":"InputParams","paramFunction":""},{"workflownumber":1,"valuetype":"string","description":"Unzip only files matching this regular expression","appname":"unzipFiles","args":"input.regex.value","category":"filter","paramnumber":"5","workflow":"Workflow1","username":"testuser","paramFunction":"","inputParams":"","chained":1,"project":"Project1","owner":"aguatest","value":"chr[XYM0-9]+.fa.gz","argument":"--regex","paramname":"regex","ordinal":0,"appnumber":"2","locked":0,"paramtype":"input","discretion":"optional","format":""},{"appname":"unzipFiles","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","valuetype":"string","workflownumber":1,"category":"type","args":"","paramnumber":"6","workflow":"Workflow1","chained":0,"project":"Project1","inputParams":"","paramFunction":"","username":"testuser","argument":"--type","value":"gunzip","owner":"aguatest","paramname":"type","discretion":"required","locked":0,"appnumber":"2","paramtype":"input","ordinal":0,"format":""}]
2018-08-03 02:37:03        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"workflownumber":1,"valuetype":"directory","description":"Location of directory containing *.fa files","appname":"elandIndex","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","category":"inputdir","paramnumber":"1","workflow":"Workflow1","username":"testuser","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","inputParams":"referencedir,outputdir,inputdir","project":"Project1","chained":0,"owner":"aguatest","value":"Project1/Workflow1/reference/fasta","argument":"--inputdir","paramname":"inputdir","ordinal":0,"appnumber":"3","locked":0,"paramtype":"input","discretion":"essential","format":""},{"discretion":"required","appnumber":"3","locked":0,"paramtype":"input","ordinal":0,"format":"","argument":"--outputdir","value":"Project1/Workflow1/reference/eland","owner":"aguatest","paramname":"outputdir","workflow":"Workflow1","paramnumber":"2","project":"Project1","chained":0,"paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","inputParams":"referencedir,outputdir,inputdir","username":"testuser","appname":"elandIndex","description":"Print indexed files to this directory","valuetype":"directory","workflownumber":1,"category":"outputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value"},{"paramname":"subdirs","argument":"--subdirs","value":"","owner":"aguatest","format":"","discretion":"optional","appnumber":"3","paramtype":"input","locked":0,"ordinal":0,"category":"subdirs","args":"input.subdirs.value","appname":"elandIndex","description":"","valuetype":"flag","workflownumber":1,"chained":0,"project":"Project1","inputParams":"","paramFunction":"","username":"testuser","paramnumber":"3","workflow":"Workflow1"}]
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStartStop	1748	# stages: 3
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStartStop	1753	self->start: 1
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->stop: undef
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStartStop	1759	start: 1
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStartStop	1760	stop: 4
2018-08-03 02:37:03        [NOTE]   	Engine::Workflow::setStartStop	1781	6063 Setting start: 1
2018-08-03 02:37:03        [NOTE]   	Engine::Workflow::setStartStop	1782	6063 Setting stop: 4
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1396	start: 1
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1397	stop: 4
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1401	fileroot: /home/testuser/agua
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setFileDirs	1535	fileroot: /home/testuser/agua
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setFileDirs	1536	project: Project1
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setFileDirs	1537	workflow: Workflow1
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setFileDirs	1541	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1405	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1421	BEFORE monitor = self->updateMonitor()
2018-08-03 02:37:03        [CALLER]   	Engine::Workflow::updateMonitor	2058	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1425	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:37:03        [DEBUG]   	Engine::Workflow::setStages	1503	final no. stageobjects: 3
2018-08-03 02:37:03        [GROUPEND]    	Engine::Workflow::setStages	1505	Engine::Workflow::setStages
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::_getStatus	2266	now: datetime()
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::_getStatus	2269	datetime: 2018-08-03 06:37:03
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::_getStatus	2282	# stages: 3
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::_getStatus	2283	stages: [{"installdir":"/agua/bioapps","workflownumber":1,"workflowpid":0,"location":"bin/utils/FTP.pl","status":"","cluster":"","completed":"2012-02-26 04:36:30","now":"2018-08-03 06:37:03","description":"","username":"testuser","ancestor":"","package":"bioapps","queued":"0000-00-00 00:00:00","project":"Project1","notes":"","workflow":"Workflow1","stagepid":7860,"type":"utility","number":1,"version":"0.6.0","started":"2012-02-26 04:24:14","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","executor":"/usr/bin/perl","owner":"aguatest","submit":0,"stagejobid":0,"name":"FTP","sample":"","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","envarfile":"","successor":""},{"version":"0.6.0","executor":"/usr/bin/perl","owner":"aguatest","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","started":"2012-02-27 03:39:00","submit":0,"stagejobid":0,"stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","envarfile":"","successor":"","sample":"","name":"unzipFiles","installdir":"/agua/bioapps","cluster":"","now":"2018-08-03 06:37:03","description":"","completed":"2012-02-27 03:39:27","location":"bin/utils/unzipFiles.pl","workflowpid":0,"workflownumber":1,"status":"","queued":"0000-00-00 00:00:00","project":"Project1","package":"bioapps","notes":"","ancestor":"","username":"testuser","type":"utility","number":2,"workflow":"Workflow1","stagepid":8997},{"description":"","now":"2018-08-03 06:37:03","completed":"0000-00-00 00:00:00","cluster":"","workflownumber":1,"workflowpid":0,"location":"bin/converters/elandIndex.pl","status":"","installdir":"/agua/bioapps","type":"converter","number":3,"workflow":"Workflow1","stagepid":0,"notes":undef,"package":"bioapps","queued":"0000-00-00 00:00:00","project":"Project1","ancestor":"","username":"testuser","owner":"aguatest","executor":"/usr/bin/perl","stdoutfile":"","started":"0000-00-00 00:00:00","version":"0.6.0","stderrfile":"","successor":"","envarfile":"","sample":"","name":"elandIndex","stagejobid":0,"submit":0}]
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::_getStatus	2293	cluster: testuser-testcluster
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::_getStatusCluster	2319	
2018-08-03 02:37:03    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:37:03    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:37:03    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:37:03    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::_getStatusCluster	2323	clusterworkflow: {}
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2410	workflow: Workflow1
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2413	object: {"username":"testuser","project":"Project1","notes":"","name":"Workflow1","provenance":undef,"number":1,"status":"","description":""}
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::_getStatusCluster	2325	workflowstatus: 
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::runLocally	815	# stages: 3
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::runLocally	818	BEFORE runStages()

2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::runLocally	820	AFTER runStages    success: 2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages


2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2559	status: completed
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2569	hash: {"username":"testuser","project":"Project1","status":"completed","name":"Workflow1","cluster":undef}
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2575	BEFORE _updateTable   hash: {"username":"testuser","project":"Project1","status":"completed","name":"Workflow1","cluster":undef}
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	self->db: bless( {"dbfile":"/a/db/sqlite/agua.sqlite","dbtype":"sqlite","sqlite":"","oldlog":2,"logtype":"cli","dbh":bless( {}, "DBI::db" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","database":"agua","user":"","indent":4,"backup":0,"oldprintlog":2,"password":"","printlog":2,"log":2}, "DBase::SQLite" )
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	success: 1
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::setWorkflowStatus	665	status: completed
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	data: {"workflownumber":1,"workflow":"Workflow1","start":1,"samplehash":undef,"project":"Project1","username":"testuser"}
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::setWorkflowStatus	674	UPDATE workflow
SET status = 'completed'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
AND number = 1
2018-08-03 02:37:03    [DEBUG]   	Engine::Workflow::executeWorkflow	653	addQueueSample success: 2018-08-03 02:37:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:37:03    [GROUPEND]    	Engine::Workflow::executeWorkflow	661	6063 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 02:37:03  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	346	statuses: []
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"log":"4","conf":bless( {"indent":4,"logtype":"cli","oldlog":2,"backup":1,"yaml":bless( [], "YAML::Tiny" ),"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memorystore":undef,"memory":1,"oldprintlog":2,"valueoffset":24,"log":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	350	DOING executeWorkflow()
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	332	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: Project1
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:38:38        [GROUP]    	Engine::Workflow::setStages	1367	Engine::Workflow::setStages
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1368	username: testuser
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1369	cluster: undef
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1370	project: Project1
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1371	workflow: Workflow1
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1372	scheduler: local
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1379	slots: undef
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1386	force: undef
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::checkPrevious	1705	start: 0
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1388	previouscompleted: 1
2018-08-03 02:38:38        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"project":"Project1","workflownumber":1,"discretion":"optional","value":"","inputParams":"","paramnumber":"1","paramname":"filter","valuetype":"string","description":"Download only files containing this text fragment","args":"","argument":"--filter","chained":0,"paramFunction":"","paramtype":"input","appname":"FTP","workflow":"Workflow1","format":"","ordinal":0,"category":"filter","appnumber":"1","locked":0,"owner":"aguatest","username":"testuser"},{"project":"Project1","workflownumber":1,"discretion":"required","value":"Project1/Workflow1/downloads","inputParams":"","paramnumber":"2","paramname":"outputdir","valuetype":"directory","description":"Create this directory and download files to it","args":"","argument":"--outputdir","chained":0,"paramFunction":"","appname":"FTP","paramtype":"input","workflow":"Workflow1","format":"","ordinal":0,"locked":0,"category":"outputdir","appnumber":"1","owner":"aguatest","username":"testuser"},{"description":"Download files matching this regular expression","valuetype":"string","paramname":"regex","argument":"--regex","args":"","value":"chr[XYM0-9]+.fa.gz","discretion":"optional","workflownumber":1,"project":"Project1","paramnumber":"3","inputParams":"","locked":0,"category":"regex","appnumber":"1","username":"testuser","owner":"aguatest","appname":"FTP","paramtype":"input","paramFunction":"","chained":0,"format":"","ordinal":0,"workflow":"Workflow1"},{"value":"html","discretion":"essential","project":"Project1","workflownumber":1,"paramnumber":"4","inputParams":"","valuetype":"string","description":"Type of page: html or text","paramname":"type","argument":"--type","args":"","paramtype":"input","appname":"FTP","chained":0,"paramFunction":"","ordinal":0,"format":"","workflow":"Workflow1","appnumber":"1","category":"type","locked":0,"owner":"aguatest","username":"testuser"},{"appname":"FTP","paramtype":"input","paramFunction":"","chained":0,"format":"","ordinal":0,"workflow":"Workflow1","appnumber":"1","category":"url","locked":0,"username":"testuser","owner":"aguatest","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","discretion":"required","workflownumber":1,"project":"Project1","paramnumber":"5","inputParams":"","description":"Download files linked on this page","valuetype":"string","paramname":"url","args":"","argument":"--url"}]
2018-08-03 02:38:38        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"appnumber":"2","category":"delete","locked":0,"owner":"aguatest","username":"testuser","appname":"unzipFiles","paramtype":"input","chained":0,"paramFunction":"","format":"","ordinal":0,"workflow":"Workflow1","valuetype":"flag","description":" Remove zipped files after unzipping","paramname":"delete","argument":"--delete","args":"","value":"1","discretion":"optional","project":"Project1","workflownumber":1,"paramnumber":"1","inputParams":""},{"inputParams":"","paramnumber":"2","workflownumber":1,"project":"Project1","discretion":"optional","value":"","args":"","argument":"--filter","paramname":"filter","description":"Unzip only files containing this text fragment","valuetype":"string","workflow":"Workflow1","ordinal":0,"format":"","paramFunction":"","chained":0,"appname":"unzipFiles","paramtype":"input","username":"testuser","owner":"aguatest","category":"filter","locked":0,"appnumber":"2"},{"category":"inputdir","locked":0,"appnumber":"2","owner":"aguatest","username":"testuser","paramtype":"input","appname":"unzipFiles","chained":0,"paramFunction":"","ordinal":0,"format":"","workflow":"Workflow1","valuetype":"directory","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","paramname":"inputdir","args":"input.outputdir.value","argument":"--inputdir","value":"Project1/Workflow1/downloads","discretion":"essential","project":"Project1","workflownumber":1,"paramnumber":"3","inputParams":"InputParams"},{"inputParams":"InputParams","paramnumber":"4","workflownumber":1,"project":"Project1","discretion":"required","value":"Project1/Workflow1/downloads","args":"input.outputdir.value","argument":"--outputdir","paramname":"outputdir","description":"Unzip files to this directory","valuetype":"directory","workflow":"Workflow1","format":"","ordinal":0,"paramFunction":"","chained":0,"paramtype":"input","appname":"unzipFiles","username":"testuser","owner":"aguatest","category":"outputdir","appnumber":"2","locked":0},{"valuetype":"string","description":"Unzip only files matching this regular expression","paramname":"regex","argument":"--regex","args":"input.regex.value","value":"chr[XYM0-9]+.fa.gz","discretion":"optional","project":"Project1","workflownumber":1,"paramnumber":"5","inputParams":"","locked":0,"category":"filter","appnumber":"2","owner":"aguatest","username":"testuser","paramtype":"input","appname":"unzipFiles","chained":1,"paramFunction":"","format":"","ordinal":0,"workflow":"Workflow1"},{"workflow":"Workflow1","ordinal":0,"format":"","chained":0,"paramFunction":"","paramtype":"input","appname":"unzipFiles","owner":"aguatest","username":"testuser","category":"type","locked":0,"appnumber":"2","inputParams":"","paramnumber":"6","project":"Project1","workflownumber":1,"discretion":"required","value":"gunzip","args":"","argument":"--type","paramname":"type","valuetype":"string","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)"}]
2018-08-03 02:38:38        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"username":"testuser","owner":"aguatest","category":"inputdir","locked":0,"appnumber":"3","ordinal":0,"format":"","workflow":"Workflow1","appname":"elandIndex","paramtype":"input","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","chained":0,"argument":"--inputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","description":"Location of directory containing *.fa files","valuetype":"directory","paramname":"inputdir","paramnumber":"1","inputParams":"referencedir,outputdir,inputdir","value":"Project1/Workflow1/reference/fasta","discretion":"essential","workflownumber":1,"project":"Project1"},{"format":"","ordinal":0,"workflow":"Workflow1","paramtype":"input","appname":"elandIndex","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","chained":0,"username":"testuser","owner":"aguatest","appnumber":"3","category":"outputdir","locked":0,"paramnumber":"2","inputParams":"referencedir,outputdir,inputdir","value":"Project1/Workflow1/reference/eland","discretion":"required","workflownumber":1,"project":"Project1","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","argument":"--outputdir","description":"Print indexed files to this directory","valuetype":"directory","paramname":"outputdir"},{"locked":0,"category":"subdirs","appnumber":"3","username":"testuser","owner":"aguatest","paramtype":"input","appname":"elandIndex","paramFunction":"","chained":0,"ordinal":0,"format":"","workflow":"Workflow1","description":"","valuetype":"flag","paramname":"subdirs","args":"input.subdirs.value","argument":"--subdirs","discretion":"optional","value":"","workflownumber":1,"project":"Project1","paramnumber":"3","inputParams":""}]
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStartStop	1748	# stages: 3
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStartStop	1753	self->start: 1
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->stop: undef
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStartStop	1759	start: 1
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStartStop	1760	stop: 4
2018-08-03 02:38:38        [NOTE]   	Engine::Workflow::setStartStop	1781	6081 Setting start: 1
2018-08-03 02:38:38        [NOTE]   	Engine::Workflow::setStartStop	1782	6081 Setting stop: 4
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1396	start: 1
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1397	stop: 4
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1401	fileroot: /home/testuser/agua
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setFileDirs	1535	fileroot: /home/testuser/agua
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setFileDirs	1536	project: Project1
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setFileDirs	1537	workflow: Workflow1
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setFileDirs	1541	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1405	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1421	BEFORE monitor = self->updateMonitor()
2018-08-03 02:38:38        [CALLER]   	Engine::Workflow::updateMonitor	2058	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1425	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:38:38        [DEBUG]   	Engine::Workflow::setStages	1503	final no. stageobjects: 3
2018-08-03 02:38:38        [GROUPEND]    	Engine::Workflow::setStages	1505	Engine::Workflow::setStages
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::_getStatus	2266	now: datetime()
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::_getStatus	2269	datetime: 2018-08-03 06:38:38
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::_getStatus	2282	# stages: 3
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::_getStatus	2283	stages: [{"number":1,"workflownumber":1,"completed":"2012-02-26 04:36:30","project":"Project1","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","stagepid":7860,"cluster":"","sample":"","workflowpid":0,"version":"0.6.0","submit":0,"name":"FTP","description":"","status":"","workflow":"Workflow1","location":"bin/utils/FTP.pl","stagejobid":0,"executor":"/usr/bin/perl","now":"2018-08-03 06:38:38","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","queued":"0000-00-00 00:00:00","started":"2012-02-26 04:24:14","envarfile":"","username":"testuser","type":"utility","notes":"","owner":"aguatest","ancestor":"","installdir":"/agua/bioapps","successor":"","package":"bioapps"},{"stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","project":"Project1","workflownumber":1,"completed":"2012-02-27 03:39:27","stagepid":8997,"number":2,"name":"unzipFiles","submit":0,"description":"","workflowpid":0,"cluster":"","sample":"","version":"0.6.0","stagejobid":0,"executor":"/usr/bin/perl","location":"bin/utils/unzipFiles.pl","queued":"0000-00-00 00:00:00","now":"2018-08-03 06:38:38","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","workflow":"Workflow1","status":"","installdir":"/agua/bioapps","successor":"","ancestor":"","package":"bioapps","envarfile":"","started":"2012-02-27 03:39:00","notes":"","type":"utility","owner":"aguatest","username":"testuser"},{"package":"bioapps","installdir":"/agua/bioapps","successor":"","ancestor":"","notes":undef,"type":"converter","owner":"aguatest","username":"testuser","envarfile":"","started":"0000-00-00 00:00:00","queued":"0000-00-00 00:00:00","now":"2018-08-03 06:38:38","stdoutfile":"","stagejobid":0,"location":"bin/converters/elandIndex.pl","executor":"/usr/bin/perl","workflow":"Workflow1","status":"","description":"","name":"elandIndex","submit":0,"version":"0.6.0","workflowpid":0,"cluster":"","sample":"","stagepid":0,"project":"Project1","stderrfile":"","completed":"0000-00-00 00:00:00","workflownumber":1,"number":3}]
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::_getStatus	2293	cluster: testuser-testcluster
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::_getStatusCluster	2319	
2018-08-03 02:38:38    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:38:38    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:38:38    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:38:38    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::_getStatusCluster	2323	clusterworkflow: {}
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2410	workflow: Workflow1
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2413	object: {"notes":"","username":"testuser","description":"","name":"Workflow1","number":1,"status":"","provenance":undef,"project":"Project1"}
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::_getStatusCluster	2325	workflowstatus: 
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::runLocally	815	# stages: 3
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::runLocally	818	BEFORE runStages()

2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::runLocally	820	AFTER runStages    success: 2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages


2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	332	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: Project1
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::setWorkflowStatus	665	status: completed
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	data: {"workflownumber":1,"project":"Project1","samplehash":undef,"start":1,"workflow":"Workflow1","username":"testuser"}
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::setWorkflowStatus	674	UPDATE workflow
SET status = 'completed'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
AND number = 1
2018-08-03 02:38:38    [DEBUG]   	Engine::Workflow::executeWorkflow	653	addQueueSample success: 2018-08-03 02:38:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:38:38    [GROUPEND]    	Engine::Workflow::executeWorkflow	661	6081 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 02:38:38  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	356	statuses: ["Project1","Project1"]
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"oldprintlog":2,"memory":1,"yaml":bless( [], "YAML::Tiny" ),"indent":4,"memorystore":undef,"printlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","backup":1,"log":2,"valueoffset":24,"logtype":"cli","oldlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" )}
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	349	DOING executeWorkflow()
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	331	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: testuser
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:38:50        [GROUP]    	Engine::Workflow::setStages	1367	Engine::Workflow::setStages
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1368	username: testuser
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1369	cluster: undef
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1370	project: Project1
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1371	workflow: Workflow1
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1372	scheduler: local
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1379	slots: undef
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1386	force: undef
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::checkPrevious	1705	start: 0
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1388	previouscompleted: 1
2018-08-03 02:38:50        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"paramFunction":"","paramnumber":"1","inputParams":"","username":"testuser","workflow":"Workflow1","description":"Download only files containing this text fragment","locked":0,"discretion":"optional","format":"","category":"filter","workflownumber":1,"ordinal":0,"owner":"aguatest","appname":"FTP","args":"","argument":"--filter","value":"","paramname":"filter","appnumber":"1","project":"Project1","chained":0,"paramtype":"input","valuetype":"string"},{"chained":0,"paramtype":"input","project":"Project1","valuetype":"directory","paramname":"outputdir","argument":"--outputdir","args":"","value":"Project1/Workflow1/downloads","appnumber":"1","discretion":"required","locked":0,"owner":"aguatest","ordinal":0,"appname":"FTP","format":"","workflownumber":1,"category":"outputdir","username":"testuser","paramFunction":"","paramnumber":"2","inputParams":"","description":"Create this directory and download files to it","workflow":"Workflow1"},{"locked":0,"discretion":"optional","category":"regex","format":"","workflownumber":1,"ordinal":0,"owner":"aguatest","appname":"FTP","paramFunction":"","paramnumber":"3","inputParams":"","username":"testuser","description":"Download files matching this regular expression","workflow":"Workflow1","project":"Project1","chained":0,"paramtype":"input","valuetype":"string","args":"","argument":"--regex","value":"chr[XYM0-9]+.fa.gz","paramname":"regex","appnumber":"1"},{"paramtype":"input","chained":0,"project":"Project1","valuetype":"string","paramname":"type","value":"html","argument":"--type","args":"","appnumber":"1","discretion":"essential","locked":0,"appname":"FTP","owner":"aguatest","ordinal":0,"format":"","workflownumber":1,"category":"type","username":"testuser","inputParams":"","paramnumber":"4","paramFunction":"","description":"Type of page: html or text","workflow":"Workflow1"},{"appnumber":"1","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","args":"","argument":"--url","paramname":"url","valuetype":"string","project":"Project1","paramtype":"input","chained":0,"workflow":"Workflow1","description":"Download files linked on this page","inputParams":"","paramnumber":"5","paramFunction":"","username":"testuser","format":"","workflownumber":1,"category":"url","appname":"FTP","ordinal":0,"owner":"aguatest","locked":0,"discretion":"required"}]
2018-08-03 02:38:50        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"paramFunction":"","inputParams":"","paramnumber":"1","username":"testuser","workflow":"Workflow1","description":" Remove zipped files after unzipping","locked":0,"discretion":"optional","category":"delete","format":"","workflownumber":1,"ordinal":0,"owner":"aguatest","appname":"unzipFiles","args":"","argument":"--delete","value":"1","paramname":"delete","appnumber":"2","project":"Project1","chained":0,"paramtype":"input","valuetype":"flag"},{"description":"Unzip only files containing this text fragment","workflow":"Workflow1","inputParams":"","paramnumber":"2","paramFunction":"","username":"testuser","format":"","category":"filter","workflownumber":1,"appname":"unzipFiles","ordinal":0,"owner":"aguatest","locked":0,"discretion":"optional","appnumber":"2","value":"","args":"","argument":"--filter","paramname":"filter","valuetype":"string","project":"Project1","paramtype":"input","chained":0},{"username":"testuser","inputParams":"InputParams","paramnumber":"3","paramFunction":"","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","workflow":"Workflow1","discretion":"essential","locked":0,"appname":"unzipFiles","owner":"aguatest","ordinal":0,"format":"","category":"inputdir","workflownumber":1,"paramname":"inputdir","value":"Project1/Workflow1/downloads","argument":"--inputdir","args":"input.outputdir.value","appnumber":"2","paramtype":"input","chained":0,"project":"Project1","valuetype":"directory"},{"valuetype":"directory","paramtype":"input","chained":0,"project":"Project1","appnumber":"2","paramname":"outputdir","value":"Project1/Workflow1/downloads","args":"input.outputdir.value","argument":"--outputdir","appname":"unzipFiles","ordinal":0,"owner":"aguatest","workflownumber":1,"format":"","category":"outputdir","discretion":"required","locked":0,"workflow":"Workflow1","description":"Unzip files to this directory","username":"testuser","paramnumber":"4","inputParams":"InputParams","paramFunction":""},{"args":"input.regex.value","argument":"--regex","value":"chr[XYM0-9]+.fa.gz","paramname":"regex","appnumber":"2","project":"Project1","chained":1,"paramtype":"input","valuetype":"string","paramFunction":"","paramnumber":"5","inputParams":"","username":"testuser","workflow":"Workflow1","description":"Unzip only files matching this regular expression","locked":0,"discretion":"optional","format":"","workflownumber":1,"category":"filter","owner":"aguatest","ordinal":0,"appname":"unzipFiles"},{"appnumber":"2","paramname":"type","value":"gunzip","args":"","argument":"--type","valuetype":"string","paramtype":"input","chained":0,"project":"Project1","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","workflow":"Workflow1","username":"testuser","inputParams":"","paramnumber":"6","paramFunction":"","appname":"unzipFiles","ordinal":0,"owner":"aguatest","category":"type","format":"","workflownumber":1,"discretion":"required","locked":0}]
2018-08-03 02:38:50        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"paramname":"inputdir","value":"Project1/Workflow1/reference/fasta","argument":"--inputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","appnumber":"3","paramtype":"input","chained":0,"project":"Project1","valuetype":"directory","username":"testuser","paramnumber":"1","inputParams":"referencedir,outputdir,inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","description":"Location of directory containing *.fa files","workflow":"Workflow1","discretion":"essential","locked":0,"appname":"elandIndex","owner":"aguatest","ordinal":0,"format":"","category":"inputdir","workflownumber":1},{"username":"testuser","paramnumber":"2","inputParams":"referencedir,outputdir,inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","workflow":"Workflow1","description":"Print indexed files to this directory","discretion":"required","locked":0,"appname":"elandIndex","owner":"aguatest","ordinal":0,"category":"outputdir","format":"","workflownumber":1,"paramname":"outputdir","value":"Project1/Workflow1/reference/eland","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","argument":"--outputdir","appnumber":"3","paramtype":"input","chained":0,"project":"Project1","valuetype":"directory"},{"valuetype":"flag","chained":0,"paramtype":"input","project":"Project1","appnumber":"3","paramname":"subdirs","args":"input.subdirs.value","argument":"--subdirs","value":"","ordinal":0,"owner":"aguatest","appname":"elandIndex","format":"","workflownumber":1,"category":"subdirs","discretion":"optional","locked":0,"description":"","workflow":"Workflow1","username":"testuser","paramFunction":"","inputParams":"","paramnumber":"3"}]
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStartStop	1748	# stages: 3
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStartStop	1753	self->start: 1
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->stop: undef
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStartStop	1759	start: 1
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStartStop	1760	stop: 4
2018-08-03 02:38:50        [NOTE]   	Engine::Workflow::setStartStop	1781	6098 Setting start: 1
2018-08-03 02:38:50        [NOTE]   	Engine::Workflow::setStartStop	1782	6098 Setting stop: 4
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1396	start: 1
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1397	stop: 4
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1401	fileroot: /home/testuser/agua
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setFileDirs	1535	fileroot: /home/testuser/agua
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setFileDirs	1536	project: Project1
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setFileDirs	1537	workflow: Workflow1
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setFileDirs	1541	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1405	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1421	BEFORE monitor = self->updateMonitor()
2018-08-03 02:38:50        [CALLER]   	Engine::Workflow::updateMonitor	2058	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1425	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:38:50        [DEBUG]   	Engine::Workflow::setStages	1503	final no. stageobjects: 3
2018-08-03 02:38:50        [GROUPEND]    	Engine::Workflow::setStages	1505	Engine::Workflow::setStages
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::_getStatus	2266	now: datetime()
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::_getStatus	2269	datetime: 2018-08-03 06:38:50
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::_getStatus	2282	# stages: 3
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::_getStatus	2283	stages: [{"sample":"","description":"","workflow":"Workflow1","installdir":"/agua/bioapps","location":"bin/utils/FTP.pl","username":"testuser","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","version":"0.6.0","stagepid":7860,"workflownumber":1,"name":"FTP","owner":"aguatest","queued":"0000-00-00 00:00:00","started":"2012-02-26 04:24:14","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","now":"2018-08-03 06:38:50","type":"utility","cluster":"","stagejobid":0,"successor":"","ancestor":"","completed":"2012-02-26 04:36:30","envarfile":"","status":"","workflowpid":0,"notes":"","package":"bioapps","submit":0,"project":"Project1","number":1,"executor":"/usr/bin/perl"},{"username":"testuser","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","version":"0.6.0","installdir":"/agua/bioapps","location":"bin/utils/unzipFiles.pl","workflow":"Workflow1","description":"","sample":"","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","now":"2018-08-03 06:38:50","owner":"aguatest","name":"unzipFiles","queued":"0000-00-00 00:00:00","started":"2012-02-27 03:39:00","workflownumber":1,"stagepid":8997,"completed":"2012-02-27 03:39:27","status":"","envarfile":"","stagejobid":0,"ancestor":"","successor":"","cluster":"","type":"utility","executor":"/usr/bin/perl","project":"Project1","number":2,"package":"bioapps","submit":0,"workflowpid":0,"notes":""},{"version":"0.6.0","username":"testuser","stderrfile":"","location":"bin/converters/elandIndex.pl","installdir":"/agua/bioapps","description":"","workflow":"Workflow1","sample":"","now":"2018-08-03 06:38:50","stdoutfile":"","started":"0000-00-00 00:00:00","queued":"0000-00-00 00:00:00","name":"elandIndex","owner":"aguatest","stagepid":0,"workflownumber":1,"status":"","envarfile":"","completed":"0000-00-00 00:00:00","stagejobid":0,"successor":"","ancestor":"","cluster":"","type":"converter","executor":"/usr/bin/perl","number":3,"project":"Project1","submit":0,"package":"bioapps","notes":undef,"workflowpid":0}]
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::_getStatus	2293	cluster: testuser-testcluster
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::_getStatusCluster	2319	
2018-08-03 02:38:50    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:38:50    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:38:50    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:38:50    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::_getStatusCluster	2323	clusterworkflow: {}
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2410	workflow: Workflow1
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2413	object: {"description":"","username":"testuser","status":"","name":"Workflow1","provenance":undef,"notes":"","project":"Project1","number":1}
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::_getStatusCluster	2325	workflowstatus: 
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::runLocally	815	# stages: 3
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::runLocally	818	BEFORE runStages()

2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::runLocally	820	AFTER runStages    success: 2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages


2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	331	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: testuser
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::setWorkflowStatus	665	status: completed
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	data: {"workflow":"Workflow1","samplehash":undef,"workflownumber":1,"username":"testuser","project":"Project1","start":1}
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::setWorkflowStatus	674	UPDATE workflow
SET status = 'completed'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
AND number = 1
2018-08-03 02:38:50    [DEBUG]   	Engine::Workflow::executeWorkflow	653	addQueueSample success: 2018-08-03 02:38:50    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:38:50    [GROUPEND]    	Engine::Workflow::executeWorkflow	661	6098 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 02:38:50  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	statuses: ["testuser","testuser"]
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"conf":bless( {"log":2,"backup":1,"printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","valueoffset":24,"oldprintlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"yaml":bless( [], "YAML::Tiny" ),"indent":4,"memorystore":undef,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldlog":2}, "Conf::Yaml" )}
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	349	DOING executeWorkflow()
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	331	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: bless( {"conf":bless( {"log":2,"backup":1,"printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","valueoffset":24,"oldprintlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"yaml":bless( [{"agua":{"OPSPACKAGE":"biorepository","PRIVATEOPSREPO":"private","GUESTLOCK":"0","DATADIR":"/data","S3BUCKET":"https://s3-us-west-1.amazonaws.com/aguadev","SGEROOT":"/opt/sge6","SGEUSERID":"1001","AGUAUSER":"agua","MODULES":"Agua::Admin,Agua::Folders,Agua::Package,Agua::Sharing,Agua::Upload,Agua::View,Engine::Workflow","AUTHOR":"syoung","VERSION":"0.8.0-alpha.1+build13","VIRTUALTYPE":"aws","APPSDIR":"apps","REPOSUBDIR":"repos","REPOTYPE":"github","STARCLUSTER":"/a/apps/starcluster/bin/starcluster","INSTALLDIR":"/a","SGEUSER":"sgeadmin","SSHPASSWORDLOGIN":"NO","OPSREPO":"biorepository","URLPREFIX":"agua","TEMPDIR":"/tmp","APPSPACKAGE":"bioapps","GUESTACCESS":"1","FILECACHEDEPTH":"4","ADMINUSER":"admin","INITCOMPLETE":"0","USERDIR":"/home","CLUSTERTYPE":"SGE","EXECUTION_TEMPDIR":"/tmp","GUESTUSER":"guest","SETUPCOMPLETE":"0","ADMINS":"admin","AGUADIR":"agua"},"packages":{"biorepository":{"0.8.0-beta.1+build.725":{"INSTALLDIR":"/a/repos/public/agua/biorepository"}}},"cluster":{"CANCELJOB":"/opt/sge6/bin/lx24-amd64/qdel -j","QSTAT":"/opt/sge6/bin/lx24-amd64/qstat","SGEROOT":"/opt/sge6","SLEEP":"5","SGEBIN":"/opt/sge6/bin/lx24-amd64","QSUB":"/opt/sge6/bin/lx24-amd64/qsub","SGEQMASTERPORT":"63231","SGEEXECDPORT":"63232"},"database":{"GUESTPASSWORD":"guest","DBFILE":"db/sqlite/agua.sqlite","USER":"agua","TESTPASSWORD":"xxxxxxxxxxx","PASSWORD":"xxxxxxxxxx","TESTDATABASE":"aguatest","DBTYPE":"SQLite","TESTUSER":"testuser","SESSIONTIMEOUT":"24","DUMPFILE":"bin/sql/dump/agua.dump","TESTDBFILE":"db/sqlite/test.sqlite","MYSQLDATA":"/var/lib/mysql","TESTDBTYPE":"SQLite","GUESTUSER":"guest","TESTSESSIONID":"xxxxxxxxxxx","DATABASE":"agua"}}], "YAML::Tiny" ),"indent":4,"memorystore":$VAR1->{"conf"}{"yaml"}[0],"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldlog":2}, "Conf::Yaml" ),"printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","scheduler":"local","db":bless( {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2,"logtype":"cli","oldprintlog":2,"dbfile":"/a/db/sqlite/agua.sqlite","password":"","backup":0,"sqlite":"","log":2,"dbtype":"sqlite","oldlog":2,"dbh":bless( {}, "DBI::db" ),"indent":4,"user":"","database":"agua"}, "DBase::SQLite" ),"oldprintlog":2,"userprojects":undef,"force":undef,"loaded":0,"worldprojects":undef,"package":"","callback":"","usersources":undef,"bytes":200,"apiroot":" http://localhost:55672/api/vhosts","instancetypeslots":{"m1.large":4,"c1.medium":5,"m2.4xlarge":26,"m2.xlarge":7,"m1.xlarge":8,"t1.micro":1,"m1.small":1,"cc1.4xlarge":34,"c1.xlarge":20,"cg1.4xlarge":34,"m2.2xlarge":13},"logtype":"cli","sleep":2,"queue":"default","cluster":"","table":bless( {"oldlog":2,"indent":4,"oldprintlog":2,"db":bless( {"dbh":bless( {}, "DBI::db" ),"oldlog":2,"dbtype":"sqlite","user":"","database":"agua","indent":4,"oldprintlog":2,"dbfile":"/a/db/sqlite/test.sqlite","logtype":"cli","printlog":5,"logfile":"","sqlite":"","log":"4","backup":0,"password":""}, "DBase::SQLite" ),"logtype":"cli","conf":$VAR1->{"conf"},"printlog":5,"logfile":"","backup":0,"log":"4"}, "Test::Table::Main" ),"sendtype":"response","data":undef,"qstat":"","sgeroot":"/opt/sge6","sourceid":"","configfile":"","validated":0,"indent":4,"sharedprojects":undef,"project":"Project1","custom_fields":{},"backup":0,"log":"4","username":"testuser","installdir":"","oldlog":2,"start":1,"workflow":"Workflow1","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","workflownumber":1,"requestor":"","totalprojects":undef,"submit":1,"upgradesleep":10,"monitor":bless( {"oldlog":2,"head":bless( {"printlog":0,"conf":bless( {"oldprintlog":2,"valueoffset":24,"logtype":"cli","logfile":"","printlog":0,"backup":1,"log":0,"oldlog":2,"memorystore":undef,"yaml":bless( [], "YAML::Tiny" ),"memory":0,"indent":4}, "Conf::Yaml" ),"logtype":"cli","oldprintlog":2,"log":0,"backup":0,"oldlog":2,"indent":4,"ops":bless( {"dependents":[],"credentials":"","fileroot":"","upgradesleep":600,"githubapi":"https://api.github.com/repos","logtype":"cli","versionformat":"semver","sleep":600,"opsfile":"","branch":"master","indent":4,"remoteroot":"https://api.github.com/repos","privacy":"public","filetype":"ext3","backup":0,"log":0,"showreport":1,"bitbucketapi":"https://api.bitbucket.org/2.0/repositories","pmfile":"","printlog":0,"conf":$VAR1->{"monitor"}{"head"}{"conf"},"parser":bless( {"max_depth":512,"indent":0,"max_size":0,"indent_length":3,"FLAGS":0,"fallback":sub { "DUMMY" }}, "JSON" ),"oldprintlog":2,"opsfields":["package","repository","version","treeish","branch","privacy","owner","login","hubtype"],"warn":1,"opsmodloaded":0,"oldlog":2,"keyfile":""}, "Moose::Meta::Class::__ANON__::SERIAL::17" )}, "Engine::Instance" ),"conf":bless( {"yaml":bless( [], "YAML::Tiny" ),"memory":0,"indent":4,"memorystore":undef,"oldlog":2,"log":4,"backup":1,"valueoffset":24,"logtype":"cli","printlog":5,"logfile":"","oldprintlog":2}, "Conf::Yaml" ),"logfile":"","printlog":2,"customvars":{"queue":"QUEUE","sgecell":"SGE_CELL","sgeroot":"SGE_ROOT","qmasterport":"SGE_MASTER_PORT","execdport":"SGE_EXECD_PORT","cluster":"CLUSTER"},"oldprintlog":2,"custom_fields":{},"backup":0,"log":1,"loaded":0,"outputdir":"","whoami":"","configfile":"","indent":4,"master":bless( {"logtype":"cli","conf":bless( {"oldlog":2,"yaml":bless( [], "YAML::Tiny" ),"memory":0,"indent":4,"memorystore":undef,"logtype":"cli","valueoffset":24,"printlog":0,"logfile":"","oldprintlog":2,"log":0,"backup":1}, "Conf::Yaml" ),"printlog":0,"oldprintlog":2,"backup":0,"log":0,"oldlog":2,"indent":4,"ops":bless( {"opsmodloaded":0,"keyfile":"","oldlog":2,"showreport":1,"bitbucketapi":"https://api.bitbucket.org/2.0/repositories","backup":0,"log":0,"oldprintlog":2,"opsfields":["package","repository","version","treeish","branch","privacy","owner","login","hubtype"],"warn":1,"pmfile":"","printlog":0,"conf":$VAR1->{"monitor"}{"master"}{"conf"},"parser":bless( {"fallback":$VAR1->{"monitor"}{"head"}{"ops"}{"parser"}{"fallback"},"FLAGS":0,"indent_length":3,"max_size":0,"indent":0,"max_depth":512}, "JSON" ),"remoteroot":"https://api.github.com/repos","privacy":"public","branch":"master","indent":4,"filetype":"ext3","credentials":"","fileroot":"","dependents":[],"opsfile":"","versionformat":"semver","sleep":600,"upgradesleep":600,"githubapi":"https://api.github.com/repos","logtype":"cli"}, "Moose::Meta::Class::__ANON__::SERIAL::17" )}, "Engine::Instance" ),"logtype":"cli","jobidregex":"^(Your job|Your job-array) (\\S+)","sleep":5,"queue":"default","errorregex":"(error|unable to contact)","fileroot":"","tries":20,"qstat":""}, "Test::Engine::Cluster::Monitor::SGE" ),"sharedsources":undef,"cgi":undef,"worldownergroups":undef,"logfh":\*{"Util::Logger::$logfh"},"fileroot":"","port":5672,"privacy":"public","remoteroot":"https://api.github.com/repos"}, "Test::Engine::Workflow::ExecuteWorkflow" )
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:39:09        [GROUP]    	Engine::Workflow::setStages	1367	Engine::Workflow::setStages
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1368	username: testuser
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1369	cluster: undef
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1370	project: Project1
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1371	workflow: Workflow1
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1372	scheduler: local
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1379	slots: undef
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1386	force: undef
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::checkPrevious	1705	start: 0
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1388	previouscompleted: 1
2018-08-03 02:39:09        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"argument":"--filter","paramFunction":"","value":"","inputParams":"","paramnumber":"1","category":"filter","args":"","workflownumber":1,"format":"","project":"Project1","locked":0,"ordinal":0,"description":"Download only files containing this text fragment","username":"testuser","paramname":"filter","discretion":"optional","paramtype":"input","chained":0,"valuetype":"string","appnumber":"1","appname":"FTP","workflow":"Workflow1","owner":"aguatest"},{"paramname":"outputdir","description":"Create this directory and download files to it","username":"testuser","chained":0,"valuetype":"directory","paramtype":"input","discretion":"required","appname":"FTP","appnumber":"1","owner":"aguatest","workflow":"Workflow1","value":"Project1/Workflow1/downloads","inputParams":"","paramnumber":"2","paramFunction":"","argument":"--outputdir","workflownumber":1,"args":"","category":"outputdir","locked":0,"project":"Project1","format":"","ordinal":0},{"locked":0,"format":"","project":"Project1","ordinal":0,"inputParams":"","value":"chr[XYM0-9]+.fa.gz","paramnumber":"3","argument":"--regex","paramFunction":"","args":"","workflownumber":1,"category":"regex","appnumber":"1","appname":"FTP","owner":"aguatest","workflow":"Workflow1","description":"Download files matching this regular expression","username":"testuser","paramname":"regex","chained":0,"valuetype":"string","paramtype":"input","discretion":"optional"},{"paramname":"type","username":"testuser","description":"Type of page: html or text","paramtype":"input","discretion":"essential","chained":0,"valuetype":"string","appname":"FTP","appnumber":"1","workflow":"Workflow1","owner":"aguatest","paramFunction":"","argument":"--type","value":"html","inputParams":"","paramnumber":"4","category":"type","workflownumber":1,"args":"","project":"Project1","format":"","locked":0,"ordinal":0},{"paramname":"url","username":"testuser","description":"Download files linked on this page","valuetype":"string","chained":0,"discretion":"required","paramtype":"input","appname":"FTP","appnumber":"1","owner":"aguatest","workflow":"Workflow1","inputParams":"","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","paramnumber":"5","argument":"--url","paramFunction":"","workflownumber":1,"args":"","category":"url","locked":0,"project":"Project1","format":"","ordinal":0}]
2018-08-03 02:39:09        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"ordinal":0,"locked":0,"project":"Project1","format":"","workflownumber":1,"args":"","category":"delete","value":"1","inputParams":"","paramnumber":"1","paramFunction":"","argument":"--delete","owner":"aguatest","workflow":"Workflow1","appname":"unzipFiles","appnumber":"2","chained":0,"valuetype":"flag","discretion":"optional","paramtype":"input","paramname":"delete","username":"testuser","description":" Remove zipped files after unzipping"},{"owner":"aguatest","workflow":"Workflow1","appname":"unzipFiles","appnumber":"2","valuetype":"string","chained":0,"paramtype":"input","discretion":"optional","paramname":"filter","description":"Unzip only files containing this text fragment","username":"testuser","ordinal":0,"locked":0,"project":"Project1","format":"","workflownumber":1,"args":"","category":"filter","paramnumber":"2","inputParams":"","value":"","argument":"--filter","paramFunction":""},{"paramname":"inputdir","username":"testuser","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","paramtype":"input","discretion":"essential","chained":0,"valuetype":"directory","appname":"unzipFiles","appnumber":"2","workflow":"Workflow1","owner":"aguatest","argument":"--inputdir","paramFunction":"","inputParams":"InputParams","value":"Project1/Workflow1/downloads","paramnumber":"3","category":"inputdir","workflownumber":1,"args":"input.outputdir.value","project":"Project1","format":"","locked":0,"ordinal":0},{"locked":0,"project":"Project1","format":"","ordinal":0,"inputParams":"InputParams","value":"Project1/Workflow1/downloads","paramnumber":"4","paramFunction":"","argument":"--outputdir","workflownumber":1,"args":"input.outputdir.value","category":"outputdir","appname":"unzipFiles","appnumber":"2","owner":"aguatest","workflow":"Workflow1","paramname":"outputdir","description":"Unzip files to this directory","username":"testuser","valuetype":"directory","chained":0,"paramtype":"input","discretion":"required"},{"ordinal":0,"project":"Project1","format":"","locked":0,"category":"filter","workflownumber":1,"args":"input.regex.value","paramFunction":"","argument":"--regex","paramnumber":"5","inputParams":"","value":"chr[XYM0-9]+.fa.gz","workflow":"Workflow1","owner":"aguatest","appname":"unzipFiles","appnumber":"2","paramtype":"input","discretion":"optional","chained":1,"valuetype":"string","paramname":"regex","description":"Unzip only files matching this regular expression","username":"testuser"},{"project":"Project1","format":"","locked":0,"ordinal":0,"paramFunction":"","argument":"--type","paramnumber":"6","inputParams":"","value":"gunzip","category":"type","workflownumber":1,"args":"","appname":"unzipFiles","appnumber":"2","workflow":"Workflow1","owner":"aguatest","paramname":"type","username":"testuser","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","discretion":"required","paramtype":"input","valuetype":"string","chained":0}]
2018-08-03 02:39:09        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"category":"inputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","workflownumber":1,"argument":"--inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","value":"Project1/Workflow1/reference/fasta","inputParams":"referencedir,outputdir,inputdir","paramnumber":"1","ordinal":0,"format":"","project":"Project1","locked":0,"paramtype":"input","discretion":"essential","chained":0,"valuetype":"directory","description":"Location of directory containing *.fa files","username":"testuser","paramname":"inputdir","workflow":"Workflow1","owner":"aguatest","appnumber":"3","appname":"elandIndex"},{"argument":"--outputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","value":"Project1/Workflow1/reference/eland","inputParams":"referencedir,outputdir,inputdir","paramnumber":"2","category":"outputdir","workflownumber":1,"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","project":"Project1","format":"","locked":0,"ordinal":0,"paramname":"outputdir","description":"Print indexed files to this directory","username":"testuser","discretion":"required","paramtype":"input","chained":0,"valuetype":"directory","appname":"elandIndex","appnumber":"3","workflow":"Workflow1","owner":"aguatest"},{"project":"Project1","format":"","locked":0,"ordinal":0,"paramFunction":"","argument":"--subdirs","inputParams":"","paramnumber":"3","value":"","category":"subdirs","workflownumber":1,"args":"input.subdirs.value","appname":"elandIndex","appnumber":"3","workflow":"Workflow1","owner":"aguatest","paramname":"subdirs","username":"testuser","description":"","discretion":"optional","paramtype":"input","chained":0,"valuetype":"flag"}]
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStartStop	1748	# stages: 3
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStartStop	1753	self->start: 1
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->stop: undef
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStartStop	1759	start: 1
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStartStop	1760	stop: 4
2018-08-03 02:39:09        [NOTE]   	Engine::Workflow::setStartStop	1781	6114 Setting start: 1
2018-08-03 02:39:09        [NOTE]   	Engine::Workflow::setStartStop	1782	6114 Setting stop: 4
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1396	start: 1
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1397	stop: 4
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1401	fileroot: /home/testuser/agua
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setFileDirs	1535	fileroot: /home/testuser/agua
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setFileDirs	1536	project: Project1
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setFileDirs	1537	workflow: Workflow1
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setFileDirs	1541	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1405	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1421	BEFORE monitor = self->updateMonitor()
2018-08-03 02:39:09        [CALLER]   	Engine::Workflow::updateMonitor	2058	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1425	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:39:09        [DEBUG]   	Engine::Workflow::setStages	1503	final no. stageobjects: 3
2018-08-03 02:39:09        [GROUPEND]    	Engine::Workflow::setStages	1505	Engine::Workflow::setStages
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::_getStatus	2266	now: datetime()
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::_getStatus	2269	datetime: 2018-08-03 06:39:09
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::_getStatus	2282	# stages: 3
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::_getStatus	2283	stages: [{"project":"Project1","workflowpid":0,"queued":"0000-00-00 00:00:00","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","stagejobid":0,"stagepid":7860,"status":"","location":"bin/utils/FTP.pl","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","cluster":"","notes":"","submit":0,"workflownumber":1,"type":"utility","name":"FTP","successor":"","completed":"2012-02-26 04:36:30","workflow":"Workflow1","version":"0.6.0","owner":"aguatest","sample":"","package":"bioapps","installdir":"/agua/bioapps","description":"","executor":"/usr/bin/perl","username":"testuser","number":1,"ancestor":"","envarfile":"","now":"2018-08-03 06:39:09","started":"2012-02-26 04:24:14"},{"now":"2018-08-03 06:39:09","envarfile":"","started":"2012-02-27 03:39:00","number":2,"ancestor":"","username":"testuser","description":"","executor":"/usr/bin/perl","installdir":"/agua/bioapps","package":"bioapps","owner":"aguatest","sample":"","version":"0.6.0","completed":"2012-02-27 03:39:27","workflow":"Workflow1","successor":"","name":"unzipFiles","workflownumber":1,"type":"utility","submit":0,"cluster":"","notes":"","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","location":"bin/utils/unzipFiles.pl","stagepid":8997,"stagejobid":0,"stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","status":"","queued":"0000-00-00 00:00:00","workflowpid":0,"project":"Project1"},{"status":"","stagejobid":0,"stagepid":0,"stderrfile":"","queued":"0000-00-00 00:00:00","workflowpid":0,"project":"Project1","workflownumber":1,"type":"converter","submit":0,"notes":undef,"cluster":"","stdoutfile":"","location":"bin/converters/elandIndex.pl","package":"bioapps","sample":"","owner":"aguatest","version":"0.6.0","completed":"0000-00-00 00:00:00","workflow":"Workflow1","successor":"","name":"elandIndex","started":"0000-00-00 00:00:00","now":"2018-08-03 06:39:09","envarfile":"","ancestor":"","number":3,"executor":"/usr/bin/perl","description":"","installdir":"/agua/bioapps","username":"testuser"}]
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::_getStatus	2293	cluster: testuser-testcluster
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::_getStatusCluster	2319	
2018-08-03 02:39:09    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:39:09    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:39:09    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:39:09    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::_getStatusCluster	2323	clusterworkflow: {}
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2410	workflow: Workflow1
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2413	object: {"status":"","provenance":undef,"project":"Project1","name":"Workflow1","number":1,"description":"","username":"testuser","notes":""}
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::_getStatusCluster	2325	workflowstatus: 
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::runLocally	815	# stages: 3
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::runLocally	818	BEFORE runStages()

2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::runLocally	820	AFTER runStages    success: 2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages


2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	331	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: bless( {"sleep":2,"envar":bless( {"envars":{"username":"USERNAME","sessionid":"SESSION_ID","stagenumber":"STAGENUMBER","workflownumber":"WORKFLOWNUMBER","project":"PROJECT","stage":"STAGE","workflow":"WORKFLOW","sample":"SAMPLE"},"parent":$VAR1,"values":{},"backup":0,"log":2,"oldprintlog":2,"db":bless( {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2,"logtype":"cli","oldprintlog":2,"dbfile":"/a/db/sqlite/agua.sqlite","password":"","backup":0,"sqlite":"","log":2,"dbtype":"sqlite","oldlog":2,"dbh":bless( {}, "DBI::db" ),"indent":4,"user":"","database":"agua"}, "DBase::SQLite" ),"customvars":undef,"printlog":2,"logfile":"","envarsub":undef,"logtype":"cli","conf":bless( {"log":2,"backup":1,"printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","valueoffset":24,"oldprintlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"yaml":bless( [{"agua":{"OPSPACKAGE":"biorepository","PRIVATEOPSREPO":"private","GUESTLOCK":"0","DATADIR":"/data","S3BUCKET":"https://s3-us-west-1.amazonaws.com/aguadev","SGEROOT":"/opt/sge6","SGEUSERID":"1001","AGUAUSER":"agua","MODULES":"Agua::Admin,Agua::Folders,Agua::Package,Agua::Sharing,Agua::Upload,Agua::View,Engine::Workflow","AUTHOR":"syoung","VERSION":"0.8.0-alpha.1+build13","VIRTUALTYPE":"aws","APPSDIR":"apps","REPOSUBDIR":"repos","REPOTYPE":"github","STARCLUSTER":"/a/apps/starcluster/bin/starcluster","INSTALLDIR":"/a","SGEUSER":"sgeadmin","SSHPASSWORDLOGIN":"NO","OPSREPO":"biorepository","URLPREFIX":"agua","TEMPDIR":"/tmp","APPSPACKAGE":"bioapps","GUESTACCESS":"1","FILECACHEDEPTH":"4","ADMINUSER":"admin","INITCOMPLETE":"0","USERDIR":"/home","CLUSTERTYPE":"SGE","EXECUTION_TEMPDIR":"/tmp","GUESTUSER":"guest","SETUPCOMPLETE":"0","ADMINS":"admin","AGUADIR":"agua"},"packages":{"biorepository":{"0.8.0-beta.1+build.725":{"INSTALLDIR":"/a/repos/public/agua/biorepository"}}},"cluster":{"CANCELJOB":"/opt/sge6/bin/lx24-amd64/qdel -j","QSTAT":"/opt/sge6/bin/lx24-amd64/qstat","SGEROOT":"/opt/sge6","SLEEP":"5","SGEBIN":"/opt/sge6/bin/lx24-amd64","QSUB":"/opt/sge6/bin/lx24-amd64/qsub","SGEQMASTERPORT":"63231","SGEEXECDPORT":"63232"},"database":{"GUESTPASSWORD":"guest","DBFILE":"db/sqlite/agua.sqlite","USER":"agua","TESTPASSWORD":"xxxxxxxxxxx","PASSWORD":"xxxxxxxxxx","TESTDATABASE":"aguatest","DBTYPE":"SQLite","TESTUSER":"testuser","SESSIONTIMEOUT":"24","DUMPFILE":"bin/sql/dump/agua.dump","TESTDBFILE":"db/sqlite/test.sqlite","MYSQLDATA":"/var/lib/mysql","TESTDBTYPE":"SQLite","GUESTUSER":"guest","TESTSESSIONID":"xxxxxxxxxxx","DATABASE":"agua"}}], "YAML::Tiny" ),"indent":4,"memorystore":$VAR1->{"envar"}{"conf"}{"yaml"}[0],"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldlog":2}, "Conf::Yaml" ),"indent":4,"oldlog":2}, "Envar" ),"queue":"default","instancetypeslots":{"m1.large":4,"c1.medium":5,"m2.4xlarge":26,"m2.xlarge":7,"m1.xlarge":8,"t1.micro":1,"m1.small":1,"cc1.4xlarge":34,"c1.xlarge":20,"cg1.4xlarge":34,"m2.2xlarge":13},"logtype":"cli","qstat":"","cluster":"testuser-testcluster","table":bless( {"oldlog":2,"indent":4,"oldprintlog":2,"db":bless( {"dbh":bless( {}, "DBI::db" ),"oldlog":2,"dbtype":"sqlite","user":"","database":"agua","indent":4,"oldprintlog":2,"dbfile":"/a/db/sqlite/test.sqlite","logtype":"cli","printlog":5,"logfile":"","sqlite":"","log":"4","backup":0,"password":""}, "DBase::SQLite" ),"logtype":"cli","conf":$VAR1->{"envar"}{"conf"},"printlog":5,"logfile":"","backup":0,"log":"4"}, "Test::Table::Main" ),"stop":4,"sendtype":"response","data":undef,"configfile":"","validated":0,"sgeroot":"/opt/sge6","sourceid":"","project":"Project1","indent":4,"sharedprojects":undef,"scheduler":"local","db":$VAR1->{"envar"}{"db"},"oldprintlog":2,"conf":$VAR1->{"envar"}{"conf"},"printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","loaded":0,"worldprojects":undef,"userprojects":undef,"force":undef,"callback":"","package":"","bytes":200,"apiroot":" http://localhost:55672/api/vhosts","usersources":undef,"sharedsources":undef,"cgi":undef,"workflownumber":1,"requestor":"","totalprojects":undef,"submit":1,"upgradesleep":10,"monitor":bless( {"oldlog":2,"head":bless( {"printlog":0,"conf":bless( {"oldprintlog":2,"valueoffset":24,"logtype":"cli","logfile":"","printlog":0,"backup":1,"log":0,"oldlog":2,"memorystore":undef,"yaml":bless( [], "YAML::Tiny" ),"memory":0,"indent":4}, "Conf::Yaml" ),"logtype":"cli","oldprintlog":2,"log":0,"backup":0,"oldlog":2,"indent":4,"ops":bless( {"dependents":[],"credentials":"","fileroot":"","upgradesleep":600,"githubapi":"https://api.github.com/repos","logtype":"cli","versionformat":"semver","sleep":600,"opsfile":"","branch":"master","indent":4,"remoteroot":"https://api.github.com/repos","privacy":"public","filetype":"ext3","backup":0,"log":0,"showreport":1,"bitbucketapi":"https://api.bitbucket.org/2.0/repositories","pmfile":"","printlog":0,"conf":$VAR1->{"monitor"}{"head"}{"conf"},"parser":bless( {"max_depth":512,"indent":0,"max_size":0,"indent_length":3,"FLAGS":0,"fallback":sub { "DUMMY" }}, "JSON" ),"oldprintlog":2,"opsfields":["package","repository","version","treeish","branch","privacy","owner","login","hubtype"],"warn":1,"opsmodloaded":0,"oldlog":2,"keyfile":""}, "Moose::Meta::Class::__ANON__::SERIAL::17" )}, "Engine::Instance" ),"conf":bless( {"yaml":bless( [], "YAML::Tiny" ),"memory":0,"indent":4,"memorystore":undef,"oldlog":2,"log":4,"backup":1,"valueoffset":24,"logtype":"cli","printlog":5,"logfile":"","oldprintlog":2}, "Conf::Yaml" ),"logfile":"","printlog":2,"customvars":{"queue":"QUEUE","sgecell":"SGE_CELL","sgeroot":"SGE_ROOT","qmasterport":"SGE_MASTER_PORT","execdport":"SGE_EXECD_PORT","cluster":"CLUSTER"},"oldprintlog":2,"custom_fields":{},"backup":0,"log":1,"loaded":0,"outputdir":"","whoami":"","configfile":"","indent":4,"master":bless( {"logtype":"cli","conf":bless( {"oldlog":2,"yaml":bless( [], "YAML::Tiny" ),"memory":0,"indent":4,"memorystore":undef,"logtype":"cli","valueoffset":24,"printlog":0,"logfile":"","oldprintlog":2,"log":0,"backup":1}, "Conf::Yaml" ),"printlog":0,"oldprintlog":2,"backup":0,"log":0,"oldlog":2,"indent":4,"ops":bless( {"opsmodloaded":0,"keyfile":"","oldlog":2,"showreport":1,"bitbucketapi":"https://api.bitbucket.org/2.0/repositories","backup":0,"log":0,"oldprintlog":2,"opsfields":["package","repository","version","treeish","branch","privacy","owner","login","hubtype"],"warn":1,"pmfile":"","printlog":0,"conf":$VAR1->{"monitor"}{"master"}{"conf"},"parser":bless( {"fallback":$VAR1->{"monitor"}{"head"}{"ops"}{"parser"}{"fallback"},"FLAGS":0,"indent_length":3,"max_size":0,"indent":0,"max_depth":512}, "JSON" ),"remoteroot":"https://api.github.com/repos","privacy":"public","branch":"master","indent":4,"filetype":"ext3","credentials":"","fileroot":"","dependents":[],"opsfile":"","versionformat":"semver","sleep":600,"upgradesleep":600,"githubapi":"https://api.github.com/repos","logtype":"cli"}, "Moose::Meta::Class::__ANON__::SERIAL::17" )}, "Engine::Instance" ),"logtype":"cli","jobidregex":"^(Your job|Your job-array) (\\S+)","sleep":5,"queue":"default","errorregex":"(error|unable to contact)","fileroot":"","tries":20,"qstat":""}, "Test::Engine::Cluster::Monitor::SGE" ),"fileroot":"","util":bless( {"oldlog":2,"indent":4,"conf":$VAR1->{"envar"}{"conf"},"logtype":"cli","printlog":5,"logfile":"","oldprintlog":2,"backup":0,"log":"4"}, "Util::Main" ),"worldownergroups":undef,"logfh":\*{"Util::Logger::$logfh"},"port":5672,"privacy":"public","stages":[bless( {"version":"0.6.0","successor":"","name":"FTP","starttime":1533278349,"stageparameters":[{"argument":"--filter","paramFunction":"","value":"","inputParams":"","paramnumber":"1","category":"filter","args":"","workflownumber":1,"format":"","project":"Project1","locked":0,"ordinal":0,"description":"Download only files containing this text fragment","username":"testuser","paramname":"filter","discretion":"optional","paramtype":"input","chained":0,"valuetype":"string","appnumber":"1","appname":"FTP","workflow":"Workflow1","owner":"aguatest"},{"paramname":"outputdir","description":"Create this directory and download files to it","username":"testuser","chained":0,"valuetype":"directory","paramtype":"input","discretion":"required","appname":"FTP","appnumber":"1","owner":"aguatest","workflow":"Workflow1","value":"Project1/Workflow1/downloads","inputParams":"","paramnumber":"2","paramFunction":"","argument":"--outputdir","workflownumber":1,"args":"","category":"outputdir","locked":0,"project":"Project1","format":"","ordinal":0},{"locked":0,"format":"","project":"Project1","ordinal":0,"inputParams":"","value":"chr[XYM0-9]+.fa.gz","paramnumber":"3","argument":"--regex","paramFunction":"","args":"","workflownumber":1,"category":"regex","appnumber":"1","appname":"FTP","owner":"aguatest","workflow":"Workflow1","description":"Download files matching this regular expression","username":"testuser","paramname":"regex","chained":0,"valuetype":"string","paramtype":"input","discretion":"optional"},{"paramname":"type","username":"testuser","description":"Type of page: html or text","paramtype":"input","discretion":"essential","chained":0,"valuetype":"string","appname":"FTP","appnumber":"1","workflow":"Workflow1","owner":"aguatest","paramFunction":"","argument":"--type","value":"html","inputParams":"","paramnumber":"4","category":"type","workflownumber":1,"args":"","project":"Project1","format":"","locked":0,"ordinal":0},{"paramname":"url","username":"testuser","description":"Download files linked on this page","valuetype":"string","chained":0,"discretion":"required","paramtype":"input","appname":"FTP","appnumber":"1","owner":"aguatest","workflow":"Workflow1","inputParams":"","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","paramnumber":"5","argument":"--url","paramFunction":"","workflownumber":1,"args":"","category":"url","locked":0,"project":"Project1","format":"","ordinal":0}],"cleanup":"","printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":$VAR1->{"envar"}{"conf"},"oldprintlog":2,"db":$VAR1->{"envar"}{"db"},"customvars":{"qmasterport":"SGE_MASTER_PORT","execdport":"SGE_EXECD_PORT","cluster":"CLUSTER","queue":"QUEUE","sgecell":"SGE_CELL","sgeroot":"SGE_ROOT"},"scheduler":"local","envarfile":"","outputdir":"/home/testuser/agua/Project1/Workflow1","executor":"/usr/bin/perl","walltime":24,"number":1,"stderrfile":"/home/testuser/agua/Project1/Workflow1/stdout/1-FTP.stderr","stagepid":7860,"indent":4,"slots":undef,"cpus":"","project":"Project1","logtype":"cli","resultfile":"/tmp/result-6114","clustertype":"SGE","qsub":"/opt/sge6/bin/lx24-amd64/qsub","queue":"testuser-Project1-Workflow1","envar":$VAR1->{"envar"},"sleep":10,"location":"bin/utils/FTP.pl","dot":"","cluster":undef,"qstat":"/opt/sge6/bin/lx24-amd64/qstat","fields":["owner","name","number","type","location","submit","executor","envarfile","cluster","description","notes"],"oldlog":2,"completed":"2012-02-26 04:36:30","workflow":"Workflow1","verbose":"","maxjobs":undef,"started":"2012-02-26 04:24:14","samplehash":{},"backup":0,"setuid":"","log":"4","installdir":"/agua/bioapps","username":"testuser","queue_options":"","ancestor":"","stagejobid":0,"queued":"0000-00-00 00:00:00","runsleep":"0.5","workflowpid":undef,"scriptfile":"/home/testuser/agua/Project1/Workflow1/script/1-FTP.sh","monitor":undef,"submit":0,"batchstats":[],"workflownumber":1,"stdoutfile":"/home/testuser/agua/Project1/Workflow1/stdout/1-FTP.stdout","fileroot":"/home/testuser/agua"}, "Engine::Stage" ),bless( {"stagejobid":0,"queued":"0000-00-00 00:00:00","workflowpid":undef,"runsleep":"0.5","scriptfile":"/home/testuser/agua/Project1/Workflow1/script/2-unzipFiles.sh","workflownumber":1,"monitor":undef,"submit":0,"batchstats":[],"stdoutfile":"/home/testuser/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","fileroot":"/home/testuser/agua","oldlog":2,"completed":"2012-02-27 03:39:27","workflow":"Workflow1","verbose":"","maxjobs":undef,"started":"2012-02-27 03:39:00","setuid":"","backup":0,"log":"4","samplehash":$VAR1->{"stages"}[0]{"samplehash"},"ancestor":"","username":"testuser","installdir":"/agua/bioapps","queue_options":"","stderrfile":"/home/testuser/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","stagepid":8997,"indent":4,"cpus":"","project":"Project1","slots":undef,"logtype":"cli","resultfile":"/tmp/result-6114","clustertype":"SGE","sleep":10,"queue":"testuser-Project1-Workflow1","qsub":"/opt/sge6/bin/lx24-amd64/qsub","envar":$VAR1->{"envar"},"cluster":undef,"location":"bin/utils/unzipFiles.pl","dot":"","fields":["owner","name","number","type","location","submit","executor","envarfile","cluster","description","notes"],"qstat":"/opt/sge6/bin/lx24-amd64/qstat","version":"0.6.0","successor":"","name":"unzipFiles","stageparameters":[{"ordinal":0,"locked":0,"project":"Project1","format":"","workflownumber":1,"args":"","category":"delete","value":"1","inputParams":"","paramnumber":"1","paramFunction":"","argument":"--delete","owner":"aguatest","workflow":"Workflow1","appname":"unzipFiles","appnumber":"2","chained":0,"valuetype":"flag","discretion":"optional","paramtype":"input","paramname":"delete","username":"testuser","description":" Remove zipped files after unzipping"},{"owner":"aguatest","workflow":"Workflow1","appname":"unzipFiles","appnumber":"2","valuetype":"string","chained":0,"paramtype":"input","discretion":"optional","paramname":"filter","description":"Unzip only files containing this text fragment","username":"testuser","ordinal":0,"locked":0,"project":"Project1","format":"","workflownumber":1,"args":"","category":"filter","paramnumber":"2","inputParams":"","value":"","argument":"--filter","paramFunction":""},{"paramname":"inputdir","username":"testuser","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","paramtype":"input","discretion":"essential","chained":0,"valuetype":"directory","appname":"unzipFiles","appnumber":"2","workflow":"Workflow1","owner":"aguatest","argument":"--inputdir","paramFunction":"","inputParams":"InputParams","value":"Project1/Workflow1/downloads","paramnumber":"3","category":"inputdir","workflownumber":1,"args":"input.outputdir.value","project":"Project1","format":"","locked":0,"ordinal":0},{"locked":0,"project":"Project1","format":"","ordinal":0,"inputParams":"InputParams","value":"Project1/Workflow1/downloads","paramnumber":"4","paramFunction":"","argument":"--outputdir","workflownumber":1,"args":"input.outputdir.value","category":"outputdir","appname":"unzipFiles","appnumber":"2","owner":"aguatest","workflow":"Workflow1","paramname":"outputdir","description":"Unzip files to this directory","username":"testuser","valuetype":"directory","chained":0,"paramtype":"input","discretion":"required"},{"ordinal":0,"project":"Project1","format":"","locked":0,"category":"filter","workflownumber":1,"args":"input.regex.value","paramFunction":"","argument":"--regex","paramnumber":"5","inputParams":"","value":"chr[XYM0-9]+.fa.gz","workflow":"Workflow1","owner":"aguatest","appname":"unzipFiles","appnumber":"2","paramtype":"input","discretion":"optional","chained":1,"valuetype":"string","paramname":"regex","description":"Unzip only files matching this regular expression","username":"testuser"},{"project":"Project1","format":"","locked":0,"ordinal":0,"paramFunction":"","argument":"--type","paramnumber":"6","inputParams":"","value":"gunzip","category":"type","workflownumber":1,"args":"","appname":"unzipFiles","appnumber":"2","workflow":"Workflow1","owner":"aguatest","paramname":"type","username":"testuser","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","discretion":"required","paramtype":"input","valuetype":"string","chained":0}],"starttime":1533278349,"conf":$VAR1->{"envar"}{"conf"},"printlog":5,"cleanup":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","envarfile":"","scheduler":"local","customvars":{"cluster":"CLUSTER","execdport":"SGE_EXECD_PORT","qmasterport":"SGE_MASTER_PORT","sgeroot":"SGE_ROOT","queue":"QUEUE","sgecell":"SGE_CELL"},"oldprintlog":2,"db":$VAR1->{"envar"}{"db"},"number":2,"walltime":24,"outputdir":"/home/testuser/agua/Project1/Workflow1","executor":"/usr/bin/perl"}, "Engine::Stage" ),bless( {"workflowpid":undef,"runsleep":"0.5","scriptfile":"/home/testuser/agua/Project1/Workflow1/script/3-elandIndex.sh","stagejobid":0,"queued":"0000-00-00 00:00:00","stdoutfile":"/home/testuser/agua/Project1/Workflow1/stdout/3-elandIndex.stdout","fileroot":"/home/testuser/agua","workflownumber":1,"submit":0,"monitor":undef,"batchstats":[],"maxjobs":undef,"verbose":"","oldlog":2,"completed":"0000-00-00 00:00:00","workflow":"Workflow1","setuid":"","backup":0,"log":"4","samplehash":$VAR1->{"stages"}[0]{"samplehash"},"ancestor":"","username":"testuser","installdir":"/agua/bioapps","queue_options":"","started":"0000-00-00 00:00:00","indent":4,"cpus":"","project":"Project1","slots":undef,"stderrfile":"/home/testuser/agua/Project1/Workflow1/stdout/3-elandIndex.stderr","stagepid":0,"cluster":undef,"dot":"","location":"bin/converters/elandIndex.pl","fields":["owner","name","number","type","location","submit","executor","envarfile","cluster","description","notes"],"qstat":"/opt/sge6/bin/lx24-amd64/qstat","resultfile":"/tmp/result-6114","logtype":"cli","clustertype":"SGE","sleep":10,"qsub":"/opt/sge6/bin/lx24-amd64/qsub","queue":"testuser-Project1-Workflow1","envar":$VAR1->{"envar"},"name":"elandIndex","successor":"","starttime":1533278349,"stageparameters":[{"category":"inputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","workflownumber":1,"argument":"--inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","value":"Project1/Workflow1/reference/fasta","inputParams":"referencedir,outputdir,inputdir","paramnumber":"1","ordinal":0,"format":"","project":"Project1","locked":0,"paramtype":"input","discretion":"essential","chained":0,"valuetype":"directory","description":"Location of directory containing *.fa files","username":"testuser","paramname":"inputdir","workflow":"Workflow1","owner":"aguatest","appnumber":"3","appname":"elandIndex"},{"argument":"--outputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","value":"Project1/Workflow1/reference/eland","inputParams":"referencedir,outputdir,inputdir","paramnumber":"2","category":"outputdir","workflownumber":1,"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","project":"Project1","format":"","locked":0,"ordinal":0,"paramname":"outputdir","description":"Print indexed files to this directory","username":"testuser","discretion":"required","paramtype":"input","chained":0,"valuetype":"directory","appname":"elandIndex","appnumber":"3","workflow":"Workflow1","owner":"aguatest"},{"project":"Project1","format":"","locked":0,"ordinal":0,"paramFunction":"","argument":"--subdirs","inputParams":"","paramnumber":"3","value":"","category":"subdirs","workflownumber":1,"args":"input.subdirs.value","appname":"elandIndex","appnumber":"3","workflow":"Workflow1","owner":"aguatest","paramname":"subdirs","username":"testuser","description":"","discretion":"optional","paramtype":"input","chained":0,"valuetype":"flag"}],"version":"0.6.0","number":3,"walltime":24,"outputdir":"/home/testuser/agua/Project1/Workflow1","executor":"/usr/bin/perl","conf":$VAR1->{"envar"}{"conf"},"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"cleanup":"","envarfile":"","scheduler":"local","customvars":{"execdport":"SGE_EXECD_PORT","cluster":"CLUSTER","qmasterport":"SGE_MASTER_PORT","sgeroot":"SGE_ROOT","sgecell":"SGE_CELL","queue":"QUEUE"},"oldprintlog":2,"db":$VAR1->{"envar"}{"db"}}, "Engine::Stage" )],"remoteroot":"https://api.github.com/repos","username":"testuser","installdir":"","custom_fields":{},"backup":0,"log":"4","workflow":"Workflow1","oldlog":2,"start":1,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}, "Test::Engine::Workflow::ExecuteWorkflow" )
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::setWorkflowStatus	665	status: completed
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	data: {"samplehash":undef,"username":"testuser","project":"Project1","start":1,"workflownumber":1,"workflow":"Workflow1"}
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::setWorkflowStatus	674	UPDATE workflow
SET status = 'completed'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
AND number = 1
2018-08-03 02:39:09    [DEBUG]   	Engine::Workflow::executeWorkflow	653	addQueueSample success: 2018-08-03 02:39:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:39:09    [GROUPEND]    	Engine::Workflow::executeWorkflow	661	6114 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 02:39:09  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	statuses: ["testuser","testuser"]
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","conf":bless( {"oldlog":2,"logtype":"cli","oldprintlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","valueoffset":24,"memorystore":undef,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2,"yaml":bless( [], "YAML::Tiny" ),"log":2,"memory":1,"backup":1,"indent":4}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5}
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	349	DOING executeWorkflow()
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	331	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: testuser
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:39:16        [GROUP]    	Engine::Workflow::setStages	1367	Engine::Workflow::setStages
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1368	username: testuser
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1369	cluster: undef
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1370	project: Project1
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1371	workflow: Workflow1
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1372	scheduler: local
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1379	slots: undef
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1386	force: undef
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::checkPrevious	1705	start: 0
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1388	previouscompleted: 1
2018-08-03 02:39:16        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"appnumber":"1","project":"Project1","inputParams":"","paramFunction":"","argument":"--filter","paramtype":"input","category":"filter","username":"testuser","appname":"FTP","owner":"aguatest","locked":0,"discretion":"optional","workflownumber":1,"workflow":"Workflow1","format":"","chained":0,"value":"","paramname":"filter","description":"Download only files containing this text fragment","valuetype":"string","ordinal":0,"args":"","paramnumber":"1"},{"argument":"--outputdir","paramFunction":"","paramtype":"input","appnumber":"1","project":"Project1","inputParams":"","owner":"aguatest","discretion":"required","locked":0,"workflow":"Workflow1","workflownumber":1,"category":"outputdir","appname":"FTP","username":"testuser","format":"","chained":0,"value":"Project1/Workflow1/downloads","ordinal":0,"args":"","paramnumber":"2","description":"Create this directory and download files to it","paramname":"outputdir","valuetype":"directory"},{"username":"testuser","appname":"FTP","category":"regex","locked":0,"discretion":"optional","workflownumber":1,"workflow":"Workflow1","owner":"aguatest","inputParams":"","project":"Project1","appnumber":"1","paramtype":"input","argument":"--regex","paramFunction":"","description":"Download files matching this regular expression","paramname":"regex","valuetype":"string","args":"","paramnumber":"3","ordinal":0,"value":"chr[XYM0-9]+.fa.gz","format":"","chained":0},{"description":"Type of page: html or text","paramname":"type","valuetype":"string","args":"","paramnumber":"4","ordinal":0,"value":"html","chained":0,"format":"","username":"testuser","appname":"FTP","category":"type","locked":0,"discretion":"essential","workflownumber":1,"workflow":"Workflow1","owner":"aguatest","project":"Project1","inputParams":"","appnumber":"1","paramtype":"input","paramFunction":"","argument":"--type"},{"appnumber":"1","inputParams":"","project":"Project1","paramFunction":"","argument":"--url","paramtype":"input","category":"url","appname":"FTP","username":"testuser","owner":"aguatest","locked":0,"discretion":"required","workflownumber":1,"workflow":"Workflow1","chained":0,"format":"","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","description":"Download files linked on this page","paramname":"url","valuetype":"string","ordinal":0,"args":"","paramnumber":"5"}]
2018-08-03 02:39:16        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"value":"1","format":"","chained":0,"paramnumber":"1","args":"","ordinal":0,"valuetype":"flag","description":" Remove zipped files after unzipping","paramname":"delete","paramtype":"input","paramFunction":"","argument":"--delete","project":"Project1","inputParams":"","appnumber":"2","workflownumber":1,"workflow":"Workflow1","locked":0,"discretion":"optional","owner":"aguatest","appname":"unzipFiles","username":"testuser","category":"delete"},{"valuetype":"string","paramname":"filter","description":"Unzip only files containing this text fragment","ordinal":0,"paramnumber":"2","args":"","format":"","chained":0,"value":"","category":"filter","username":"testuser","appname":"unzipFiles","owner":"aguatest","workflownumber":1,"workflow":"Workflow1","locked":0,"discretion":"optional","appnumber":"2","inputParams":"","project":"Project1","argument":"--filter","paramFunction":"","paramtype":"input"},{"args":"input.outputdir.value","paramnumber":"3","ordinal":0,"paramname":"inputdir","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","valuetype":"directory","value":"Project1/Workflow1/downloads","format":"","chained":0,"locked":0,"discretion":"essential","workflownumber":1,"workflow":"Workflow1","owner":"aguatest","appname":"unzipFiles","username":"testuser","category":"inputdir","paramtype":"input","argument":"--inputdir","paramFunction":"","inputParams":"InputParams","project":"Project1","appnumber":"2"},{"locked":0,"discretion":"required","workflownumber":1,"workflow":"Workflow1","owner":"aguatest","appname":"unzipFiles","username":"testuser","category":"outputdir","paramtype":"input","argument":"--outputdir","paramFunction":"","inputParams":"InputParams","project":"Project1","appnumber":"2","args":"input.outputdir.value","paramnumber":"4","ordinal":0,"description":"Unzip files to this directory","paramname":"outputdir","valuetype":"directory","value":"Project1/Workflow1/downloads","chained":0,"format":""},{"paramFunction":"","argument":"--regex","paramtype":"input","appnumber":"2","inputParams":"","project":"Project1","owner":"aguatest","workflownumber":1,"workflow":"Workflow1","discretion":"optional","locked":0,"category":"filter","appname":"unzipFiles","username":"testuser","chained":1,"format":"","value":"chr[XYM0-9]+.fa.gz","ordinal":0,"paramnumber":"5","args":"input.regex.value","valuetype":"string","paramname":"regex","description":"Unzip only files matching this regular expression"},{"appname":"unzipFiles","username":"testuser","category":"type","workflownumber":1,"workflow":"Workflow1","discretion":"required","locked":0,"owner":"aguatest","project":"Project1","inputParams":"","appnumber":"2","paramtype":"input","paramFunction":"","argument":"--type","valuetype":"string","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","paramname":"type","paramnumber":"6","args":"","ordinal":0,"value":"gunzip","format":"","chained":0}]
2018-08-03 02:39:16        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"chained":0,"format":"","value":"Project1/Workflow1/reference/fasta","valuetype":"directory","description":"Location of directory containing *.fa files","paramname":"inputdir","ordinal":0,"paramnumber":"1","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","appnumber":"3","project":"Project1","inputParams":"referencedir,outputdir,inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","argument":"--inputdir","paramtype":"input","category":"inputdir","username":"testuser","appname":"elandIndex","owner":"aguatest","workflow":"Workflow1","workflownumber":1,"discretion":"essential","locked":0},{"locked":0,"discretion":"required","workflownumber":1,"workflow":"Workflow1","owner":"aguatest","appname":"elandIndex","username":"testuser","category":"outputdir","paramtype":"input","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","argument":"--outputdir","inputParams":"referencedir,outputdir,inputdir","project":"Project1","appnumber":"3","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramnumber":"2","ordinal":0,"paramname":"outputdir","description":"Print indexed files to this directory","valuetype":"directory","value":"Project1/Workflow1/reference/eland","chained":0,"format":""},{"inputParams":"","project":"Project1","appnumber":"3","paramtype":"input","argument":"--subdirs","paramFunction":"","username":"testuser","appname":"elandIndex","category":"subdirs","locked":0,"discretion":"optional","workflownumber":1,"workflow":"Workflow1","owner":"aguatest","value":"","format":"","chained":0,"description":"","paramname":"subdirs","valuetype":"flag","args":"input.subdirs.value","paramnumber":"3","ordinal":0}]
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStartStop	1748	# stages: 3
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStartStop	1753	self->start: 1
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->stop: undef
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStartStop	1759	start: 1
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStartStop	1760	stop: 4
2018-08-03 02:39:16        [NOTE]   	Engine::Workflow::setStartStop	1781	6132 Setting start: 1
2018-08-03 02:39:16        [NOTE]   	Engine::Workflow::setStartStop	1782	6132 Setting stop: 4
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1396	start: 1
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1397	stop: 4
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1401	fileroot: /home/testuser/agua
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setFileDirs	1535	fileroot: /home/testuser/agua
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setFileDirs	1536	project: Project1
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setFileDirs	1537	workflow: Workflow1
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setFileDirs	1541	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1405	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1421	BEFORE monitor = self->updateMonitor()
2018-08-03 02:39:16        [CALLER]   	Engine::Workflow::updateMonitor	2058	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1425	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:39:16        [DEBUG]   	Engine::Workflow::setStages	1503	final no. stageobjects: 3
2018-08-03 02:39:16        [GROUPEND]    	Engine::Workflow::setStages	1505	Engine::Workflow::setStages
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::_getStatus	2266	now: datetime()
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::_getStatus	2269	datetime: 2018-08-03 06:39:16
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::_getStatus	2282	# stages: 3
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::_getStatus	2283	stages: [{"workflownumber":1,"workflow":"Workflow1","number":1,"owner":"aguatest","sample":"","username":"testuser","queued":"0000-00-00 00:00:00","envarfile":"","executor":"/usr/bin/perl","workflowpid":0,"stagepid":7860,"notes":"","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","location":"bin/utils/FTP.pl","project":"Project1","stagejobid":0,"submit":0,"version":"0.6.0","completed":"2012-02-26 04:36:30","successor":"","type":"utility","description":"","package":"bioapps","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","installdir":"/agua/bioapps","name":"FTP","status":"","ancestor":"","started":"2012-02-26 04:24:14","now":"2018-08-03 06:39:16","cluster":""},{"executor":"/usr/bin/perl","sample":"","username":"testuser","queued":"0000-00-00 00:00:00","envarfile":"","owner":"aguatest","workflownumber":1,"workflow":"Workflow1","number":2,"completed":"2012-02-27 03:39:27","version":"0.6.0","stagejobid":0,"project":"Project1","submit":0,"stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","location":"bin/utils/unzipFiles.pl","stagepid":8997,"workflowpid":0,"notes":"","installdir":"/agua/bioapps","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","status":"","name":"unzipFiles","description":"","package":"bioapps","type":"utility","successor":"","now":"2018-08-03 06:39:16","cluster":"","started":"2012-02-27 03:39:00","ancestor":""},{"type":"converter","successor":"","description":"","package":"bioapps","stderrfile":"","installdir":"/agua/bioapps","status":"","name":"elandIndex","ancestor":"","started":"0000-00-00 00:00:00","now":"2018-08-03 06:39:16","cluster":"","workflownumber":1,"workflow":"Workflow1","number":3,"owner":"aguatest","sample":"","queued":"0000-00-00 00:00:00","envarfile":"","username":"testuser","executor":"/usr/bin/perl","workflowpid":0,"stagepid":0,"notes":undef,"location":"bin/converters/elandIndex.pl","stdoutfile":"","project":"Project1","stagejobid":0,"submit":0,"completed":"0000-00-00 00:00:00","version":"0.6.0"}]
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::_getStatus	2293	cluster: testuser-testcluster
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::_getStatusCluster	2319	
2018-08-03 02:39:16    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:39:16    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:39:16    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:39:16    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::_getStatusCluster	2323	clusterworkflow: {}
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2410	workflow: Workflow1
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2413	object: {"name":"Workflow1","status":"","description":"","username":"testuser","number":1,"provenance":undef,"project":"Project1","notes":""}
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::_getStatusCluster	2325	workflowstatus: 
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::runLocally	815	# stages: 3
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::runLocally	818	BEFORE runStages()

2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::runLocally	820	AFTER runStages    success: 2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages


2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	331	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: testuser
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::setWorkflowStatus	665	status: completed
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	data: {"workflownumber":1,"workflow":"Workflow1","start":1,"username":"testuser","project":"Project1","samplehash":undef}
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::setWorkflowStatus	674	UPDATE workflow
SET status = 'completed'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
AND number = 1
2018-08-03 02:39:16    [DEBUG]   	Engine::Workflow::executeWorkflow	653	addQueueSample success: 2018-08-03 02:39:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:39:16    [GROUPEND]    	Engine::Workflow::executeWorkflow	661	6132 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 02:39:16  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	statuses: ["testuser","testuser"]
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"valueoffset":24,"logtype":"cli","indent":4,"log":2,"printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"backup":1,"yaml":bless( [], "YAML::Tiny" ),"memorystore":undef,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"oldlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"log":"4","printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	349	DOING executeWorkflow()
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2559	status: running
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2569	hash: {"username":"testuser","cluster":undef,"name":"Workflow1","status":"running","project":"Project1"}
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2575	BEFORE _updateTable   hash: {"username":"testuser","cluster":undef,"name":"Workflow1","status":"running","project":"Project1"}
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	self->db: bless( {"sqlite":"","oldlog":2,"dbtype":"sqlite","password":"","database":"agua","dbfile":"/a/db/sqlite/agua.sqlite","printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"backup":0,"user":"","dbh":bless( {}, "DBI::db" ),"log":2,"logtype":"cli","indent":4}, "DBase::SQLite" )
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	success: 1
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:39:37        [GROUP]    	Engine::Workflow::setStages	1367	Engine::Workflow::setStages
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1368	username: testuser
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1369	cluster: undef
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1370	project: Project1
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1371	workflow: Workflow1
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1372	scheduler: local
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1379	slots: undef
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1386	force: undef
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::checkPrevious	1705	start: 0
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1388	previouscompleted: 1
2018-08-03 02:39:37        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"inputParams":"","discretion":"optional","username":"testuser","workflownumber":1,"paramtype":"input","appnumber":"1","argument":"--filter","valuetype":"string","project":"Project1","paramname":"filter","owner":"aguatest","args":"","appname":"FTP","description":"Download only files containing this text fragment","locked":0,"workflow":"Workflow1","paramnumber":"1","paramFunction":"","ordinal":0,"value":"","chained":0,"format":"","category":"filter"},{"appnumber":"1","paramtype":"input","argument":"--outputdir","inputParams":"","discretion":"required","workflownumber":1,"username":"testuser","project":"Project1","valuetype":"directory","description":"Create this directory and download files to it","workflow":"Workflow1","locked":0,"appname":"FTP","paramname":"outputdir","args":"","owner":"aguatest","chained":0,"format":"","category":"outputdir","paramnumber":"2","ordinal":0,"value":"Project1/Workflow1/downloads","paramFunction":""},{"workflownumber":1,"username":"testuser","inputParams":"","discretion":"optional","argument":"--regex","appnumber":"1","paramtype":"input","valuetype":"string","project":"Project1","args":"","owner":"aguatest","paramname":"regex","locked":0,"description":"Download files matching this regular expression","workflow":"Workflow1","appname":"FTP","value":"chr[XYM0-9]+.fa.gz","ordinal":0,"paramFunction":"","paramnumber":"3","format":"","category":"regex","chained":0},{"paramtype":"input","appnumber":"1","argument":"--type","discretion":"essential","inputParams":"","username":"testuser","workflownumber":1,"project":"Project1","valuetype":"string","appname":"FTP","description":"Type of page: html or text","workflow":"Workflow1","locked":0,"paramname":"type","args":"","owner":"aguatest","chained":0,"format":"","category":"type","paramnumber":"4","paramFunction":"","value":"html","ordinal":0},{"project":"Project1","valuetype":"string","argument":"--url","paramtype":"input","appnumber":"1","username":"testuser","workflownumber":1,"discretion":"required","inputParams":"","category":"url","format":"","chained":0,"paramFunction":"","ordinal":0,"value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","paramnumber":"5","appname":"FTP","description":"Download files linked on this page","workflow":"Workflow1","locked":0,"args":"","owner":"aguatest","paramname":"url"}]
2018-08-03 02:39:37        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"args":"","owner":"aguatest","paramname":"delete","appname":"unzipFiles","locked":0,"description":" Remove zipped files after unzipping","workflow":"Workflow1","paramFunction":"","value":"1","ordinal":0,"paramnumber":"1","category":"delete","format":"","chained":0,"username":"testuser","workflownumber":1,"discretion":"optional","inputParams":"","argument":"--delete","paramtype":"input","appnumber":"2","valuetype":"flag","project":"Project1"},{"appname":"unzipFiles","locked":0,"description":"Unzip only files containing this text fragment","workflow":"Workflow1","args":"","owner":"aguatest","paramname":"filter","category":"filter","format":"","chained":0,"paramFunction":"","ordinal":0,"value":"","paramnumber":"2","argument":"--filter","paramtype":"input","appnumber":"2","username":"testuser","workflownumber":1,"discretion":"optional","inputParams":"","project":"Project1","valuetype":"string"},{"username":"testuser","workflownumber":1,"inputParams":"InputParams","discretion":"essential","argument":"--inputdir","paramtype":"input","appnumber":"2","valuetype":"directory","project":"Project1","owner":"aguatest","args":"input.outputdir.value","paramname":"inputdir","appname":"unzipFiles","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","locked":0,"workflow":"Workflow1","paramFunction":"","ordinal":0,"value":"Project1/Workflow1/downloads","paramnumber":"3","format":"","category":"inputdir","chained":0},{"argument":"--outputdir","paramtype":"input","appnumber":"2","username":"testuser","workflownumber":1,"inputParams":"InputParams","discretion":"required","project":"Project1","valuetype":"directory","appname":"unzipFiles","description":"Unzip files to this directory","locked":0,"workflow":"Workflow1","owner":"aguatest","args":"input.outputdir.value","paramname":"outputdir","format":"","category":"outputdir","chained":0,"paramFunction":"","ordinal":0,"value":"Project1/Workflow1/downloads","paramnumber":"4"},{"valuetype":"string","project":"Project1","workflownumber":1,"username":"testuser","inputParams":"","discretion":"optional","argument":"--regex","appnumber":"2","paramtype":"input","value":"chr[XYM0-9]+.fa.gz","ordinal":0,"paramFunction":"","paramnumber":"5","category":"filter","format":"","chained":1,"args":"input.regex.value","owner":"aguatest","paramname":"regex","workflow":"Workflow1","description":"Unzip only files matching this regular expression","locked":0,"appname":"unzipFiles"},{"username":"testuser","workflownumber":1,"inputParams":"","discretion":"required","argument":"--type","paramtype":"input","appnumber":"2","valuetype":"string","project":"Project1","owner":"aguatest","args":"","paramname":"type","appname":"unzipFiles","locked":0,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","workflow":"Workflow1","paramFunction":"","value":"gunzip","ordinal":0,"paramnumber":"6","format":"","category":"type","chained":0}]
2018-08-03 02:39:37        [NOTE]   	Engine::Workflow::setStageParameters	1740	stageparameters: [{"paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","ordinal":0,"value":"Project1/Workflow1/reference/fasta","paramnumber":"1","format":"","category":"inputdir","chained":0,"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","owner":"aguatest","paramname":"inputdir","appname":"elandIndex","description":"Location of directory containing *.fa files","workflow":"Workflow1","locked":0,"valuetype":"directory","project":"Project1","username":"testuser","workflownumber":1,"discretion":"essential","inputParams":"referencedir,outputdir,inputdir","argument":"--inputdir","paramtype":"input","appnumber":"3"},{"locked":0,"description":"Print indexed files to this directory","workflow":"Workflow1","appname":"elandIndex","paramname":"outputdir","owner":"aguatest","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","chained":0,"category":"outputdir","format":"","paramnumber":"2","ordinal":0,"value":"Project1/Workflow1/reference/eland","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","appnumber":"3","paramtype":"input","argument":"--outputdir","discretion":"required","inputParams":"referencedir,outputdir,inputdir","workflownumber":1,"username":"testuser","project":"Project1","valuetype":"directory"},{"workflow":"Workflow1","description":"","locked":0,"appname":"elandIndex","args":"input.subdirs.value","owner":"aguatest","paramname":"subdirs","category":"subdirs","format":"","chained":0,"ordinal":0,"value":"","paramFunction":"","paramnumber":"3","argument":"--subdirs","appnumber":"3","paramtype":"input","workflownumber":1,"username":"testuser","inputParams":"","discretion":"optional","project":"Project1","valuetype":"flag"}]
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStartStop	1748	# stages: 3
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStartStop	1753	self->start: 1
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->stop: undef
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStartStop	1759	start: 1
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStartStop	1760	stop: 4
2018-08-03 02:39:37        [NOTE]   	Engine::Workflow::setStartStop	1781	6148 Setting start: 1
2018-08-03 02:39:37        [NOTE]   	Engine::Workflow::setStartStop	1782	6148 Setting stop: 4
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1396	start: 1
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1397	stop: 4
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1401	fileroot: /home/testuser/agua
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setFileDirs	1535	fileroot: /home/testuser/agua
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setFileDirs	1536	project: Project1
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setFileDirs	1537	workflow: Workflow1
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setFileDirs	1541	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1405	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1421	BEFORE monitor = self->updateMonitor()
2018-08-03 02:39:37        [CALLER]   	Engine::Workflow::updateMonitor	2058	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1425	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:39:37        [DEBUG]   	Engine::Workflow::setStages	1503	final no. stageobjects: 3
2018-08-03 02:39:37        [GROUPEND]    	Engine::Workflow::setStages	1505	Engine::Workflow::setStages
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::_getStatus	2266	now: datetime()
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::_getStatus	2269	datetime: 2018-08-03 06:39:37
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::_getStatus	2282	# stages: 3
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::_getStatus	2283	stages: [{"submit":0,"name":"FTP","package":"bioapps","notes":"","project":"Project1","workflowpid":0,"stagejobid":0,"username":"testuser","workflownumber":1,"executor":"/usr/bin/perl","cluster":"","location":"bin/utils/FTP.pl","now":"2018-08-03 06:39:37","envarfile":"","installdir":"/agua/bioapps","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","status":"","type":"utility","number":1,"queued":"0000-00-00 00:00:00","started":"2012-02-26 04:24:14","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","owner":"aguatest","stagepid":7860,"version":"0.6.0","completed":"2012-02-26 04:36:30","sample":"","successor":"","workflow":"Workflow1","description":"","ancestor":""},{"cluster":"","username":"testuser","workflownumber":1,"executor":"/usr/bin/perl","location":"bin/utils/unzipFiles.pl","name":"unzipFiles","package":"bioapps","notes":"","submit":0,"workflowpid":0,"stagejobid":0,"project":"Project1","version":"0.6.0","completed":"2012-02-27 03:39:27","owner":"aguatest","started":"2012-02-27 03:39:00","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","stagepid":8997,"ancestor":"","successor":"","sample":"","description":"","workflow":"Workflow1","envarfile":"","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","installdir":"/agua/bioapps","now":"2018-08-03 06:39:37","number":2,"type":"utility","queued":"0000-00-00 00:00:00","status":""},{"status":"","type":"converter","number":3,"queued":"0000-00-00 00:00:00","now":"2018-08-03 06:39:37","envarfile":"","installdir":"/agua/bioapps","stderrfile":"","successor":"","sample":"","workflow":"Workflow1","description":"","ancestor":"","owner":"aguatest","started":"0000-00-00 00:00:00","stdoutfile":"","stagepid":0,"version":"0.6.0","completed":"0000-00-00 00:00:00","project":"Project1","workflowpid":0,"stagejobid":0,"submit":0,"name":"elandIndex","package":"bioapps","notes":undef,"location":"bin/converters/elandIndex.pl","username":"testuser","workflownumber":1,"executor":"/usr/bin/perl","cluster":""}]
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::_getStatus	2293	cluster: testuser-testcluster
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::_getStatusCluster	2319	
2018-08-03 02:39:37    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:39:37    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:39:37    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:39:37    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::_getStatusCluster	2323	clusterworkflow: {}
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2410	workflow: Workflow1
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2413	object: {"provenance":undef,"description":"","username":"testuser","project":"Project1","status":"","number":1,"notes":"","name":"Workflow1"}
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::_getStatusCluster	2325	workflowstatus: 
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::runLocally	815	# stages: 3
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::runLocally	818	BEFORE runStages()

2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::runLocally	820	AFTER runStages    success: 2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages


2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2559	status: completed
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2569	hash: {"status":"completed","project":"Project1","cluster":undef,"name":"Workflow1","username":"testuser"}
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2575	BEFORE _updateTable   hash: {"status":"completed","project":"Project1","cluster":undef,"name":"Workflow1","username":"testuser"}
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	self->db: bless( {"sqlite":"","oldlog":2,"dbtype":"sqlite","password":"","database":"agua","dbfile":"/a/db/sqlite/agua.sqlite","printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"backup":0,"user":"","dbh":bless( {}, "DBI::db" ),"log":2,"logtype":"cli","indent":4}, "DBase::SQLite" )
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	success: 1
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::setWorkflowStatus	665	status: completed
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	data: {"workflownumber":1,"samplehash":undef,"username":"testuser","workflow":"Workflow1","project":"Project1","start":1}
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::setWorkflowStatus	674	UPDATE workflow
SET status = 'completed'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
AND number = 1
2018-08-03 02:39:37    [DEBUG]   	Engine::Workflow::executeWorkflow	653	addQueueSample success: 2018-08-03 02:39:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:39:37    [GROUPEND]    	Engine::Workflow::executeWorkflow	661	6148 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 02:39:37  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	statuses: []
2018-08-03 02:40:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"yaml":bless( [], "YAML::Tiny" ),"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"valueoffset":24,"log":2,"memorystore":undef,"logtype":"cli","memory":1,"oldlog":2,"backup":1,"oldprintlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}, "Conf::Yaml" ),"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4"}
2018-08-03 02:40:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:40:36    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:40:36    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:40:36    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:40:36    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:40:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:40:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:40:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:40:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:40:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:40:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:40:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:40:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:40:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:40:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:40:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:40:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:40:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:40:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:40:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:40:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	349	DOING executeWorkflow()
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"status":"running","project":"Project1","username":"testuser","cluster":undef,"name":"Workflow1"}
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"status":"running","project":"Project1","username":"testuser","cluster":undef,"name":"Workflow1"}
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"oldprintlog":2,"backup":0,"oldlog":2,"user":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbfile":"/a/db/sqlite/agua.sqlite","dbh":bless( {}, "DBI::db" ),"dbtype":"sqlite","password":"","sqlite":"","printlog":2,"logtype":"cli","database":"agua","indent":4,"log":2}, "DBase::SQLite" )
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2580	success: 1
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:40:37        [GROUP]    	Engine::Workflow::setStages	1368	Engine::Workflow::setStages
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1369	username: testuser
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1370	cluster: undef
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1371	project: Project1
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1372	workflow: Workflow1
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1373	scheduler: local
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1380	slots: undef
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1387	force: undef
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::checkPrevious	1706	start: 0
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1389	previouscompleted: 1
2018-08-03 02:40:37        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"valuetype":"string","args":"","username":"testuser","locked":0,"inputParams":"","workflownumber":1,"discretion":"optional","chained":0,"paramFunction":"","format":"","argument":"--filter","ordinal":0,"paramname":"filter","appnumber":"1","workflow":"Workflow1","description":"Download only files containing this text fragment","value":"","project":"Project1","owner":"aguatest","appname":"FTP","category":"filter","paramnumber":"1","paramtype":"input"},{"argument":"--outputdir","format":"","paramFunction":"","chained":0,"discretion":"required","workflownumber":1,"inputParams":"","locked":0,"username":"testuser","args":"","valuetype":"directory","paramtype":"input","paramnumber":"2","category":"outputdir","appname":"FTP","owner":"aguatest","project":"Project1","value":"Project1/Workflow1/downloads","description":"Create this directory and download files to it","workflow":"Workflow1","paramname":"outputdir","ordinal":0,"appnumber":"1"},{"valuetype":"string","args":"","locked":0,"username":"testuser","workflownumber":1,"discretion":"optional","inputParams":"","chained":0,"paramFunction":"","format":"","argument":"--regex","workflow":"Workflow1","appnumber":"1","ordinal":0,"paramname":"regex","project":"Project1","owner":"aguatest","description":"Download files matching this regular expression","value":"chr[XYM0-9]+.fa.gz","appname":"FTP","category":"regex","paramnumber":"3","paramtype":"input"},{"discretion":"essential","workflownumber":1,"inputParams":"","argument":"--type","format":"","chained":0,"paramFunction":"","args":"","valuetype":"string","locked":0,"username":"testuser","category":"type","paramnumber":"4","appname":"FTP","paramtype":"input","workflow":"Workflow1","ordinal":0,"paramname":"type","appnumber":"1","owner":"aguatest","project":"Project1","value":"html","description":"Type of page: html or text"},{"category":"url","paramnumber":"5","appname":"FTP","paramtype":"input","workflow":"Workflow1","ordinal":0,"paramname":"url","appnumber":"1","owner":"aguatest","project":"Project1","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","description":"Download files linked on this page","discretion":"required","workflownumber":1,"inputParams":"","argument":"--url","format":"","paramFunction":"","chained":0,"args":"","valuetype":"string","locked":0,"username":"testuser"}]
2018-08-03 02:40:37        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"valuetype":"flag","args":"","locked":0,"username":"testuser","workflownumber":1,"discretion":"optional","inputParams":"","paramFunction":"","chained":0,"format":"","argument":"--delete","workflow":"Workflow1","ordinal":0,"appnumber":"2","paramname":"delete","project":"Project1","owner":"aguatest","description":" Remove zipped files after unzipping","value":"1","appname":"unzipFiles","paramnumber":"1","category":"delete","paramtype":"input"},{"paramtype":"input","category":"filter","paramnumber":"2","appname":"unzipFiles","value":"","description":"Unzip only files containing this text fragment","owner":"aguatest","project":"Project1","paramname":"filter","ordinal":0,"appnumber":"2","workflow":"Workflow1","argument":"--filter","format":"","chained":0,"paramFunction":"","inputParams":"","discretion":"optional","workflownumber":1,"username":"testuser","locked":0,"args":"","valuetype":"string"},{"workflow":"Workflow1","ordinal":0,"appnumber":"2","paramname":"inputdir","project":"Project1","owner":"aguatest","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","value":"Project1/Workflow1/downloads","appname":"unzipFiles","category":"inputdir","paramnumber":"3","paramtype":"input","valuetype":"directory","args":"input.outputdir.value","locked":0,"username":"testuser","workflownumber":1,"discretion":"essential","inputParams":"InputParams","paramFunction":"","chained":0,"format":"","argument":"--inputdir"},{"paramtype":"input","category":"outputdir","paramnumber":"4","appname":"unzipFiles","project":"Project1","owner":"aguatest","value":"Project1/Workflow1/downloads","description":"Unzip files to this directory","workflow":"Workflow1","paramname":"outputdir","ordinal":0,"appnumber":"2","format":"","argument":"--outputdir","paramFunction":"","chained":0,"discretion":"required","workflownumber":1,"inputParams":"InputParams","locked":0,"username":"testuser","args":"input.outputdir.value","valuetype":"directory"},{"locked":0,"username":"testuser","args":"input.regex.value","valuetype":"string","format":"","argument":"--regex","chained":1,"paramFunction":"","discretion":"optional","workflownumber":1,"inputParams":"","project":"Project1","owner":"aguatest","value":"chr[XYM0-9]+.fa.gz","description":"Unzip only files matching this regular expression","workflow":"Workflow1","appnumber":"2","ordinal":0,"paramname":"regex","paramtype":"input","category":"filter","paramnumber":"5","appname":"unzipFiles"},{"paramnumber":"6","category":"type","appname":"unzipFiles","paramtype":"input","workflow":"Workflow1","appnumber":"2","ordinal":0,"paramname":"type","owner":"aguatest","project":"Project1","value":"gunzip","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","discretion":"required","workflownumber":1,"inputParams":"","format":"","argument":"--type","paramFunction":"","chained":0,"args":"","valuetype":"string","locked":0,"username":"testuser"}]
2018-08-03 02:40:37        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"description":"Location of directory containing *.fa files","value":"Project1/Workflow1/reference/fasta","owner":"aguatest","project":"Project1","paramname":"inputdir","ordinal":0,"appnumber":"3","workflow":"Workflow1","paramtype":"input","appname":"elandIndex","paramnumber":"1","category":"inputdir","username":"testuser","locked":0,"valuetype":"directory","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","chained":0,"argument":"--inputdir","format":"","inputParams":"referencedir,outputdir,inputdir","workflownumber":1,"discretion":"essential"},{"value":"Project1/Workflow1/reference/eland","description":"Print indexed files to this directory","project":"Project1","owner":"aguatest","appnumber":"3","ordinal":0,"paramname":"outputdir","workflow":"Workflow1","paramtype":"input","category":"outputdir","paramnumber":"2","appname":"elandIndex","username":"testuser","locked":0,"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","valuetype":"directory","format":"","argument":"--outputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","chained":0,"inputParams":"referencedir,outputdir,inputdir","discretion":"required","workflownumber":1},{"argument":"--subdirs","format":"","paramFunction":"","chained":0,"inputParams":"","discretion":"optional","workflownumber":1,"username":"testuser","locked":0,"args":"input.subdirs.value","valuetype":"flag","paramtype":"input","paramnumber":"3","category":"subdirs","appname":"elandIndex","value":"","description":"","project":"Project1","owner":"aguatest","paramname":"subdirs","ordinal":0,"appnumber":"3","workflow":"Workflow1"}]
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStartStop	1749	# stages: 3
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->start: 1
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStartStop	1755	self->stop: undef
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStartStop	1760	start: 1
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStartStop	1761	stop: 4
2018-08-03 02:40:37        [NOTE]   	Engine::Workflow::setStartStop	1782	6176 Setting start: 1
2018-08-03 02:40:37        [NOTE]   	Engine::Workflow::setStartStop	1783	6176 Setting stop: 4
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1397	start: 1
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1398	stop: 4
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1402	fileroot: /home/testuser/agua
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setFileDirs	1536	fileroot: /home/testuser/agua
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setFileDirs	1537	project: Project1
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setFileDirs	1538	workflow: Workflow1
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setFileDirs	1542	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1406	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1422	BEFORE monitor = self->updateMonitor()
2018-08-03 02:40:37        [CALLER]   	Engine::Workflow::updateMonitor	2059	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1426	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:40:37        [DEBUG]   	Engine::Workflow::setStages	1504	final no. stageobjects: 3
2018-08-03 02:40:37        [GROUPEND]    	Engine::Workflow::setStages	1506	Engine::Workflow::setStages
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::_getStatus	2267	now: datetime()
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::_getStatus	2270	datetime: 2018-08-03 06:40:37
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::_getStatus	2283	# stages: 3
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::_getStatus	2284	stages: [{"stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","submit":0,"username":"testuser","status":"","name":"FTP","completed":"2012-02-26 04:36:30","workflownumber":1,"ancestor":"","executor":"/usr/bin/perl","installdir":"/agua/bioapps","started":"2012-02-26 04:24:14","now":"2018-08-03 06:40:37","queued":"0000-00-00 00:00:00","cluster":"","workflow":"Workflow1","successor":"","description":"","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","project":"Project1","number":1,"owner":"aguatest","workflowpid":0,"notes":"","sample":"","envarfile":"","type":"utility","version":"0.6.0","stagejobid":0,"stagepid":7860,"package":"bioapps","location":"bin/utils/FTP.pl"},{"name":"unzipFiles","completed":"2012-02-27 03:39:27","workflownumber":1,"started":"2012-02-27 03:39:00","ancestor":"","executor":"/usr/bin/perl","installdir":"/agua/bioapps","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","username":"testuser","submit":0,"status":"","type":"utility","envarfile":"","version":"0.6.0","stagepid":8997,"stagejobid":0,"location":"bin/utils/unzipFiles.pl","package":"bioapps","queued":"0000-00-00 00:00:00","cluster":"","workflow":"Workflow1","now":"2018-08-03 06:40:37","successor":"","description":"","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","sample":"","notes":"","workflowpid":0,"number":2,"owner":"aguatest","project":"Project1"},{"version":"0.6.0","envarfile":"","type":"converter","package":"bioapps","location":"bin/converters/elandIndex.pl","stagepid":0,"stagejobid":0,"now":"2018-08-03 06:40:37","cluster":"","queued":"0000-00-00 00:00:00","workflow":"Workflow1","project":"Project1","number":3,"owner":"aguatest","workflowpid":0,"notes":undef,"sample":"","stdoutfile":"","description":"","successor":"","completed":"0000-00-00 00:00:00","workflownumber":1,"name":"elandIndex","installdir":"/agua/bioapps","executor":"/usr/bin/perl","ancestor":"","started":"0000-00-00 00:00:00","stderrfile":"","status":"","submit":0,"username":"testuser"}]
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::_getStatus	2294	cluster: testuser-testcluster
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::_getStatusCluster	2320	
2018-08-03 02:40:37    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:40:37    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:40:37    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:40:37    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::_getStatusCluster	2324	clusterworkflow: {}
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2411	workflow: Workflow1
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2414	object: {"description":"","username":"testuser","status":"","project":"Project1","number":1,"notes":"","name":"Workflow1","provenance":undef}
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::_getStatusCluster	2326	workflowstatus: 
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::runLocally	816	# stages: 3
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::runLocally	819	BEFORE runStages()

2018-08-03 02:40:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::runLocally	821	AFTER runStages    success: 2018-08-03 02:40:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages


2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: completed
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"name":"Workflow1","cluster":undef,"username":"testuser","status":"completed","project":"Project1"}
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"name":"Workflow1","cluster":undef,"username":"testuser","status":"completed","project":"Project1"}
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"oldprintlog":2,"backup":0,"oldlog":2,"user":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbfile":"/a/db/sqlite/agua.sqlite","dbh":bless( {}, "DBI::db" ),"dbtype":"sqlite","password":"","sqlite":"","printlog":2,"logtype":"cli","database":"agua","indent":4,"log":2}, "DBase::SQLite" )
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2580	success: 1
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 02:40:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	status: completed
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::setWorkflowStatus	667	data: {"samplehash":undef,"workflownumber":1,"workflow":"Workflow1","start":1,"username":"testuser","project":"Project1"}
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::setWorkflowStatus	675	UPDATE workflow
SET status = 'completed'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
AND number = 1
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	652	uuid: undef
2018-08-03 02:40:37    [DEBUG]   	Engine::Workflow::executeWorkflow	654	addQueueSample success: 2018-08-03 02:40:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:40:37    [GROUPEND]    	Engine::Workflow::executeWorkflow	662	6176 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 02:40:37  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	statuses: []
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2,"indent":4,"memory":1,"memorystore":undef,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"yaml":bless( [], "YAML::Tiny" ),"backup":1,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldlog":2,"logtype":"cli","printlog":2,"valueoffset":24}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4"}
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:49:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	349	DOING executeWorkflow()
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"username":"testuser","status":"running","name":"Workflow1","project":"Project1","cluster":undef}
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"username":"testuser","status":"running","name":"Workflow1","project":"Project1","cluster":undef}
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"password":"","backup":0,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","database":"agua","log":2,"printlog":2,"logtype":"cli","dbtype":"sqlite","sqlite":"","dbh":bless( {}, "DBI::db" ),"oldlog":2,"dbfile":"/a/db/sqlite/agua.sqlite","oldprintlog":2,"user":"","indent":4}, "DBase::SQLite" )
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2580	success: 1
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:49:35        [GROUP]    	Engine::Workflow::setStages	1368	Engine::Workflow::setStages
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1369	username: testuser
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1370	cluster: undef
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1371	project: Project1
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1372	workflow: Workflow1
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1373	scheduler: local
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1380	slots: undef
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1387	force: undef
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::checkPrevious	1706	start: 0
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1389	previouscompleted: 1
2018-08-03 02:49:35        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"workflow":"Workflow1","project":"Project1","args":"","paramname":"filter","inputParams":"","username":"testuser","format":"","appnumber":"1","paramtype":"input","paramnumber":"1","chained":0,"ordinal":0,"description":"Download only files containing this text fragment","paramFunction":"","workflownumber":1,"value":"","argument":"--filter","owner":"aguatest","appname":"FTP","discretion":"optional","locked":0,"valuetype":"string","category":"filter"},{"paramtype":"input","format":"","appnumber":"1","username":"testuser","inputParams":"","paramname":"outputdir","args":"","workflow":"Workflow1","project":"Project1","category":"outputdir","valuetype":"directory","locked":0,"discretion":"required","appname":"FTP","owner":"aguatest","argument":"--outputdir","value":"Project1/Workflow1/downloads","workflownumber":1,"paramFunction":"","description":"Create this directory and download files to it","ordinal":0,"chained":0,"paramnumber":"2"},{"value":"chr[XYM0-9]+.fa.gz","paramFunction":"","workflownumber":1,"description":"Download files matching this regular expression","ordinal":0,"chained":0,"paramnumber":"3","category":"regex","valuetype":"string","locked":0,"discretion":"optional","appname":"FTP","owner":"aguatest","argument":"--regex","paramname":"regex","args":"","workflow":"Workflow1","project":"Project1","paramtype":"input","appnumber":"1","format":"","username":"testuser","inputParams":""},{"description":"Type of page: html or text","chained":0,"ordinal":0,"paramnumber":"4","value":"html","paramFunction":"","workflownumber":1,"discretion":"essential","appname":"FTP","owner":"aguatest","argument":"--type","category":"type","valuetype":"string","locked":0,"paramname":"type","args":"","project":"Project1","workflow":"Workflow1","username":"testuser","inputParams":"","paramtype":"input","format":"","appnumber":"1"},{"paramname":"url","args":"","workflow":"Workflow1","project":"Project1","username":"testuser","inputParams":"","paramtype":"input","format":"","appnumber":"1","description":"Download files linked on this page","chained":0,"ordinal":0,"paramnumber":"5","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","paramFunction":"","workflownumber":1,"discretion":"required","appname":"FTP","owner":"aguatest","argument":"--url","category":"url","valuetype":"string","locked":0}]
2018-08-03 02:49:35        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"workflownumber":1,"paramFunction":"","value":"1","ordinal":0,"chained":0,"description":" Remove zipped files after unzipping","paramnumber":"1","category":"delete","locked":0,"valuetype":"flag","discretion":"optional","owner":"aguatest","argument":"--delete","appname":"unzipFiles","args":"","paramname":"delete","project":"Project1","workflow":"Workflow1","paramtype":"input","format":"","appnumber":"2","inputParams":"","username":"testuser"},{"inputParams":"","username":"testuser","paramtype":"input","format":"","appnumber":"2","args":"","paramname":"filter","workflow":"Workflow1","project":"Project1","discretion":"optional","argument":"--filter","owner":"aguatest","appname":"unzipFiles","category":"filter","locked":0,"valuetype":"string","ordinal":0,"chained":0,"description":"Unzip only files containing this text fragment","paramnumber":"2","paramFunction":"","workflownumber":1,"value":""},{"value":"Project1/Workflow1/downloads","workflownumber":1,"paramFunction":"","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","chained":0,"ordinal":0,"paramnumber":"3","category":"inputdir","valuetype":"directory","locked":0,"discretion":"essential","appname":"unzipFiles","owner":"aguatest","argument":"--inputdir","paramname":"inputdir","args":"input.outputdir.value","project":"Project1","workflow":"Workflow1","paramtype":"input","appnumber":"2","format":"","username":"testuser","inputParams":"InputParams"},{"paramFunction":"","workflownumber":1,"value":"Project1/Workflow1/downloads","paramnumber":"4","chained":0,"ordinal":0,"description":"Unzip files to this directory","locked":0,"valuetype":"directory","category":"outputdir","argument":"--outputdir","owner":"aguatest","appname":"unzipFiles","discretion":"required","workflow":"Workflow1","project":"Project1","args":"input.outputdir.value","paramname":"outputdir","appnumber":"2","format":"","paramtype":"input","inputParams":"InputParams","username":"testuser"},{"discretion":"optional","appname":"unzipFiles","argument":"--regex","owner":"aguatest","category":"filter","valuetype":"string","locked":0,"description":"Unzip only files matching this regular expression","ordinal":0,"chained":1,"paramnumber":"5","value":"chr[XYM0-9]+.fa.gz","paramFunction":"","workflownumber":1,"username":"testuser","inputParams":"","paramtype":"input","format":"","appnumber":"2","paramname":"regex","args":"input.regex.value","project":"Project1","workflow":"Workflow1"},{"paramnumber":"6","ordinal":0,"chained":0,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","paramFunction":"","workflownumber":1,"value":"gunzip","owner":"aguatest","argument":"--type","appname":"unzipFiles","discretion":"required","locked":0,"valuetype":"string","category":"type","workflow":"Workflow1","project":"Project1","args":"","paramname":"type","inputParams":"","username":"testuser","format":"","appnumber":"2","paramtype":"input"}]
2018-08-03 02:49:35        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"appnumber":"3","format":"","paramtype":"input","username":"testuser","inputParams":"referencedir,outputdir,inputdir","project":"Project1","workflow":"Workflow1","paramname":"inputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","valuetype":"directory","locked":0,"category":"inputdir","appname":"elandIndex","owner":"aguatest","argument":"--inputdir","discretion":"essential","value":"Project1/Workflow1/reference/fasta","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","workflownumber":1,"paramnumber":"1","description":"Location of directory containing *.fa files","chained":0,"ordinal":0},{"value":"Project1/Workflow1/reference/eland","workflownumber":1,"paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","description":"Print indexed files to this directory","chained":0,"ordinal":0,"paramnumber":"2","category":"outputdir","valuetype":"directory","locked":0,"discretion":"required","appname":"elandIndex","argument":"--outputdir","owner":"aguatest","paramname":"outputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","project":"Project1","workflow":"Workflow1","paramtype":"input","appnumber":"3","format":"","username":"testuser","inputParams":"referencedir,outputdir,inputdir"},{"appnumber":"3","format":"","paramtype":"input","username":"testuser","inputParams":"","workflow":"Workflow1","project":"Project1","paramname":"subdirs","args":"input.subdirs.value","valuetype":"flag","locked":0,"category":"subdirs","appname":"elandIndex","argument":"--subdirs","owner":"aguatest","discretion":"optional","value":"","workflownumber":1,"paramFunction":"","paramnumber":"3","description":"","chained":0,"ordinal":0}]
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStartStop	1749	# stages: 3
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->start: 1
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStartStop	1755	self->stop: undef
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStartStop	1760	start: 1
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStartStop	1761	stop: 4
2018-08-03 02:49:35        [NOTE]   	Engine::Workflow::setStartStop	1782	6222 Setting start: 1
2018-08-03 02:49:35        [NOTE]   	Engine::Workflow::setStartStop	1783	6222 Setting stop: 4
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1397	start: 1
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1398	stop: 4
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1402	fileroot: /home/testuser/agua
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setFileDirs	1536	fileroot: /home/testuser/agua
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setFileDirs	1537	project: Project1
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setFileDirs	1538	workflow: Workflow1
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setFileDirs	1542	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1406	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1422	BEFORE monitor = self->updateMonitor()
2018-08-03 02:49:35        [CALLER]   	Engine::Workflow::updateMonitor	2059	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1426	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:49:35        [DEBUG]   	Engine::Workflow::setStages	1504	final no. stageobjects: 3
2018-08-03 02:49:35        [GROUPEND]    	Engine::Workflow::setStages	1506	Engine::Workflow::setStages
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::_getStatus	2267	now: datetime()
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::_getStatus	2270	datetime: 2018-08-03 06:49:35
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::_getStatus	2283	# stages: 3
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::_getStatus	2284	stages: [{"ancestor":"","sample":"","version":"0.6.0","executor":"/usr/bin/perl","workflowpid":0,"username":"testuser","queued":"0000-00-00 00:00:00","envarfile":"","installdir":"/agua/bioapps","stagejobid":0,"package":"bioapps","submit":0,"project":"Project1","workflow":"Workflow1","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","completed":"2012-02-26 04:36:30","successor":"","status":"","location":"bin/utils/FTP.pl","now":"2018-08-03 06:49:35","owner":"aguatest","started":"2012-02-26 04:24:14","number":1,"cluster":"","workflownumber":1,"description":"","notes":"","name":"FTP","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","type":"utility","stagepid":7860},{"ancestor":"","username":"testuser","workflowpid":0,"version":"0.6.0","executor":"/usr/bin/perl","sample":"","workflow":"Workflow1","submit":0,"project":"Project1","installdir":"/agua/bioapps","stagejobid":0,"package":"bioapps","envarfile":"","queued":"0000-00-00 00:00:00","status":"","successor":"","completed":"2012-02-27 03:39:27","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","now":"2018-08-03 06:49:35","location":"bin/utils/unzipFiles.pl","owner":"aguatest","workflownumber":1,"cluster":"","number":2,"started":"2012-02-27 03:39:00","stagepid":8997,"stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","type":"utility","name":"unzipFiles","notes":"","description":""},{"cluster":"","workflownumber":1,"number":3,"started":"0000-00-00 00:00:00","stagepid":0,"stderrfile":"","type":"converter","name":"elandIndex","notes":undef,"description":"","location":"bin/converters/elandIndex.pl","now":"2018-08-03 06:49:35","owner":"aguatest","submit":0,"workflow":"Workflow1","project":"Project1","stagejobid":0,"installdir":"/agua/bioapps","package":"bioapps","envarfile":"","queued":"0000-00-00 00:00:00","status":"","successor":"","completed":"0000-00-00 00:00:00","stdoutfile":"","ancestor":"","username":"testuser","workflowpid":0,"executor":"/usr/bin/perl","version":"0.6.0","sample":""}]
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::_getStatus	2294	cluster: testuser-testcluster
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::_getStatusCluster	2320	
2018-08-03 02:49:35    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:49:35    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:49:35    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:49:35    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::_getStatusCluster	2324	clusterworkflow: {}
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2411	workflow: Workflow1
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2414	object: {"provenance":undef,"username":"testuser","project":"Project1","number":1,"name":"Workflow1","notes":"","description":"","status":""}
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::_getStatusCluster	2326	workflowstatus: 
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::runLocally	816	# stages: 3
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::runLocally	819	BEFORE runStages()

2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::runStages	1260	no. stages: 3
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::runStages	1269	worker: 0
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::runStages	1272	stagecounter: 0
2018-08-03 02:49:35    [NOTE]   	Util::Timer::getMysqlTime	136	
2018-08-03 02:49:35    [NOTE]   	Util::Timer::getMysqlTime	139	6222 time: Fri Aug  3 02:49:35 EDT 2018

2018-08-03 02:49:35    [NOTE]   	Util::Timer::datetimeToMysql	149	
2018-08-03 02:49:35    [NOTE]   	Util::Timer::datetimeToMysql	170	timezone: EDT
2018-08-03 02:49:35    [NOTE]   	Util::Timer::datetimeToMysql	171	month: Aug
2018-08-03 02:49:35    [NOTE]   	Util::Timer::datetimeToMysql	173	month number: 08
2018-08-03 02:49:35    [NOTE]   	Util::Timer::datetimeToMysql	178	mysqldatetime: 2018-08-03 02:49:35
2018-08-03 02:49:35    [NOTE]   	Util::Timer::getMysqlTime	142	6222 mysqltime: 2018-08-03 02:49:35
2018-08-03 02:49:35    [DEBUG]   	Engine::Workflow::runStages	1290	mysqltime: 2018-08-03 02:49:35
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"memory":1,"log":2,"oldlog":2,"memorystore":undef,"indent":4,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"valueoffset":24,"logtype":"cli","oldprintlog":2,"yaml":bless( [], "YAML::Tiny" ),"backup":1,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"log":"4","printlog":5}
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:51:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	349	DOING executeWorkflow()
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"project":"Project1","username":"testuser","status":"running","cluster":undef,"name":"Workflow1"}
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"project":"Project1","username":"testuser","status":"running","cluster":undef,"name":"Workflow1"}
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"oldprintlog":2,"logtype":"cli","backup":0,"password":"","dbfile":"/a/db/sqlite/agua.sqlite","printlog":2,"dbh":bless( {}, "DBI::db" ),"indent":4,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","user":"","dbtype":"sqlite","sqlite":"","log":2,"oldlog":2,"database":"agua"}, "DBase::SQLite" )
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2580	success: 1
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:51:00        [GROUP]    	Engine::Workflow::setStages	1368	Engine::Workflow::setStages
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1369	username: testuser
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1370	cluster: undef
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1371	project: Project1
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1372	workflow: Workflow1
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1373	scheduler: local
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1380	slots: undef
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1387	force: undef
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::checkPrevious	1706	start: 0
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1389	previouscompleted: 1
2018-08-03 02:51:00        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"discretion":"optional","appname":"FTP","paramtype":"input","workflownumber":1,"args":"","value":"","paramname":"filter","format":"","workflow":"Workflow1","username":"testuser","project":"Project1","valuetype":"string","chained":0,"ordinal":0,"paramFunction":"","paramnumber":"1","argument":"--filter","locked":0,"appnumber":"1","owner":"aguatest","inputParams":"","category":"filter","description":"Download only files containing this text fragment"},{"paramFunction":"","ordinal":0,"chained":0,"locked":0,"paramnumber":"2","argument":"--outputdir","owner":"aguatest","appnumber":"1","category":"outputdir","inputParams":"","description":"Create this directory and download files to it","discretion":"required","paramtype":"input","appname":"FTP","workflownumber":1,"args":"","value":"Project1/Workflow1/downloads","format":"","paramname":"outputdir","workflow":"Workflow1","valuetype":"directory","project":"Project1","username":"testuser"},{"owner":"aguatest","appnumber":"1","paramFunction":"","chained":0,"ordinal":0,"locked":0,"argument":"--regex","paramnumber":"3","description":"Download files matching this regular expression","category":"regex","inputParams":"","workflownumber":1,"args":"","value":"chr[XYM0-9]+.fa.gz","discretion":"optional","paramtype":"input","appname":"FTP","valuetype":"string","username":"testuser","project":"Project1","format":"","paramname":"regex","workflow":"Workflow1"},{"workflow":"Workflow1","format":"","paramname":"type","valuetype":"string","project":"Project1","username":"testuser","paramtype":"input","appname":"FTP","discretion":"essential","value":"html","args":"","workflownumber":1,"category":"type","inputParams":"","description":"Type of page: html or text","locked":0,"argument":"--type","paramnumber":"4","paramFunction":"","chained":0,"ordinal":0,"owner":"aguatest","appnumber":"1"},{"description":"Download files linked on this page","category":"url","inputParams":"","owner":"aguatest","appnumber":"1","locked":0,"argument":"--url","paramnumber":"5","paramFunction":"","chained":0,"ordinal":0,"valuetype":"string","username":"testuser","project":"Project1","workflow":"Workflow1","format":"","paramname":"url","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","workflownumber":1,"args":"","paramtype":"input","appname":"FTP","discretion":"required"}]
2018-08-03 02:51:00        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"workflownumber":1,"args":"","value":"1","discretion":"optional","paramtype":"input","appname":"unzipFiles","valuetype":"flag","username":"testuser","project":"Project1","paramname":"delete","format":"","workflow":"Workflow1","owner":"aguatest","appnumber":"2","paramFunction":"","chained":0,"ordinal":0,"locked":0,"argument":"--delete","paramnumber":"1","description":" Remove zipped files after unzipping","category":"delete","inputParams":""},{"description":"Unzip only files containing this text fragment","category":"filter","inputParams":"","owner":"aguatest","appnumber":"2","locked":0,"argument":"--filter","paramnumber":"2","paramFunction":"","chained":0,"ordinal":0,"valuetype":"string","username":"testuser","project":"Project1","workflow":"Workflow1","format":"","paramname":"filter","value":"","args":"","workflownumber":1,"paramtype":"input","appname":"unzipFiles","discretion":"optional"},{"paramFunction":"","chained":0,"ordinal":0,"locked":0,"argument":"--inputdir","paramnumber":"3","owner":"aguatest","appnumber":"2","category":"inputdir","inputParams":"InputParams","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","discretion":"essential","paramtype":"input","appname":"unzipFiles","args":"input.outputdir.value","workflownumber":1,"value":"Project1/Workflow1/downloads","paramname":"inputdir","format":"","workflow":"Workflow1","valuetype":"directory","username":"testuser","project":"Project1"},{"valuetype":"directory","username":"testuser","project":"Project1","format":"","paramname":"outputdir","workflow":"Workflow1","workflownumber":1,"args":"input.outputdir.value","value":"Project1/Workflow1/downloads","discretion":"required","paramtype":"input","appname":"unzipFiles","description":"Unzip files to this directory","category":"outputdir","inputParams":"InputParams","owner":"aguatest","appnumber":"2","paramFunction":"","chained":0,"ordinal":0,"locked":0,"argument":"--outputdir","paramnumber":"4"},{"valuetype":"string","project":"Project1","username":"testuser","format":"","paramname":"regex","workflow":"Workflow1","workflownumber":1,"args":"input.regex.value","value":"chr[XYM0-9]+.fa.gz","discretion":"optional","paramtype":"input","appname":"unzipFiles","description":"Unzip only files matching this regular expression","category":"filter","inputParams":"","owner":"aguatest","appnumber":"2","paramFunction":"","chained":1,"ordinal":0,"locked":0,"argument":"--regex","paramnumber":"5"},{"inputParams":"","category":"type","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","chained":0,"ordinal":0,"paramFunction":"","argument":"--type","paramnumber":"6","locked":0,"appnumber":"2","owner":"aguatest","format":"","paramname":"type","workflow":"Workflow1","username":"testuser","project":"Project1","valuetype":"string","discretion":"required","appname":"unzipFiles","paramtype":"input","workflownumber":1,"args":"","value":"gunzip"}]
2018-08-03 02:51:00        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"description":"Location of directory containing *.fa files","inputParams":"referencedir,outputdir,inputdir","category":"inputdir","appnumber":"3","owner":"aguatest","paramnumber":"1","argument":"--inputdir","locked":0,"ordinal":0,"chained":0,"paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","username":"testuser","project":"Project1","valuetype":"directory","workflow":"Workflow1","format":"","paramname":"inputdir","value":"Project1/Workflow1/reference/fasta","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","workflownumber":1,"appname":"elandIndex","paramtype":"input","discretion":"essential"},{"valuetype":"directory","username":"testuser","project":"Project1","workflow":"Workflow1","format":"","paramname":"outputdir","value":"Project1/Workflow1/reference/eland","workflownumber":1,"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramtype":"input","appname":"elandIndex","discretion":"required","description":"Print indexed files to this directory","category":"outputdir","inputParams":"referencedir,outputdir,inputdir","owner":"aguatest","appnumber":"3","locked":0,"argument":"--outputdir","paramnumber":"2","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","chained":0,"ordinal":0},{"valuetype":"flag","username":"testuser","project":"Project1","format":"","paramname":"subdirs","workflow":"Workflow1","workflownumber":1,"args":"input.subdirs.value","value":"","discretion":"optional","paramtype":"input","appname":"elandIndex","description":"","category":"subdirs","inputParams":"","owner":"aguatest","appnumber":"3","paramFunction":"","ordinal":0,"chained":0,"locked":0,"paramnumber":"3","argument":"--subdirs"}]
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStartStop	1749	# stages: 3
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->start: 1
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStartStop	1755	self->stop: undef
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStartStop	1760	start: 1
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStartStop	1761	stop: 4
2018-08-03 02:51:00        [NOTE]   	Engine::Workflow::setStartStop	1782	6264 Setting start: 1
2018-08-03 02:51:00        [NOTE]   	Engine::Workflow::setStartStop	1783	6264 Setting stop: 4
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1397	start: 1
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1398	stop: 4
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1402	fileroot: /home/testuser/agua
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setFileDirs	1536	fileroot: /home/testuser/agua
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setFileDirs	1537	project: Project1
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setFileDirs	1538	workflow: Workflow1
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setFileDirs	1542	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1406	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1422	BEFORE monitor = self->updateMonitor()
2018-08-03 02:51:00        [CALLER]   	Engine::Workflow::updateMonitor	2059	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1426	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:51:00        [DEBUG]   	Engine::Workflow::setStages	1504	final no. stageobjects: 3
2018-08-03 02:51:00        [GROUPEND]    	Engine::Workflow::setStages	1506	Engine::Workflow::setStages
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::runLocally	816	# stages: 3
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::runLocally	819	BEFORE runStages()

2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::runStages	1260	no. stages: 3
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::runStages	1269	worker: 0
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::runStages	1272	stagecounter: 0
2018-08-03 02:51:00    [NOTE]   	Util::Timer::getMysqlTime	136	
2018-08-03 02:51:00    [NOTE]   	Util::Timer::getMysqlTime	139	6264 time: Fri Aug  3 02:51:00 EDT 2018

2018-08-03 02:51:00    [NOTE]   	Util::Timer::datetimeToMysql	149	
2018-08-03 02:51:00    [NOTE]   	Util::Timer::datetimeToMysql	170	timezone: EDT
2018-08-03 02:51:00    [NOTE]   	Util::Timer::datetimeToMysql	171	month: Aug
2018-08-03 02:51:00    [NOTE]   	Util::Timer::datetimeToMysql	173	month number: 08
2018-08-03 02:51:00    [NOTE]   	Util::Timer::datetimeToMysql	178	mysqldatetime: 2018-08-03 02:51:00
2018-08-03 02:51:00    [NOTE]   	Util::Timer::getMysqlTime	142	6264 mysqltime: 2018-08-03 02:51:00
2018-08-03 02:51:00    [DEBUG]   	Engine::Workflow::runStages	1290	mysqltime: 2018-08-03 02:51:00
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"log":2,"memory":1,"oldprintlog":2,"memorystore":undef,"logtype":"cli","printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","yaml":bless( [], "YAML::Tiny" ),"indent":4,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","valueoffset":24,"backup":1,"oldlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4"}
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:51:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	349	DOING executeWorkflow()
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"name":"Workflow1","status":"running","project":"Project1","cluster":undef,"username":"testuser"}
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"name":"Workflow1","status":"running","project":"Project1","cluster":undef,"username":"testuser"}
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbh":bless( {}, "DBI::db" ),"log":2,"dbtype":"sqlite","sqlite":"","oldprintlog":2,"logtype":"cli","user":"","database":"agua","password":"","indent":4,"backup":0,"oldlog":2,"dbfile":"/a/db/sqlite/agua.sqlite"}, "DBase::SQLite" )
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2580	success: 1
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:51:07        [GROUP]    	Engine::Workflow::setStages	1368	Engine::Workflow::setStages
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1369	username: testuser
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1370	cluster: undef
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1371	project: Project1
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1372	workflow: Workflow1
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1373	scheduler: local
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1380	slots: undef
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1387	force: undef
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::checkPrevious	1706	start: 0
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1389	previouscompleted: 1
2018-08-03 02:51:07        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"category":"filter","chained":0,"inputParams":"","appname":"FTP","username":"testuser","args":"","format":"","paramFunction":"","discretion":"optional","valuetype":"string","workflow":"Workflow1","ordinal":0,"paramtype":"input","appnumber":"1","paramnumber":"1","argument":"--filter","owner":"aguatest","paramname":"filter","description":"Download only files containing this text fragment","locked":0,"workflownumber":1,"value":"","project":"Project1"},{"chained":0,"category":"outputdir","args":"","format":"","inputParams":"","appname":"FTP","username":"testuser","valuetype":"directory","discretion":"required","paramFunction":"","ordinal":0,"paramtype":"input","workflow":"Workflow1","appnumber":"1","paramnumber":"2","owner":"aguatest","description":"Create this directory and download files to it","paramname":"outputdir","argument":"--outputdir","locked":0,"value":"Project1/Workflow1/downloads","project":"Project1","workflownumber":1},{"workflow":"Workflow1","ordinal":0,"paramtype":"input","paramFunction":"","valuetype":"string","discretion":"optional","inputParams":"","appname":"FTP","username":"testuser","args":"","format":"","category":"regex","chained":0,"workflownumber":1,"value":"chr[XYM0-9]+.fa.gz","project":"Project1","locked":0,"argument":"--regex","owner":"aguatest","description":"Download files matching this regular expression","paramname":"regex","appnumber":"1","paramnumber":"3"},{"valuetype":"string","discretion":"essential","paramFunction":"","paramtype":"input","ordinal":0,"workflow":"Workflow1","chained":0,"category":"type","format":"","args":"","username":"testuser","appname":"FTP","inputParams":"","locked":0,"project":"Project1","value":"html","workflownumber":1,"paramnumber":"4","appnumber":"1","description":"Type of page: html or text","paramname":"type","owner":"aguatest","argument":"--type"},{"argument":"--url","paramname":"url","description":"Download files linked on this page","owner":"aguatest","appnumber":"1","paramnumber":"5","workflownumber":1,"project":"Project1","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","locked":0,"username":"testuser","appname":"FTP","inputParams":"","format":"","args":"","category":"url","chained":0,"workflow":"Workflow1","paramtype":"input","ordinal":0,"paramFunction":"","discretion":"required","valuetype":"string"}]
2018-08-03 02:51:07        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"format":"","args":"","username":"testuser","inputParams":"","appname":"unzipFiles","chained":0,"category":"delete","paramtype":"input","ordinal":0,"workflow":"Workflow1","discretion":"optional","valuetype":"flag","paramFunction":"","description":" Remove zipped files after unzipping","paramname":"delete","owner":"aguatest","argument":"--delete","paramnumber":"1","appnumber":"2","project":"Project1","value":"1","workflownumber":1,"locked":0},{"locked":0,"workflownumber":1,"project":"Project1","value":"","appnumber":"2","paramnumber":"2","argument":"--filter","description":"Unzip only files containing this text fragment","paramname":"filter","owner":"aguatest","paramFunction":"","discretion":"optional","valuetype":"string","workflow":"Workflow1","paramtype":"input","ordinal":0,"category":"filter","chained":0,"username":"testuser","inputParams":"","appname":"unzipFiles","args":"","format":""},{"locked":0,"workflownumber":1,"value":"Project1/Workflow1/downloads","project":"Project1","appnumber":"2","paramnumber":"3","argument":"--inputdir","owner":"aguatest","paramname":"inputdir","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","paramFunction":"","discretion":"essential","valuetype":"directory","workflow":"Workflow1","ordinal":0,"paramtype":"input","category":"inputdir","chained":0,"appname":"unzipFiles","inputParams":"InputParams","username":"testuser","args":"input.outputdir.value","format":""},{"args":"input.outputdir.value","format":"","username":"testuser","inputParams":"InputParams","appname":"unzipFiles","chained":0,"category":"outputdir","paramtype":"input","ordinal":0,"workflow":"Workflow1","discretion":"required","valuetype":"directory","paramFunction":"","paramname":"outputdir","description":"Unzip files to this directory","owner":"aguatest","argument":"--outputdir","appnumber":"2","paramnumber":"4","project":"Project1","value":"Project1/Workflow1/downloads","workflownumber":1,"locked":0},{"project":"Project1","value":"chr[XYM0-9]+.fa.gz","workflownumber":1,"locked":0,"paramname":"regex","description":"Unzip only files matching this regular expression","owner":"aguatest","argument":"--regex","appnumber":"2","paramnumber":"5","paramtype":"input","ordinal":0,"workflow":"Workflow1","discretion":"optional","valuetype":"string","paramFunction":"","args":"input.regex.value","format":"","username":"testuser","appname":"unzipFiles","inputParams":"","chained":1,"category":"filter"},{"workflow":"Workflow1","paramtype":"input","ordinal":0,"paramFunction":"","valuetype":"string","discretion":"required","username":"testuser","appname":"unzipFiles","inputParams":"","args":"","format":"","category":"type","chained":0,"workflownumber":1,"project":"Project1","value":"gunzip","locked":0,"argument":"--type","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","paramname":"type","owner":"aguatest","paramnumber":"6","appnumber":"2"}]
2018-08-03 02:51:07        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"paramnumber":"1","appnumber":"3","argument":"--inputdir","owner":"aguatest","description":"Location of directory containing *.fa files","paramname":"inputdir","locked":0,"workflownumber":1,"value":"Project1/Workflow1/reference/fasta","project":"Project1","category":"inputdir","chained":0,"inputParams":"referencedir,outputdir,inputdir","appname":"elandIndex","username":"testuser","format":"","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","valuetype":"directory","discretion":"essential","workflow":"Workflow1","ordinal":0,"paramtype":"input"},{"locked":0,"workflownumber":1,"value":"Project1/Workflow1/reference/eland","project":"Project1","paramnumber":"2","appnumber":"3","argument":"--outputdir","owner":"aguatest","paramname":"outputdir","description":"Print indexed files to this directory","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","valuetype":"directory","discretion":"required","workflow":"Workflow1","ordinal":0,"paramtype":"input","category":"outputdir","chained":0,"appname":"elandIndex","inputParams":"referencedir,outputdir,inputdir","username":"testuser","format":"","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value"},{"locked":0,"workflownumber":1,"project":"Project1","value":"","appnumber":"3","paramnumber":"3","argument":"--subdirs","description":"","paramname":"subdirs","owner":"aguatest","paramFunction":"","valuetype":"flag","discretion":"optional","workflow":"Workflow1","paramtype":"input","ordinal":0,"category":"subdirs","chained":0,"username":"testuser","appname":"elandIndex","inputParams":"","format":"","args":"input.subdirs.value"}]
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStartStop	1749	# stages: 3
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->start: 1
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStartStop	1755	self->stop: undef
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStartStop	1760	start: 1
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStartStop	1761	stop: 4
2018-08-03 02:51:07        [NOTE]   	Engine::Workflow::setStartStop	1782	6283 Setting start: 1
2018-08-03 02:51:07        [NOTE]   	Engine::Workflow::setStartStop	1783	6283 Setting stop: 4
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1397	start: 1
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1398	stop: 4
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1402	fileroot: /home/testuser/agua
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setFileDirs	1536	fileroot: /home/testuser/agua
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setFileDirs	1537	project: Project1
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setFileDirs	1538	workflow: Workflow1
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setFileDirs	1542	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1406	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1422	BEFORE monitor = self->updateMonitor()
2018-08-03 02:51:07        [CALLER]   	Engine::Workflow::updateMonitor	2059	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1426	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:51:07        [DEBUG]   	Engine::Workflow::setStages	1504	final no. stageobjects: 3
2018-08-03 02:51:07        [GROUPEND]    	Engine::Workflow::setStages	1506	Engine::Workflow::setStages
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::runLocally	816	# stages: 3
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::runLocally	819	BEFORE runStages()

2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::runStages	1260	no. stages: 3
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::runStages	1269	worker: 0
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::runStages	1272	stagecounter: 0
2018-08-03 02:51:07    [NOTE]   	Util::Timer::getMysqlTime	136	
2018-08-03 02:51:07    [NOTE]   	Util::Timer::getMysqlTime	139	6283 time: Fri Aug  3 02:51:07 EDT 2018

2018-08-03 02:51:07    [NOTE]   	Util::Timer::datetimeToMysql	149	
2018-08-03 02:51:07    [NOTE]   	Util::Timer::datetimeToMysql	170	timezone: EDT
2018-08-03 02:51:07    [NOTE]   	Util::Timer::datetimeToMysql	171	month: Aug
2018-08-03 02:51:07    [NOTE]   	Util::Timer::datetimeToMysql	173	month number: 08
2018-08-03 02:51:07    [NOTE]   	Util::Timer::datetimeToMysql	178	mysqldatetime: 2018-08-03 02:51:07
2018-08-03 02:51:07    [NOTE]   	Util::Timer::getMysqlTime	142	6283 mysqltime: 2018-08-03 02:51:07
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::runStages	1290	mysqltime: 2018-08-03 02:51:07
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::_getStatus	2267	now: datetime()
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::_getStatus	2270	datetime: 2018-08-03 06:51:07
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::_getStatus	2283	# stages: 3
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::_getStatus	2284	stages: [{"stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","stagepid":7860,"started":"2018-08-03 02:51:07","envarfile":"","sample":"","submit":0,"now":"2018-08-03 06:51:07","owner":"aguatest","description":"","executor":"/usr/bin/perl","version":"0.6.0","successor":"","workflownumber":1,"project":"Project1","package":"bioapps","status":"running","installdir":"/agua/bioapps","completed":"","username":"testuser","number":1,"workflowpid":0,"ancestor":"","queued":"2018-08-03 02:51:07","notes":"","name":"FTP","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","workflow":"Workflow1","stagejobid":0,"type":"utility","cluster":"","location":"bin/utils/FTP.pl"},{"sample":"","submit":0,"now":"2018-08-03 06:51:07","owner":"aguatest","description":"","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","stagepid":8997,"started":"2012-02-27 03:39:00","envarfile":"","workflownumber":1,"package":"bioapps","project":"Project1","version":"0.6.0","executor":"/usr/bin/perl","successor":"","username":"testuser","number":2,"workflowpid":0,"status":"","installdir":"/agua/bioapps","completed":"2012-02-27 03:39:27","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","workflow":"Workflow1","stagejobid":0,"type":"utility","location":"bin/utils/unzipFiles.pl","cluster":"","ancestor":"","queued":"0000-00-00 00:00:00","name":"unzipFiles","notes":""},{"successor":"","executor":"/usr/bin/perl","version":"0.6.0","package":"bioapps","project":"Project1","workflownumber":1,"envarfile":"","started":"0000-00-00 00:00:00","stagepid":0,"stdoutfile":"","description":"","now":"2018-08-03 06:51:07","owner":"aguatest","sample":"","submit":0,"name":"elandIndex","notes":undef,"ancestor":"","queued":"0000-00-00 00:00:00","cluster":"","location":"bin/converters/elandIndex.pl","type":"converter","stagejobid":0,"workflow":"Workflow1","stderrfile":"","completed":"0000-00-00 00:00:00","status":"","installdir":"/agua/bioapps","number":3,"workflowpid":0,"username":"testuser"}]
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::_getStatus	2294	cluster: testuser-testcluster
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::_getStatusCluster	2320	
2018-08-03 02:51:07    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:51:07    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:51:07    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:51:07    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::_getStatusCluster	2324	clusterworkflow: {}
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2411	workflow: Workflow1
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2414	object: {"project":"Project1","provenance":undef,"name":"Workflow1","notes":"","description":"","number":1,"username":"testuser","status":""}
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::_getStatusCluster	2326	workflowstatus: 
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::runStages	1314	DOING notifyStatus(data)
2018-08-03 02:51:07    [DEBUG]   	Engine::Workflow::runStages	1319	Running stage 1: FTP
2018-08-03 02:51:07    [DEBUG]   	Engine::Stage::initialiseRunTimes	1009	mysqltime: 2018-08-03 02:51:07
2018-08-03 02:51:07    [DEBUG]   	Engine::Stage::setStatus	1052	6283 status: running
2018-08-03 02:51:07    [NOTE]   	Engine::Stage::setStatus	1071	UPDATE stage
SET
status = 'running',
completed=''
WHERE username = 'testuser'
AND project = 'Project1'
AND workflow = 'Workflow1'
AND number = '1'
2018-08-03 02:51:07    [DEBUG]   	Engine::Stage::run	185	dryrun: undef
2018-08-03 02:51:07    [DEBUG]   	Engine::Stage::run	193	6283 submit: 0
2018-08-03 02:51:07    [DEBUG]   	Engine::Stage::run	194	6283 cluster: undef
2018-08-03 02:51:07    [DEBUG]   	Engine::Stage::run	204	6283 Doing self->runLocally()
2018-08-03 02:51:07    [DEBUG]   	Engine::Stage::setSystemCall	341	6283 fileroot: /home/testuser/agua
2018-08-03 02:51:07    [NOTE]   	Engine::Stage::setArguments	733	stageparameters: [{"category":"filter","chained":0,"inputParams":"","appname":"FTP","username":"testuser","args":"","format":"","paramFunction":"","discretion":"optional","valuetype":"string","workflow":"Workflow1","ordinal":0,"paramtype":"input","appnumber":"1","paramnumber":"1","argument":"--filter","owner":"aguatest","paramname":"filter","description":"Download only files containing this text fragment","locked":0,"workflownumber":1,"value":"","project":"Project1"},{"chained":0,"category":"outputdir","args":"","format":"","inputParams":"","appname":"FTP","username":"testuser","valuetype":"directory","discretion":"required","paramFunction":"","ordinal":0,"paramtype":"input","workflow":"Workflow1","appnumber":"1","paramnumber":"2","owner":"aguatest","description":"Create this directory and download files to it","paramname":"outputdir","argument":"--outputdir","locked":0,"value":"Project1/Workflow1/downloads","project":"Project1","workflownumber":1},{"workflow":"Workflow1","ordinal":0,"paramtype":"input","paramFunction":"","valuetype":"string","discretion":"optional","inputParams":"","appname":"FTP","username":"testuser","args":"","format":"","category":"regex","chained":0,"workflownumber":1,"value":"chr[XYM0-9]+.fa.gz","project":"Project1","locked":0,"argument":"--regex","owner":"aguatest","description":"Download files matching this regular expression","paramname":"regex","appnumber":"1","paramnumber":"3"},{"valuetype":"string","discretion":"essential","paramFunction":"","paramtype":"input","ordinal":0,"workflow":"Workflow1","chained":0,"category":"type","format":"","args":"","username":"testuser","appname":"FTP","inputParams":"","locked":0,"project":"Project1","value":"html","workflownumber":1,"paramnumber":"4","appnumber":"1","description":"Type of page: html or text","paramname":"type","owner":"aguatest","argument":"--type"},{"argument":"--url","paramname":"url","description":"Download files linked on this page","owner":"aguatest","appnumber":"1","paramnumber":"5","workflownumber":1,"project":"Project1","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","locked":0,"username":"testuser","appname":"FTP","inputParams":"","format":"","args":"","category":"url","chained":0,"workflow":"Workflow1","paramtype":"input","ordinal":0,"paramFunction":"","discretion":"required","valuetype":"string"}]
2018-08-03 02:51:07    [NOTE]   	Engine::Stage::setArguments	734	no. stageparameters: 5
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4","conf":bless( {"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"memory":1,"oldlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","log":2,"backup":1,"yaml":bless( [], "YAML::Tiny" ),"oldprintlog":2,"valueoffset":24,"printlog":2,"memorystore":undef}, "Conf::Yaml" )}
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:51:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	349	DOING executeWorkflow()
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"cluster":undef,"project":"Project1","name":"Workflow1","status":"running","username":"testuser"}
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"cluster":undef,"project":"Project1","name":"Workflow1","status":"running","username":"testuser"}
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"sqlite":"","dbfile":"/a/db/sqlite/agua.sqlite","oldprintlog":2,"backup":0,"log":2,"logtype":"cli","password":"","dbtype":"sqlite","printlog":2,"indent":4,"dbh":bless( {}, "DBI::db" ),"database":"agua","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldlog":2,"user":""}, "DBase::SQLite" )
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2580	success: 1
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:51:51        [GROUP]    	Engine::Workflow::setStages	1368	Engine::Workflow::setStages
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1369	username: testuser
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1370	cluster: undef
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1371	project: Project1
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1372	workflow: Workflow1
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1373	scheduler: local
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1380	slots: undef
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1387	force: undef
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::checkPrevious	1706	start: 0
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1389	previouscompleted: 1
2018-08-03 02:51:51        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"project":"Project1","workflow":"Workflow1","paramnumber":"1","username":"testuser","chained":0,"ordinal":0,"value":"","category":"filter","workflownumber":1,"paramtype":"input","argument":"--filter","inputParams":"","valuetype":"string","locked":0,"format":"","appnumber":"1","paramFunction":"","appname":"FTP","args":"","description":"Download only files containing this text fragment","paramname":"filter","discretion":"optional","owner":"aguatest"},{"project":"Project1","paramnumber":"2","workflow":"Workflow1","value":"Project1/Workflow1/downloads","ordinal":0,"username":"testuser","chained":0,"category":"outputdir","workflownumber":1,"inputParams":"","argument":"--outputdir","paramtype":"input","format":"","appnumber":"1","valuetype":"directory","locked":0,"args":"","paramFunction":"","appname":"FTP","owner":"aguatest","discretion":"required","description":"Create this directory and download files to it","paramname":"outputdir"},{"paramnumber":"3","workflow":"Workflow1","project":"Project1","value":"chr[XYM0-9]+.fa.gz","ordinal":0,"chained":0,"username":"testuser","category":"regex","workflownumber":1,"inputParams":"","argument":"--regex","paramtype":"input","appnumber":"1","format":"","valuetype":"string","locked":0,"args":"","paramFunction":"","appname":"FTP","owner":"aguatest","discretion":"optional","paramname":"regex","description":"Download files matching this regular expression"},{"workflownumber":1,"category":"type","ordinal":0,"chained":0,"username":"testuser","value":"html","project":"Project1","workflow":"Workflow1","paramnumber":"4","discretion":"essential","paramname":"type","description":"Type of page: html or text","owner":"aguatest","args":"","appname":"FTP","paramFunction":"","format":"","appnumber":"1","valuetype":"string","locked":0,"argument":"--type","paramtype":"input","inputParams":""},{"paramFunction":"","appname":"FTP","args":"","owner":"aguatest","paramname":"url","description":"Download files linked on this page","discretion":"required","inputParams":"","paramtype":"input","argument":"--url","valuetype":"string","locked":0,"format":"","appnumber":"1","category":"url","workflownumber":1,"project":"Project1","workflow":"Workflow1","paramnumber":"5","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","username":"testuser","chained":0,"ordinal":0}]
2018-08-03 02:51:51        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"category":"delete","workflownumber":1,"project":"Project1","paramnumber":"1","workflow":"Workflow1","value":"1","ordinal":0,"chained":0,"username":"testuser","args":"","appname":"unzipFiles","paramFunction":"","owner":"aguatest","discretion":"optional","paramname":"delete","description":" Remove zipped files after unzipping","inputParams":"","argument":"--delete","paramtype":"input","appnumber":"2","format":"","valuetype":"flag","locked":0},{"valuetype":"string","locked":0,"appnumber":"2","format":"","inputParams":"","paramtype":"input","argument":"--filter","owner":"aguatest","description":"Unzip only files containing this text fragment","paramname":"filter","discretion":"optional","paramFunction":"","appname":"unzipFiles","args":"","value":"","chained":0,"username":"testuser","ordinal":0,"workflow":"Workflow1","project":"Project1","paramnumber":"2","workflownumber":1,"category":"filter"},{"value":"Project1/Workflow1/downloads","chained":0,"username":"testuser","ordinal":0,"paramnumber":"3","project":"Project1","workflow":"Workflow1","workflownumber":1,"category":"inputdir","valuetype":"directory","locked":0,"format":"","appnumber":"2","inputParams":"InputParams","paramtype":"input","argument":"--inputdir","owner":"aguatest","paramname":"inputdir","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","discretion":"essential","paramFunction":"","appname":"unzipFiles","args":"input.outputdir.value"},{"inputParams":"InputParams","argument":"--outputdir","paramtype":"input","format":"","appnumber":"2","valuetype":"directory","locked":0,"args":"input.outputdir.value","appname":"unzipFiles","paramFunction":"","owner":"aguatest","discretion":"required","paramname":"outputdir","description":"Unzip files to this directory","project":"Project1","workflow":"Workflow1","paramnumber":"4","value":"Project1/Workflow1/downloads","ordinal":0,"username":"testuser","chained":0,"category":"outputdir","workflownumber":1},{"discretion":"optional","description":"Unzip only files matching this regular expression","paramname":"regex","owner":"aguatest","args":"input.regex.value","paramFunction":"","appname":"unzipFiles","appnumber":"2","format":"","valuetype":"string","locked":0,"argument":"--regex","paramtype":"input","inputParams":"","workflownumber":1,"category":"filter","ordinal":0,"username":"testuser","chained":1,"value":"chr[XYM0-9]+.fa.gz","paramnumber":"5","workflow":"Workflow1","project":"Project1"},{"workflow":"Workflow1","project":"Project1","paramnumber":"6","username":"testuser","chained":0,"ordinal":0,"value":"gunzip","category":"type","workflownumber":1,"paramtype":"input","argument":"--type","inputParams":"","locked":0,"valuetype":"string","appnumber":"2","format":"","paramFunction":"","appname":"unzipFiles","args":"","paramname":"type","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","discretion":"required","owner":"aguatest"}]
2018-08-03 02:51:51        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"username":"testuser","chained":0,"ordinal":0,"value":"Project1/Workflow1/reference/fasta","paramnumber":"1","workflow":"Workflow1","project":"Project1","workflownumber":1,"category":"inputdir","valuetype":"directory","locked":0,"format":"","appnumber":"3","paramtype":"input","argument":"--inputdir","inputParams":"referencedir,outputdir,inputdir","paramname":"inputdir","description":"Location of directory containing *.fa files","discretion":"essential","owner":"aguatest","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","appname":"elandIndex","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value"},{"category":"outputdir","workflownumber":1,"paramnumber":"2","project":"Project1","workflow":"Workflow1","username":"testuser","chained":0,"ordinal":0,"value":"Project1/Workflow1/reference/eland","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","appname":"elandIndex","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","description":"Print indexed files to this directory","paramname":"outputdir","discretion":"required","owner":"aguatest","paramtype":"input","argument":"--outputdir","inputParams":"referencedir,outputdir,inputdir","valuetype":"directory","locked":0,"appnumber":"3","format":""},{"appname":"elandIndex","paramFunction":"","args":"input.subdirs.value","owner":"aguatest","paramname":"subdirs","description":"","discretion":"optional","inputParams":"","paramtype":"input","argument":"--subdirs","valuetype":"flag","locked":0,"appnumber":"3","format":"","category":"subdirs","workflownumber":1,"workflow":"Workflow1","project":"Project1","paramnumber":"3","value":"","chained":0,"username":"testuser","ordinal":0}]
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStartStop	1749	# stages: 3
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->start: 1
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStartStop	1755	self->stop: undef
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStartStop	1760	start: 1
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStartStop	1761	stop: 4
2018-08-03 02:51:51        [NOTE]   	Engine::Workflow::setStartStop	1782	6317 Setting start: 1
2018-08-03 02:51:51        [NOTE]   	Engine::Workflow::setStartStop	1783	6317 Setting stop: 4
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1397	start: 1
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1398	stop: 4
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1402	fileroot: /home/testuser/agua
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setFileDirs	1536	fileroot: /home/testuser/agua
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setFileDirs	1537	project: Project1
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setFileDirs	1538	workflow: Workflow1
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setFileDirs	1542	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1406	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1422	BEFORE monitor = self->updateMonitor()
2018-08-03 02:51:51        [CALLER]   	Engine::Workflow::updateMonitor	2059	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1426	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:51:51        [DEBUG]   	Engine::Workflow::setStages	1504	final no. stageobjects: 3
2018-08-03 02:51:51        [GROUPEND]    	Engine::Workflow::setStages	1506	Engine::Workflow::setStages
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::runLocally	816	# stages: 3
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::runLocally	819	BEFORE runStages()

2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::runStages	1260	no. stages: 3
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::runStages	1269	worker: 0
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::runStages	1272	stagecounter: 0
2018-08-03 02:51:51    [NOTE]   	Util::Timer::getMysqlTime	136	
2018-08-03 02:51:51    [DEBUG]   	Engine::Stage::initialiseRunTimes	1009	mysqltime: 2018-08-03 02:51:51
2018-08-03 02:51:51    [DEBUG]   	Engine::Stage::setStatus	1052	6317 status: running
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setStatus	1071	UPDATE stage
SET
status = 'running',
completed=''
WHERE username = 'testuser'
AND project = 'Project1'
AND workflow = 'Workflow1'
AND number = '1'
2018-08-03 02:51:51    [DEBUG]   	Engine::Stage::run	185	dryrun: undef
2018-08-03 02:51:51    [DEBUG]   	Engine::Stage::run	193	6317 submit: 0
2018-08-03 02:51:51    [DEBUG]   	Engine::Stage::run	194	6317 cluster: undef
2018-08-03 02:51:51    [DEBUG]   	Engine::Stage::run	204	6317 Doing self->runLocally()
2018-08-03 02:51:51    [DEBUG]   	Engine::Stage::setSystemCall	341	6317 fileroot: /home/testuser/agua
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	733	stageparameters: [{"project":"Project1","workflow":"Workflow1","paramnumber":"1","username":"testuser","chained":0,"ordinal":0,"value":"","category":"filter","workflownumber":1,"paramtype":"input","argument":"--filter","inputParams":"","valuetype":"string","locked":0,"format":"","appnumber":"1","paramFunction":"","appname":"FTP","args":"","description":"Download only files containing this text fragment","paramname":"filter","discretion":"optional","owner":"aguatest"},{"project":"Project1","paramnumber":"2","workflow":"Workflow1","value":"Project1/Workflow1/downloads","ordinal":0,"username":"testuser","chained":0,"category":"outputdir","workflownumber":1,"inputParams":"","argument":"--outputdir","paramtype":"input","format":"","appnumber":"1","valuetype":"directory","locked":0,"args":"","paramFunction":"","appname":"FTP","owner":"aguatest","discretion":"required","description":"Create this directory and download files to it","paramname":"outputdir"},{"paramnumber":"3","workflow":"Workflow1","project":"Project1","value":"chr[XYM0-9]+.fa.gz","ordinal":0,"chained":0,"username":"testuser","category":"regex","workflownumber":1,"inputParams":"","argument":"--regex","paramtype":"input","appnumber":"1","format":"","valuetype":"string","locked":0,"args":"","paramFunction":"","appname":"FTP","owner":"aguatest","discretion":"optional","paramname":"regex","description":"Download files matching this regular expression"},{"workflownumber":1,"category":"type","ordinal":0,"chained":0,"username":"testuser","value":"html","project":"Project1","workflow":"Workflow1","paramnumber":"4","discretion":"essential","paramname":"type","description":"Type of page: html or text","owner":"aguatest","args":"","appname":"FTP","paramFunction":"","format":"","appnumber":"1","valuetype":"string","locked":0,"argument":"--type","paramtype":"input","inputParams":""},{"paramFunction":"","appname":"FTP","args":"","owner":"aguatest","paramname":"url","description":"Download files linked on this page","discretion":"required","inputParams":"","paramtype":"input","argument":"--url","valuetype":"string","locked":0,"format":"","appnumber":"1","category":"url","workflownumber":1,"project":"Project1","workflow":"Workflow1","paramnumber":"5","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","username":"testuser","chained":0,"ordinal":0}]
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	734	no. stageparameters: 5
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	745	username: testuser
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	746	cluster: undef
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	747	fileroot: /home/testuser/agua
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	748	version: 0.6.0
2018-08-03 02:51:51    [DEBUG]   	Engine::Stage::setArguments	767	samplehash: {}
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	789	paramname: filter
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	790	argument: --filter
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	791	value: 
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	792	valuetype: string
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	793	discretion: optional
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	810	Skipping empty argument: --filter
2018-08-03 02:51:51    [DEBUG]   	Engine::Stage::setArguments	767	samplehash: {}
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	789	paramname: outputdir
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	790	argument: --outputdir
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	791	value: Project1/Workflow1/downloads
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	792	valuetype: directory
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	793	discretion: required
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	816	BEFORE value: Project1/Workflow1/downloads
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	822	Adding fileroot to directory: Project1/Workflow1/downloads
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	860	AFTER value: /home/testuser/agua/Project1/Workflow1/downloads
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	861	current arguments: ["--outputdir","/home/testuser/agua/Project1/Workflow1/downloads"]
2018-08-03 02:51:51    [DEBUG]   	Engine::Stage::setArguments	767	samplehash: {}
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	789	paramname: regex
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	790	argument: --regex
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	791	value: chr[XYM0-9]+.fa.gz
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	792	valuetype: string
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	793	discretion: optional
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	816	BEFORE value: chr[XYM0-9]+.fa.gz
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	860	AFTER value: chr[XYM0-9]+.fa.gz
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	861	current arguments: ["--outputdir","/home/testuser/agua/Project1/Workflow1/downloads","--regex","chr[XYM0-9]+.fa.gz"]
2018-08-03 02:51:51    [DEBUG]   	Engine::Stage::setArguments	767	samplehash: {}
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	789	paramname: type
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	790	argument: --type
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	791	value: html
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	792	valuetype: string
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	793	discretion: essential
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	816	BEFORE value: html
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	860	AFTER value: html
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	861	current arguments: ["--outputdir","/home/testuser/agua/Project1/Workflow1/downloads","--regex","chr[XYM0-9]+.fa.gz","--type","html"]
2018-08-03 02:51:51    [DEBUG]   	Engine::Stage::setArguments	767	samplehash: {}
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	789	paramname: url
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	790	argument: --url
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	791	value: http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	792	valuetype: string
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	793	discretion: required
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	816	BEFORE value: http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	860	AFTER value: http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	861	current arguments: ["--outputdir","/home/testuser/agua/Project1/Workflow1/downloads","--regex","chr[XYM0-9]+.fa.gz","--type","html","--url","http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes"]
2018-08-03 02:51:51    [NOTE]   	Engine::Stage::setArguments	879	arguments: ["--outputdir","/h2018-08-03 02:51:51    [NOTE]   	Util::Timer::getMysqlTime	139	6317 time: Fri Aug  3 02:51:51 EDT 2018

2018-08-03 02:51:51    [NOTE]   	Util::Timer::datetimeToMysql	149	
2018-08-03 02:51:51    [NOTE]   	Util::Timer::datetimeToMysql	170	timezone: EDT
2018-08-03 02:51:51    [NOTE]   	Util::Timer::datetimeToMysql	171	month: Aug
2018-08-03 02:51:51    [NOTE]   	Util::Timer::datetimeToMysql	173	month number: 08
2018-08-03 02:51:51    [NOTE]   	Util::Timer::datetimeToMysql	178	mysqldatetime: 2018-08-03 02:51:51
2018-08-03 02:51:51    [NOTE]   	Util::Timer::getMysqlTime	142	6317 mysqltime: 2018-08-03 02:51:51
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::runStages	1290	mysqltime: 2018-08-03 02:51:51
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::_getStatus	2267	now: datetime()
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::_getStatus	2270	datetime: 2018-08-03 06:51:51
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::_getStatus	2283	# stages: 3
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::_getStatus	2284	stages: [{"stagepid":7860,"stagejobid":0,"started":"2018-08-03 02:51:51","description":"","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","owner":"aguatest","completed":"","queued":"2018-08-03 02:51:51","type":"utility","submit":0,"location":"bin/utils/FTP.pl","envarfile":"","now":"2018-08-03 06:51:51","ancestor":"","executor":"/usr/bin/perl","version":"0.6.0","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","installdir":"/agua/bioapps","workflownumber":1,"notes":"","name":"FTP","status":"running","number":1,"project":"Project1","workflow":"Workflow1","cluster":"","workflowpid":0,"sample":"","username":"testuser","successor":"","package":"bioapps"},{"workflowpid":0,"cluster":"","workflow":"Workflow1","project":"Project1","package":"bioapps","successor":"","sample":"","username":"testuser","version":"0.6.0","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","ancestor":"","executor":"/usr/bin/perl","number":2,"notes":"","status":"","name":"unzipFiles","installdir":"/agua/bioapps","workflownumber":1,"type":"utility","queued":"0000-00-00 00:00:00","completed":"2012-02-27 03:39:27","envarfile":"","now":"2018-08-03 06:51:51","submit":0,"location":"bin/utils/unzipFiles.pl","stagejobid":0,"stagepid":8997,"stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","owner":"aguatest","started":"2012-02-27 03:39:00","description":""},{"version":"0.6.0","stderrfile":"","ancestor":"","executor":"/usr/bin/perl","notes":undef,"status":"","number":3,"name":"elandIndex","installdir":"/agua/bioapps","workflownumber":1,"cluster":"","workflowpid":0,"workflow":"Workflow1","project":"Project1","package":"bioapps","successor":"","sample":"","username":"testuser","stagejobid":0,"stagepid":0,"owner":"aguatest","stdoutfile":"","started":"0000-00-00 00:00:00","description":"","type":"converter","completed":"0000-00-00 00:00:00","queued":"0000-00-00 00:00:00","envarfile":"","now":"2018-08-03 06:51:51","location":"bin/converters/elandIndex.pl","submit":0}]
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::_getStatus	2294	cluster: testuser-testcluster
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::_getStatusCluster	2320	
2018-08-03 02:51:51    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:51:51    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:51:51    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:51:51    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::_getStatusCluster	2324	clusterworkflow: {}
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2411	workflow: Workflow1
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2414	object: {"provenance":undef,"username":"testuser","project":"Project1","notes":"","name":"Workflow1","number":1,"status":"","description":""}
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::_getStatusCluster	2326	workflowstatus: 
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::runStages	1314	DOING notifyStatus(data)
2018-08-03 02:51:51    [DEBUG]   	Engine::Workflow::runStages	1319	Running stage 1: FTP
ome/testuser/agua/Project1/Workflow1/downloads","--regex","chr[XYM0-9]+.fa.gz","--type","html","--url","http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes"]
2018-08-03 02:51:51    [DEBUG]   	Engine::Stage::setSystemCall	345	arguments: ["--outputdir","/home/testuser/agua/Project1/Workflow1/downloads","--regex","chr[XYM0-9]+.fa.gz","--type","html","--url","http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes"]
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"valueoffset":24,"log":2,"printlog":2,"logtype":"cli","oldprintlog":2,"memorystore":undef,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldlog":2,"indent":4,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"yaml":bless( [], "YAML::Tiny" ),"backup":1}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:52:15    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	349	DOING executeWorkflow()
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"status":"running","project":"Project1","name":"Workflow1","username":"testuser","cluster":undef}
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"status":"running","project":"Project1","name":"Workflow1","username":"testuser","cluster":undef}
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"logtype":"cli","oldprintlog":2,"sqlite":"","log":2,"password":"","dbh":bless( {}, "DBI::db" ),"printlog":2,"indent":4,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","backup":0,"user":"","database":"agua","oldlog":2,"dbfile":"/a/db/sqlite/agua.sqlite","dbtype":"sqlite"}, "DBase::SQLite" )
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2580	success: 1
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:52:15        [GROUP]    	Engine::Workflow::setStages	1368	Engine::Workflow::setStages
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1369	username: testuser
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1370	cluster: undef
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1371	project: Project1
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1372	workflow: Workflow1
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1373	scheduler: local
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1380	slots: undef
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1387	force: undef
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::checkPrevious	1706	start: 0
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1389	previouscompleted: 1
2018-08-03 02:52:15        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"workflownumber":1,"value":"","chained":0,"ordinal":0,"valuetype":"string","workflow":"Workflow1","category":"filter","project":"Project1","inputParams":"","format":"","argument":"--filter","discretion":"optional","paramFunction":"","paramname":"filter","description":"Download only files containing this text fragment","appname":"FTP","username":"testuser","appnumber":"1","args":"","paramtype":"input","owner":"aguatest","paramnumber":"1","locked":0},{"workflow":"Workflow1","category":"outputdir","project":"Project1","format":"","inputParams":"","paramFunction":"","discretion":"required","paramname":"outputdir","argument":"--outputdir","workflownumber":1,"value":"Project1/Workflow1/downloads","valuetype":"directory","chained":0,"ordinal":0,"paramtype":"input","owner":"aguatest","paramnumber":"2","locked":0,"username":"testuser","appname":"FTP","description":"Create this directory and download files to it","appnumber":"1","args":""},{"args":"","appnumber":"1","appname":"FTP","username":"testuser","description":"Download files matching this regular expression","locked":0,"paramnumber":"3","owner":"aguatest","paramtype":"input","ordinal":0,"chained":0,"valuetype":"string","value":"chr[XYM0-9]+.fa.gz","workflownumber":1,"paramFunction":"","paramname":"regex","discretion":"optional","argument":"--regex","format":"","inputParams":"","project":"Project1","category":"regex","workflow":"Workflow1"},{"paramtype":"input","owner":"aguatest","paramnumber":"4","locked":0,"description":"Type of page: html or text","username":"testuser","appname":"FTP","appnumber":"1","args":"","category":"type","workflow":"Workflow1","project":"Project1","inputParams":"","format":"","argument":"--type","paramFunction":"","discretion":"essential","paramname":"type","workflownumber":1,"value":"html","chained":0,"valuetype":"string","ordinal":0},{"inputParams":"","format":"","argument":"--url","paramname":"url","paramFunction":"","discretion":"required","workflow":"Workflow1","category":"url","project":"Project1","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","valuetype":"string","chained":0,"ordinal":0,"workflownumber":1,"paramnumber":"5","locked":0,"paramtype":"input","owner":"aguatest","args":"","description":"Download files linked on this page","username":"testuser","appname":"FTP","appnumber":"1"}]
2018-08-03 02:52:15        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"description":" Remove zipped files after unzipping","username":"testuser","appname":"unzipFiles","appnumber":"2","args":"","paramtype":"input","owner":"aguatest","paramnumber":"1","locked":0,"workflownumber":1,"value":"1","ordinal":0,"chained":0,"valuetype":"flag","category":"delete","workflow":"Workflow1","project":"Project1","inputParams":"","format":"","argument":"--delete","paramFunction":"","paramname":"delete","discretion":"optional"},{"workflow":"Workflow1","category":"filter","project":"Project1","format":"","inputParams":"","discretion":"optional","paramFunction":"","paramname":"filter","argument":"--filter","workflownumber":1,"value":"","chained":0,"valuetype":"string","ordinal":0,"paramtype":"input","owner":"aguatest","paramnumber":"2","locked":0,"username":"testuser","appname":"unzipFiles","description":"Unzip only files containing this text fragment","appnumber":"2","args":""},{"workflownumber":1,"value":"Project1/Workflow1/downloads","ordinal":0,"chained":0,"valuetype":"directory","category":"inputdir","workflow":"Workflow1","project":"Project1","inputParams":"InputParams","format":"","argument":"--inputdir","paramname":"inputdir","paramFunction":"","discretion":"essential","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","username":"testuser","appname":"unzipFiles","appnumber":"2","args":"input.outputdir.value","paramtype":"input","owner":"aguatest","paramnumber":"3","locked":0},{"paramnumber":"4","locked":0,"paramtype":"input","owner":"aguatest","args":"input.outputdir.value","description":"Unzip files to this directory","appname":"unzipFiles","username":"testuser","appnumber":"2","inputParams":"InputParams","format":"","argument":"--outputdir","discretion":"required","paramFunction":"","paramname":"outputdir","category":"outputdir","workflow":"Workflow1","project":"Project1","value":"Project1/Workflow1/downloads","chained":0,"valuetype":"directory","ordinal":0,"workflownumber":1},{"value":"chr[XYM0-9]+.fa.gz","ordinal":0,"chained":1,"valuetype":"string","workflownumber":1,"inputParams":"","format":"","argument":"--regex","paramFunction":"","discretion":"optional","paramname":"regex","workflow":"Workflow1","category":"filter","project":"Project1","args":"input.regex.value","description":"Unzip only files matching this regular expression","appname":"unzipFiles","username":"testuser","appnumber":"2","paramnumber":"5","locked":0,"paramtype":"input","owner":"aguatest"},{"category":"type","workflow":"Workflow1","project":"Project1","inputParams":"","format":"","argument":"--type","discretion":"required","paramFunction":"","paramname":"type","workflownumber":1,"value":"gunzip","chained":0,"ordinal":0,"valuetype":"string","paramtype":"input","owner":"aguatest","paramnumber":"6","locked":0,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","username":"testuser","appname":"unzipFiles","appnumber":"2","args":""}]
2018-08-03 02:52:15        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"appnumber":"3","description":"Location of directory containing *.fa files","appname":"elandIndex","username":"testuser","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","owner":"aguatest","paramtype":"input","locked":0,"paramnumber":"1","workflownumber":1,"chained":0,"ordinal":0,"valuetype":"directory","value":"Project1/Workflow1/reference/fasta","project":"Project1","category":"inputdir","workflow":"Workflow1","argument":"--inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","discretion":"essential","paramname":"inputdir","inputParams":"referencedir,outputdir,inputdir","format":""},{"appnumber":"3","description":"Print indexed files to this directory","username":"testuser","appname":"elandIndex","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","owner":"aguatest","paramtype":"input","locked":0,"paramnumber":"2","workflownumber":1,"valuetype":"directory","chained":0,"ordinal":0,"value":"Project1/Workflow1/reference/eland","project":"Project1","category":"outputdir","workflow":"Workflow1","argument":"--outputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","paramname":"outputdir","discretion":"required","inputParams":"referencedir,outputdir,inputdir","format":""},{"project":"Project1","category":"subdirs","workflow":"Workflow1","argument":"--subdirs","paramFunction":"","paramname":"subdirs","discretion":"optional","inputParams":"","format":"","workflownumber":1,"ordinal":0,"chained":0,"valuetype":"flag","value":"","owner":"aguatest","paramtype":"input","locked":0,"paramnumber":"3","appnumber":"3","description":"","username":"testuser","appname":"elandIndex","args":"input.subdirs.value"}]
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStartStop	1749	# stages: 3
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->start: 1
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStartStop	1755	self->stop: undef
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStartStop	1760	start: 1
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStartStop	1761	stop: 4
2018-08-03 02:52:15        [NOTE]   	Engine::Workflow::setStartStop	1782	6335 Setting start: 1
2018-08-03 02:52:15        [NOTE]   	Engine::Workflow::setStartStop	1783	6335 Setting stop: 4
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1397	start: 1
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1398	stop: 4
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1402	fileroot: /home/testuser/agua
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setFileDirs	1536	fileroot: /home/testuser/agua
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setFileDirs	1537	project: Project1
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setFileDirs	1538	workflow: Workflow1
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setFileDirs	1542	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1406	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1422	BEFORE monitor = self->updateMonitor()
2018-08-03 02:52:15        [CALLER]   	Engine::Workflow::updateMonitor	2059	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1426	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:52:15        [DEBUG]   	Engine::Workflow::setStages	1504	final no. stageobjects: 3
2018-08-03 02:52:15        [GROUPEND]    	Engine::Workflow::setStages	1506	Engine::Workflow::setStages
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::runLocally	816	# stages: 3
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::runLocally	819	BEFORE runStages()

2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::runStages	1260	no. stages: 3
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::runStages	1269	worker: 0
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::runStages	1272	stagecounter: 0
2018-08-03 02:52:15    [NOTE]   	Util::Timer::getMysqlTime	136	
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::initialiseRunTimes	1009	mysqltime: 2018-08-03 02:52:15
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setStatus	1052	6335 status: running
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setStatus	1071	UPDATE stage
SET
status = 'running',
completed=''
WHERE username = 'testuser'
AND project = 'Project1'
AND workflow = 'Workflow1'
AND number = '1'
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::run	185	dryrun: undef
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::run	193	6335 submit: 0
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::run	194	6335 cluster: undef
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::run	204	6335 Doing self->runLocally()
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setSystemCall	341	6335 fileroot: /home/testuser/agua
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	733	stageparameters: [{"workflownumber":1,"value":"","chained":0,"ordinal":0,"valuetype":"string","workflow":"Workflow1","category":"filter","project":"Project1","inputParams":"","format":"","argument":"--filter","discretion":"optional","paramFunction":"","paramname":"filter","description":"Download only files containing this text fragment","appname":"FTP","username":"testuser","appnumber":"1","args":"","paramtype":"input","owner":"aguatest","paramnumber":"1","locked":0},{"workflow":"Workflow1","category":"outputdir","project":"Project1","format":"","inputParams":"","paramFunction":"","discretion":"required","paramname":"outputdir","argument":"--outputdir","workflownumber":1,"value":"Project1/Workflow1/downloads","valuetype":"directory","chained":0,"ordinal":0,"paramtype":"input","owner":"aguatest","paramnumber":"2","locked":0,"username":"testuser","appname":"FTP","description":"Create this directory and download files to it","appnumber":"1","args":""},{"args":"","appnumber":"1","appname":"FTP","username":"testuser","description":"Download files matching this regular expression","locked":0,"paramnumber":"3","owner":"aguatest","paramtype":"input","ordinal":0,"chained":0,"valuetype":"string","value":"chr[XYM0-9]+.fa.gz","workflownumber":1,"paramFunction":"","paramname":"regex","discretion":"optional","argument":"--regex","format":"","inputParams":"","project":"Project1","category":"regex","workflow":"Workflow1"},{"paramtype":"input","owner":"aguatest","paramnumber":"4","locked":0,"description":"Type of page: html or text","username":"testuser","appname":"FTP","appnumber":"1","args":"","category":"type","workflow":"Workflow1","project":"Project1","inputParams":"","format":"","argument":"--type","paramFunction":"","discretion":"essential","paramname":"type","workflownumber":1,"value":"html","chained":0,"valuetype":"string","ordinal":0},{"inputParams":"","format":"","argument":"--url","paramname":"url","paramFunction":"","discretion":"required","workflow":"Workflow1","category":"url","project":"Project1","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","valuetype":"string","chained":0,"ordinal":0,"workflownumber":1,"paramnumber":"5","locked":0,"paramtype":"input","owner":"aguatest","args":"","description":"Download files linked on this page","username":"testuser","appname":"FTP","appnumber":"1"}]
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	734	no. stageparameters: 5
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	745	username: testuser
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	746	cluster: undef
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	747	fileroot: /home/testuser/agua
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	748	version: 0.6.0
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setArguments	767	samplehash: {}
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	789	paramname: filter
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	790	argument: --filter
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	791	value: 
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	792	valuetype: string
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	793	discretion: optional
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	810	Skipping empty argument: --filter
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setArguments	767	samplehash: {}
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	789	paramname: outputdir
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	790	argument: --outputdir
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	791	value: Project1/Workflow1/downloads
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	792	valuetype: directory
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	793	discretion: required
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	816	BEFORE value: Project1/Workflow1/downloads
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	822	Adding fileroot to directory: Project1/Workflow1/downloads
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	860	AFTER value: /home/testuser/agua/Project1/Workflow1/downloads
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	861	current arguments: ["--outputdir","/home/testuser/agua/Project1/Workflow1/downloads"]
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setArguments	767	samplehash: {}
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	789	paramname: regex
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	790	argument: --regex
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	791	value: chr[XYM0-9]+.fa.gz
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	792	valuetype: string
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	793	discretion: optional
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	816	BEFORE value: chr[XYM0-9]+.fa.gz
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	860	AFTER value: chr[XYM0-9]+.fa.gz
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	861	current arguments: ["--outputdir","/home/testuser/agua/Project1/Workflow1/downloads","--regex","chr[XYM0-9]+.fa.gz"]
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setArguments	767	samplehash: {}
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	789	paramname: type
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	790	argument: --type
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	791	value: html
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	792	valuetype: string
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	793	discretion: essential
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	816	BEFORE value: html
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	860	AFTER value: html
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	861	current arguments: ["--outputdir","/home/testuser/agua/Project1/Workflow1/downloads","--regex","chr[XYM0-9]+.fa.gz","--type","html"]
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setArguments	767	samplehash: {}
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	789	paramname: url
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	790	argument: --url
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	791	value: http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	792	valuetype: string
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	793	discretion: required
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	816	BEFORE value: http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	860	AFTER value: http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	861	current arguments: ["--outputdir","/home/testuser/agua/Project1/Workflow1/downloads","--regex","chr[XYM0-9]+.fa.gz","--type","html","--url","http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes"]
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setArguments	879	arguments: ["--outputdir","/h2018-08-03 02:52:15    [NOTE]   	Util::Timer::getMysqlTime	139	6335 time: Fri Aug  3 02:52:15 EDT 2018

2018-08-03 02:52:15    [NOTE]   	Util::Timer::datetimeToMysql	149	
2018-08-03 02:52:15    [NOTE]   	Util::Timer::datetimeToMysql	170	timezone: EDT
2018-08-03 02:52:15    [NOTE]   	Util::Timer::datetimeToMysql	171	month: Aug
2018-08-03 02:52:15    [NOTE]   	Util::Timer::datetimeToMysql	173	month number: 08
2018-08-03 02:52:15    [NOTE]   	Util::Timer::datetimeToMysql	178	mysqldatetime: 2018-08-03 02:52:15
2018-08-03 02:52:15    [NOTE]   	Util::Timer::getMysqlTime	142	6335 mysqltime: 2018-08-03 02:52:15
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::runStages	1290	mysqltime: 2018-08-03 02:52:15
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatus	2267	now: datetime()
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatus	2270	datetime: 2018-08-03 06:52:15
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatus	2283	# stages: 3
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatus	2284	stages: [{"stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stderr","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/1-FTP.stdout","cluster":"","stagepid":7860,"package":"bioapps","successor":"","executor":"/usr/bin/perl","installdir":"/agua/bioapps","name":"FTP","owner":"aguatest","sample":"","envarfile":"","description":"","submit":0,"number":1,"username":"testuser","workflowpid":0,"ancestor":"","completed":"","started":"2018-08-03 02:52:15","type":"utility","version":"0.6.0","workflow":"Workflow1","status":"running","project":"Project1","notes":"","location":"bin/utils/FTP.pl","queued":"2018-08-03 02:52:15","now":"2018-08-03 06:52:15","workflownumber":1,"stagejobid":0},{"now":"2018-08-03 06:52:15","queued":"0000-00-00 00:00:00","location":"bin/utils/unzipFiles.pl","stagejobid":0,"workflownumber":1,"started":"2012-02-27 03:39:00","type":"utility","version":"0.6.0","completed":"2012-02-27 03:39:27","notes":"","status":"","project":"Project1","workflow":"Workflow1","sample":"","ancestor":"","workflowpid":0,"username":"testuser","envarfile":"","description":"","submit":0,"number":2,"executor":"/usr/bin/perl","stagepid":8997,"package":"bioapps","successor":"","cluster":"","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","owner":"aguatest","name":"unzipFiles","installdir":"/agua/bioapps"},{"completed":"0000-00-00 00:00:00","started":"0000-00-00 00:00:00","type":"converter","version":"0.6.0","status":"","project":"Project1","notes":undef,"workflow":"Workflow1","now":"2018-08-03 06:52:15","queued":"0000-00-00 00:00:00","location":"bin/converters/elandIndex.pl","stagejobid":0,"workflownumber":1,"stagepid":0,"successor":"","package":"bioapps","executor":"/usr/bin/perl","stderrfile":"","cluster":"","stdoutfile":"","owner":"aguatest","installdir":"/agua/bioapps","name":"elandIndex","sample":"","ancestor":"","number":3,"description":"","submit":0,"envarfile":"","workflowpid":0,"username":"testuser"}]
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatus	2294	cluster: testuser-testcluster
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatusCluster	2320	
2018-08-03 02:52:15    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:52:15    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:52:15    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:52:15    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatusCluster	2324	clusterworkflow: {}
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2411	workflow: Workflow1
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2414	object: {"status":"","project":"Project1","notes":"","name":"Workflow1","provenance":undef,"description":"","number":1,"username":"testuser"}
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatusCluster	2326	workflowstatus: 
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::runStages	1314	DOING notifyStatus(data)
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::runStages	1319	Running stage 1: FTP
ome/testuser/agua/Project1/Workflow1/downloads","--regex","chr[XYM0-9]+.fa.gz","--type","html","--url","http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes"]
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setSystemCall	345	arguments: ["--outputdir","/home/testuser/agua/Project1/Workflow1/downloads","--regex","chr[XYM0-9]+.fa.gz","--type","html","--url","http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes"]
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setSystemCall	368	exports:  export STAGENUMBER=1;
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setSystemCall	370	envarfile: 
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setSystemCall	375	FINAL exports:  export STAGENUMBER=1;
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setSystemCall	379	executor: /usr/bin/perl
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setSystemCall	383	6335 application: /agua/bioapps/bin/utils/FTP.pl
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::runLocally	255	redirection: 0
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::runLocally	273	stdoutfile: /home/testuser/agua/Project1/Workflow1/stdout/1-FTP.stdout
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::runLocally	275	outputdir: /home/testuser/agua/Project1/Workflow1
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::runLocally	276	label: 1-FTP
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::runLocally	281	scriptfile: /home/testuser/agua/Project1/Workflow1/script/1-FTP.sh
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::printScriptFile	681	scriptfile: /home/testuser/agua/Project1/Workflow1/script/1-FTP.sh
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::printScriptFile	714	contents: #!/bin/bash

echo "-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*"
echo USERNAME: 	     	$USERNAME
echo PROJECT:  	       	$PROJECT
echo WORKFLOW: 	       	$WORKFLOW
echo QUEUE:    	       	$QUEUE
echo "-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*"

hostname -f
date

# OPEN LOCKFILE
date > /home/testuser/agua/Project1/Workflow1/stdout/1-FTP.lock

export PERL5LIB=/a/extlib/lib/perl5; \
 export STAGENUMBER=1; \
/usr/bin/time \
-o /home/testuser/agua/Project1/Workflow1/stdout/1-FTP.usage \
-f "%Uuser %Ssystem %Eelapsed %PCPU (%Xtext+%Ddata %Mmax)k" \
/usr/bin/perl \
/agua/bioapps/bin/utils/FTP.pl \
--outputdir \
/home/testuser/agua/Project1/Workflow1/downloads \
--regex \
chr[XYM0-9]+.fa.gz \
--type \
html \
--url \
http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes \
 \
1> /home/testuser/agua/Project1/Workflow1/stdout/1-FTP.stdout \
 \
2> /home/testuser/agua/Project1/Workflow1/stdout/1-FTP.stderr

#### REMOVE LOCKFILE
echo $? > /home/testuser/agua/Project1/Workflow1/stdout/1-FTP.exit

# REMOVE LOCKFILE
unlink /home/testuser/agua/Project1/Workflow1/stdout/1-FTP.lock;

exit 0;


2018-08-03 02:52:15    [NOTE]   	Engine::Stage::printScriptFile	720	scriptfile printed: /home/testuser/agua/Project1/Workflow1/script/1-FTP.sh
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::runLocally	294	PID 6335 BEFORE SUBMIT command
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::runStages	1321	Stage 1-FTP exitcode: 2
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatus	2267	now: datetime()
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatus	2270	datetime: 2018-08-03 06:52:15
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatus	2283	# stages: 3
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatus	2284	stages: [{"ancestor":"","workflowpid":0,"username":"testuser","description":"","submit":0,"number":1,"envarfile":"","sample":"","owner":"aguatest","name":"FTP","installdir":"/agua/bioapps","executor":"/usr/bin/perl","successor":"","stagepid":7860,"package":"bioapps","stdoutfile":"/home/testuser/agua/Project1/Workflow1/stdout/1-FTP.stdout","cluster":"","stderrfile":"/home/testuser/agua/Project1/Workflow1/stdout/1-FTP.stderr","stagejobid":0,"workflownumber":1,"queued":"2018-08-03 06:52:15","now":"2018-08-03 06:52:15","location":"bin/utils/FTP.pl","notes":"","status":"error","project":"Project1","workflow":"Workflow1","started":"2018-08-03 06:52:15","version":"0.6.0","type":"utility","completed":"2018-08-03 06:52:15"},{"location":"bin/utils/unzipFiles.pl","now":"2018-08-03 06:52:15","queued":"0000-00-00 00:00:00","workflownumber":1,"stagejobid":0,"started":"2012-02-27 03:39:00","version":"0.6.0","type":"utility","completed":"2012-02-27 03:39:27","workflow":"Workflow1","notes":"","status":"","project":"Project1","sample":"","username":"testuser","workflowpid":0,"description":"","envarfile":"","submit":0,"number":2,"ancestor":"","stdoutfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stdout","cluster":"","stderrfile":"/nethome/admin/agua/Project1/Workflow1/stdout/2-unzipFiles.stderr","executor":"/usr/bin/perl","stagepid":8997,"package":"bioapps","successor":"","name":"unzipFiles","installdir":"/agua/bioapps","owner":"aguatest"},{"version":"0.6.0","started":"0000-00-00 00:00:00","type":"converter","completed":"0000-00-00 00:00:00","notes":undef,"status":"","project":"Project1","workflow":"Workflow1","now":"2018-08-03 06:52:15","queued":"0000-00-00 00:00:00","location":"bin/converters/elandIndex.pl","stagejobid":0,"workflownumber":1,"executor":"/usr/bin/perl","stagepid":0,"successor":"","package":"bioapps","stdoutfile":"","cluster":"","stderrfile":"","owner":"aguatest","name":"elandIndex","installdir":"/agua/bioapps","sample":"","ancestor":"","username":"testuser","workflowpid":0,"number":3,"description":"","submit":0,"envarfile":""}]
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatus	2294	cluster: testuser-testcluster
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatusCluster	2320	
2018-08-03 02:52:15    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	468	username: testuser
2018-08-03 02:52:15    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	469	project: testuser-testcluster
2018-08-03 02:52:15    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	470	workflow: Project1
2018-08-03 02:52:15    [DEBUG]   	Web::Cloud::Cluster::getClusterWorkflow	477	SELECT * FROM clusterworkflow
WHERE username='testuser'
AND project='testuser-testcluster'
AND workflow='Project1'
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatusCluster	2324	clusterworkflow: {}
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2411	workflow: Workflow1
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::getWorkflowStatus	2414	object: {"name":"Workflow1","notes":"","project":"Project1","status":"","username":"testuser","description":"","number":1,"provenance":undef}
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::_getStatusCluster	2326	workflowstatus: 
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::runStages	1353	Exiting runStages
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::runLocally	821	AFTER runStages    success: 0

2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: error
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"name":"Workflow1","username":"testuser","project":"Project1","status":"error","cluster":undef}
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"name":"Workflow1","username":"testuser","project":"Project1","status":"error","cluster":undef}
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"logtype":"cli","oldprintlog":2,"sqlite":"","log":2,"password":"","dbh":bless( {}, "DBI::db" ),"printlog":2,"indent":4,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","backup":0,"user":"","database":"agua","oldlog":2,"dbfile":"/a/db/sqlite/agua.sqlite","dbtype":"sqlite"}, "DBase::SQLite" )
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2580	success: 1
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 0
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	status: error
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::setWorkflowStatus	667	data: {"project":"Project1","samplehash":undef,"workflow":"Workflow1","start":1,"username":"testuser","workflownumber":1}
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::setWorkflowStatus	675	UPDATE workflow
SET status = 'error'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
AND number = 1
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	652	uuid: undef
2018-08-03 02:52:15    [DEBUG]   	Engine::Workflow::executeWorkflow	654	addQueueSample success: 0
2018-08-03 02:52:15    [GROUPEND]    	Engine::Workflow::executeWorkflow	662	6335 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 02:52:15  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	statuses: []
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::runLocally	296	PID 6335 AFTER SUBMIT command
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::runLocally	303	PID 6335 Finished wait for command to complete
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::runLocally	309	PID 6335 exitcode: 2
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setStatus	1052	6335 status: error
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setStatus	1071	UPDATE stage
SET
status = 'error',
completed=datetime()
WHERE username = 'testuser'
AND project = 'Project1'
AND workflow = 'Workflow1'
AND number = '1'
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::runLocally	319	FIRST exitcode: 2
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::run	206	6335 self->runLocally stage run exitcode (0 means OK): 2
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::registerRunInfo	900	6335 Engine::Stage::registerRunInfo()
2018-08-03 02:52:15    [DEBUG]   	Engine::Stage::setStatus	1052	6335 status: error
2018-08-03 02:52:15    [NOTE]   	Engine::Stage::setStatus	1071	UPDATE stage
SET
status = 'error',
completed=datetime()
WHERE username = 'testuser'
AND project = 'Project1'
AND workflow = 'Workflow1'
AND number = '1'
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"oldlog":2,"indent":4,"memorystore":undef,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","valueoffset":24,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":2,"printlog":2,"yaml":bless( [], "YAML::Tiny" ),"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"memory":1,"logtype":"cli","oldprintlog":2}, "Conf::Yaml" ),"printlog":5}
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	349	DOING executeWorkflow()
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"project":"Project1","name":"Workflow1","cluster":undef,"status":"running","username":"testuser"}
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"project":"Project1","name":"Workflow1","cluster":undef,"status":"running","username":"testuser"}
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"backup":0,"printlog":2,"log":2,"oldprintlog":2,"logtype":"cli","dbh":bless( {}, "DBI::db" ),"indent":4,"sqlite":"","user":"","database":"agua","oldlog":2,"dbfile":"/a/db/sqlite/agua.sqlite","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbtype":"sqlite","password":""}, "DBase::SQLite" )
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2580	success: 1
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:54:03        [GROUP]    	Engine::Workflow::setStages	1368	Engine::Workflow::setStages
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1369	username: testuser
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1370	cluster: undef
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1371	project: Project1
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1372	workflow: Workflow1
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1373	scheduler: local
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1380	slots: undef
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1387	force: undef
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::checkPrevious	1706	start: 0
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1389	previouscompleted: 1
2018-08-03 02:54:03        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"valuetype":"string","username":"testuser","format":"","discretion":"optional","appnumber":"1","argument":"--filter","paramFunction":"","workflow":"Workflow1","args":"","value":"","chained":0,"inputParams":"","locked":0,"paramnumber":"1","ordinal":0,"project":"Project1","paramtype":"input","category":"filter","workflownumber":1,"description":"Download only files containing this text fragment","paramname":"filter","appname":"FTP","owner":"aguatest"},{"description":"Create this directory and download files to it","paramname":"outputdir","owner":"aguatest","appname":"FTP","paramtype":"input","category":"outputdir","workflownumber":1,"ordinal":0,"project":"Project1","paramnumber":"2","chained":0,"inputParams":"","locked":0,"value":"Project1/Workflow1/downloads","args":"","paramFunction":"","workflow":"Workflow1","argument":"--outputdir","appnumber":"1","discretion":"required","format":"","username":"testuser","valuetype":"directory"},{"argument":"--regex","appnumber":"1","value":"chr[XYM0-9]+.fa.gz","args":"","paramFunction":"","workflow":"Workflow1","username":"testuser","valuetype":"string","discretion":"optional","format":"","category":"regex","workflownumber":1,"paramtype":"input","description":"Download files matching this regular expression","appname":"FTP","paramname":"regex","owner":"aguatest","chained":0,"inputParams":"","locked":0,"ordinal":0,"project":"Project1","paramnumber":"3"},{"owner":"aguatest","paramname":"type","appname":"FTP","description":"Type of page: html or text","workflownumber":1,"category":"type","paramtype":"input","paramnumber":"4","project":"Project1","ordinal":0,"inputParams":"","locked":0,"chained":0,"workflow":"Workflow1","paramFunction":"","args":"","value":"html","appnumber":"1","argument":"--type","format":"","discretion":"essential","valuetype":"string","username":"testuser"},{"inputParams":"","locked":0,"chained":0,"paramnumber":"5","project":"Project1","ordinal":0,"category":"url","workflownumber":1,"paramtype":"input","paramname":"url","owner":"aguatest","appname":"FTP","description":"Download files linked on this page","valuetype":"string","username":"testuser","format":"","discretion":"required","argument":"--url","appnumber":"1","workflow":"Workflow1","paramFunction":"","args":"","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes"}]
2018-08-03 02:54:03        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"username":"testuser","valuetype":"flag","discretion":"optional","format":"","appnumber":"2","argument":"--delete","value":"1","args":"","workflow":"Workflow1","paramFunction":"","locked":0,"inputParams":"","chained":0,"project":"Project1","ordinal":0,"paramnumber":"1","category":"delete","workflownumber":1,"paramtype":"input","owner":"aguatest","paramname":"delete","appname":"unzipFiles","description":" Remove zipped files after unzipping"},{"valuetype":"string","username":"testuser","format":"","discretion":"optional","appnumber":"2","argument":"--filter","paramFunction":"","workflow":"Workflow1","value":"","args":"","chained":0,"locked":0,"inputParams":"","paramnumber":"2","ordinal":0,"project":"Project1","category":"filter","paramtype":"input","workflownumber":1,"description":"Unzip only files containing this text fragment","paramname":"filter","owner":"aguatest","appname":"unzipFiles"},{"paramnumber":"3","project":"Project1","ordinal":0,"inputParams":"InputParams","locked":0,"chained":0,"paramname":"inputdir","appname":"unzipFiles","owner":"aguatest","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","paramtype":"input","category":"inputdir","workflownumber":1,"format":"","discretion":"essential","valuetype":"directory","username":"testuser","workflow":"Workflow1","paramFunction":"","value":"Project1/Workflow1/downloads","args":"input.outputdir.value","argument":"--inputdir","appnumber":"2"},{"appname":"unzipFiles","paramname":"outputdir","owner":"aguatest","description":"Unzip files to this directory","workflownumber":1,"category":"outputdir","paramtype":"input","paramnumber":"4","project":"Project1","ordinal":0,"locked":0,"inputParams":"InputParams","chained":0,"workflow":"Workflow1","paramFunction":"","value":"Project1/Workflow1/downloads","args":"input.outputdir.value","argument":"--outputdir","appnumber":"2","format":"","discretion":"required","valuetype":"directory","username":"testuser"},{"inputParams":"","locked":0,"chained":1,"paramnumber":"5","project":"Project1","ordinal":0,"category":"filter","paramtype":"input","workflownumber":1,"paramname":"regex","appname":"unzipFiles","owner":"aguatest","description":"Unzip only files matching this regular expression","valuetype":"string","username":"testuser","format":"","discretion":"optional","argument":"--regex","appnumber":"2","workflow":"Workflow1","paramFunction":"","args":"input.regex.value","value":"chr[XYM0-9]+.fa.gz"},{"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","paramname":"type","appname":"unzipFiles","owner":"aguatest","category":"type","workflownumber":1,"paramtype":"input","paramnumber":"6","ordinal":0,"project":"Project1","chained":0,"locked":0,"inputParams":"","paramFunction":"","workflow":"Workflow1","value":"gunzip","args":"","appnumber":"2","argument":"--type","format":"","discretion":"required","valuetype":"string","username":"testuser"}]
2018-08-03 02:54:03        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"description":"Location of directory containing *.fa files","paramname":"inputdir","appname":"elandIndex","owner":"aguatest","category":"inputdir","workflownumber":1,"paramtype":"input","ordinal":0,"project":"Project1","paramnumber":"1","chained":0,"locked":0,"inputParams":"referencedir,outputdir,inputdir","value":"Project1/Workflow1/reference/fasta","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","workflow":"Workflow1","argument":"--inputdir","appnumber":"3","discretion":"essential","format":"","username":"testuser","valuetype":"directory"},{"valuetype":"directory","username":"testuser","format":"","discretion":"required","appnumber":"3","argument":"--outputdir","workflow":"Workflow1","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","value":"Project1/Workflow1/reference/eland","inputParams":"referencedir,outputdir,inputdir","locked":0,"chained":0,"paramnumber":"2","project":"Project1","ordinal":0,"workflownumber":1,"category":"outputdir","paramtype":"input","paramname":"outputdir","owner":"aguatest","appname":"elandIndex","description":"Print indexed files to this directory"},{"username":"testuser","valuetype":"flag","discretion":"optional","format":"","argument":"--subdirs","appnumber":"3","value":"","args":"input.subdirs.value","paramFunction":"","workflow":"Workflow1","chained":0,"inputParams":"","locked":0,"ordinal":0,"project":"Project1","paramnumber":"3","category":"subdirs","paramtype":"input","workflownumber":1,"description":"","appname":"elandIndex","paramname":"subdirs","owner":"aguatest"}]
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStartStop	1749	# stages: 3
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->start: 1
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStartStop	1755	self->stop: undef
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStartStop	1760	start: 1
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStartStop	1761	stop: 4
2018-08-03 02:54:03        [NOTE]   	Engine::Workflow::setStartStop	1782	6367 Setting start: 1
2018-08-03 02:54:03        [NOTE]   	Engine::Workflow::setStartStop	1783	6367 Setting stop: 4
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1397	start: 1
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1398	stop: 4
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1402	fileroot: /home/testuser/agua
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setFileDirs	1536	fileroot: /home/testuser/agua
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setFileDirs	1537	project: Project1
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setFileDirs	1538	workflow: Workflow1
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setFileDirs	1542	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1406	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1422	BEFORE monitor = self->updateMonitor()
2018-08-03 02:54:03        [CALLER]   	Engine::Workflow::updateMonitor	2059	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1426	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:54:03        [DEBUG]   	Engine::Workflow::setStages	1504	final no. stageobjects: 3
2018-08-03 02:54:03        [GROUPEND]    	Engine::Workflow::setStages	1506	Engine::Workflow::setStages
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::runLocally	816	# stages: 3
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::runLocally	819	BEFORE runStages()

2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::runLocally	821	AFTER runStages    success: 2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages


2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: completed
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"name":"Workflow1","cluster":undef,"project":"Project1","status":"completed","username":"testuser"}
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"name":"Workflow1","cluster":undef,"project":"Project1","status":"completed","username":"testuser"}
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"backup":0,"printlog":2,"log":2,"oldprintlog":2,"logtype":"cli","dbh":bless( {}, "DBI::db" ),"indent":4,"sqlite":"","user":"","database":"agua","oldlog":2,"dbfile":"/a/db/sqlite/agua.sqlite","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbtype":"sqlite","password":""}, "DBase::SQLite" )
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2580	success: 1
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	status: completed
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::setWorkflowStatus	667	data: {"username":"testuser","workflownumber":1,"workflow":"Workflow1","samplehash":undef,"start":1,"project":"Project1"}
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::setWorkflowStatus	675	UPDATE workflow
SET status = 'completed'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
AND number = 1
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	652	uuid: undef
2018-08-03 02:54:03    [DEBUG]   	Engine::Workflow::executeWorkflow	654	addQueueSample success: 2018-08-03 02:54:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:54:03    [GROUPEND]    	Engine::Workflow::executeWorkflow	662	6367 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 02:54:03  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	statuses: []
2018-08-03 02:54:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"valueoffset":24,"oldlog":2,"memory":1,"printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"yaml":bless( [], "YAML::Tiny" ),"indent":4,"backup":1,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","memorystore":undef,"log":2}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 02:54:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:54:58    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:54:58    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:54:58    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:54:58    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:54:58    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	261	self->table()->db(): bless( {"dbfile":"/a/db/sqlite/agua.sqlite","database":"agua","oldlog":2,"dbh":bless( {}, "DBI::db" ),"printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"user":"","indent":4,"dbtype":"sqlite","backup":0,"password":"","logtype":"cli","sqlite":"","log":2}, "DBase::SQLite" )
2018-08-03 02:58:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"log":2,"oldprintlog":2,"backup":1,"oldlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","yaml":bless( [], "YAML::Tiny" ),"logtype":"cli","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","valueoffset":24,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"memorystore":undef,"memory":1,"indent":4}, "Conf::Yaml" )}
2018-08-03 02:58:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbh
2018-08-03 02:58:56    [DEBUG]   	Engine::Workflow::setDbObject	261	database: agua
2018-08-03 02:58:56    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 02:58:56    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 02:58:56    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/agua.sqlite
2018-08-03 02:58:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	279	username: testuser
2018-08-03 02:58:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	281	project: Project1
2018-08-03 02:58:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	282	workflow: Workflow1
2018-08-03 02:58:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	283	workflownumber: 1
2018-08-03 02:58:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	284	start: 1
2018-08-03 02:58:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	submit: 1
2018-08-03 02:58:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	293	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 02:58:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stageparameter.tsv
2018-08-03 02:58:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stageparameter
2018-08-03 02:58:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: sessions.tsv
2018-08-03 02:58:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: sessions
2018-08-03 02:58:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: stage.tsv
2018-08-03 02:58:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: stage
2018-08-03 02:58:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	295	file: workflow.tsv
2018-08-03 02:58:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	297	table: workflow
2018-08-03 02:58:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	349	DOING executeWorkflow()
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"status":"running","name":"Workflow1","cluster":undef,"project":"Project1","username":"testuser"}
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"status":"running","name":"Workflow1","cluster":undef,"project":"Project1","username":"testuser"}
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"log":2,"oldprintlog":2,"backup":0,"dbtype":"sqlite","oldlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbfile":"/a/db/sqlite/agua.sqlite","logtype":"cli","dbh":bless( {}, "DBI::db" ),"printlog":2,"database":"agua","sqlite":"","user":"","indent":4,"password":""}, "DBase::SQLite" )
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2580	success: 1
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 02:58:57        [GROUP]    	Engine::Workflow::setStages	1368	Engine::Workflow::setStages
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1369	username: testuser
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1370	cluster: undef
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1371	project: Project1
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1372	workflow: Workflow1
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1373	scheduler: local
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1380	slots: undef
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1387	force: undef
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::checkPrevious	1706	start: 0
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1389	previouscompleted: 1
2018-08-03 02:58:57        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"inputParams":"","argument":"--filter","valuetype":"string","value":"","paramnumber":"1","args":"","paramname":"filter","owner":"aguatest","paramFunction":"","appname":"FTP","paramtype":"input","chained":0,"description":"Download only files containing this text fragment","workflow":"Workflow1","project":"Project1","format":"","workflownumber":1,"appnumber":"1","locked":0,"category":"filter","username":"testuser","ordinal":0,"discretion":"optional"},{"inputParams":"","argument":"--outputdir","valuetype":"directory","value":"Project1/Workflow1/downloads","paramnumber":"2","args":"","paramname":"outputdir","owner":"aguatest","paramFunction":"","paramtype":"input","appname":"FTP","chained":0,"description":"Create this directory and download files to it","workflow":"Workflow1","project":"Project1","format":"","workflownumber":1,"appnumber":"1","locked":0,"category":"outputdir","username":"testuser","discretion":"required","ordinal":0},{"workflow":"Workflow1","project":"Project1","format":"","workflownumber":1,"appnumber":"1","locked":0,"username":"testuser","category":"regex","ordinal":0,"discretion":"optional","inputParams":"","argument":"--regex","valuetype":"string","value":"chr[XYM0-9]+.fa.gz","args":"","paramnumber":"3","paramname":"regex","owner":"aguatest","paramFunction":"","appname":"FTP","paramtype":"input","chained":0,"description":"Download files matching this regular expression"},{"chained":0,"paramtype":"input","appname":"FTP","description":"Type of page: html or text","owner":"aguatest","paramname":"type","paramFunction":"","value":"html","valuetype":"string","args":"","paramnumber":"4","argument":"--type","inputParams":"","ordinal":0,"discretion":"essential","category":"type","username":"testuser","locked":0,"appnumber":"1","project":"Project1","workflownumber":1,"format":"","workflow":"Workflow1"},{"argument":"--url","inputParams":"","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","valuetype":"string","args":"","paramnumber":"5","owner":"aguatest","paramname":"url","paramFunction":"","chained":0,"paramtype":"input","appname":"FTP","description":"Download files linked on this page","workflow":"Workflow1","project":"Project1","workflownumber":1,"format":"","locked":0,"appnumber":"1","ordinal":0,"discretion":"required","category":"url","username":"testuser"}]
2018-08-03 02:58:57        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"project":"Project1","workflownumber":1,"format":"","workflow":"Workflow1","ordinal":0,"discretion":"optional","category":"delete","username":"testuser","locked":0,"appnumber":"2","value":"1","valuetype":"flag","paramnumber":"1","args":"","argument":"--delete","inputParams":"","chained":0,"paramtype":"input","appname":"unzipFiles","description":" Remove zipped files after unzipping","owner":"aguatest","paramname":"delete","paramFunction":""},{"workflow":"Workflow1","project":"Project1","format":"","workflownumber":1,"appnumber":"2","locked":0,"username":"testuser","category":"filter","ordinal":0,"discretion":"optional","inputParams":"","argument":"--filter","valuetype":"string","value":"","args":"","paramnumber":"2","paramname":"filter","owner":"aguatest","paramFunction":"","appname":"unzipFiles","paramtype":"input","chained":0,"description":"Unzip only files containing this text fragment"},{"valuetype":"directory","value":"Project1/Workflow1/downloads","args":"input.outputdir.value","paramnumber":"3","inputParams":"InputParams","argument":"--inputdir","paramtype":"input","appname":"unzipFiles","chained":0,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","paramname":"inputdir","owner":"aguatest","paramFunction":"","project":"Project1","format":"","workflownumber":1,"workflow":"Workflow1","username":"testuser","category":"inputdir","ordinal":0,"discretion":"essential","appnumber":"2","locked":0},{"argument":"--outputdir","inputParams":"InputParams","value":"Project1/Workflow1/downloads","valuetype":"directory","args":"input.outputdir.value","paramnumber":"4","owner":"aguatest","paramname":"outputdir","paramFunction":"","chained":0,"paramtype":"input","appname":"unzipFiles","description":"Unzip files to this directory","workflow":"Workflow1","project":"Project1","workflownumber":1,"format":"","locked":0,"appnumber":"2","discretion":"required","ordinal":0,"username":"testuser","category":"outputdir"},{"workflow":"Workflow1","workflownumber":1,"format":"","project":"Project1","locked":0,"appnumber":"2","ordinal":0,"discretion":"optional","category":"filter","username":"testuser","argument":"--regex","inputParams":"","paramnumber":"5","args":"input.regex.value","value":"chr[XYM0-9]+.fa.gz","valuetype":"string","paramFunction":"","owner":"aguatest","paramname":"regex","description":"Unzip only files matching this regular expression","chained":1,"paramtype":"input","appname":"unzipFiles"},{"username":"testuser","category":"type","discretion":"required","ordinal":0,"appnumber":"2","locked":0,"format":"","workflownumber":1,"project":"Project1","workflow":"Workflow1","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","paramtype":"input","appname":"unzipFiles","chained":0,"paramFunction":"","paramname":"type","owner":"aguatest","paramnumber":"6","args":"","valuetype":"string","value":"gunzip","inputParams":"","argument":"--type"}]
2018-08-03 02:58:57        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"chained":0,"paramtype":"input","appname":"elandIndex","description":"Location of directory containing *.fa files","owner":"aguatest","paramname":"inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","value":"Project1/Workflow1/reference/fasta","valuetype":"directory","paramnumber":"1","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","argument":"--inputdir","inputParams":"referencedir,outputdir,inputdir","discretion":"essential","ordinal":0,"username":"testuser","category":"inputdir","locked":0,"appnumber":"3","project":"Project1","workflownumber":1,"format":"","workflow":"Workflow1"},{"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramnumber":"2","value":"Project1/Workflow1/reference/eland","valuetype":"directory","argument":"--outputdir","inputParams":"referencedir,outputdir,inputdir","description":"Print indexed files to this directory","chained":0,"paramtype":"input","appname":"elandIndex","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","owner":"aguatest","paramname":"outputdir","workflownumber":1,"format":"","project":"Project1","workflow":"Workflow1","discretion":"required","ordinal":0,"category":"outputdir","username":"testuser","locked":0,"appnumber":"3"},{"owner":"aguatest","paramname":"subdirs","paramFunction":"","chained":0,"paramtype":"input","appname":"elandIndex","description":"","argument":"--subdirs","inputParams":"","value":"","valuetype":"flag","paramnumber":"3","args":"input.subdirs.value","locked":0,"appnumber":"3","ordinal":0,"discretion":"optional","category":"subdirs","username":"testuser","workflow":"Workflow1","project":"Project1","workflownumber":1,"format":""}]
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStartStop	1749	# stages: 3
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->start: 1
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStartStop	1755	self->stop: undef
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStartStop	1760	start: 1
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStartStop	1761	stop: 4
2018-08-03 02:58:57        [NOTE]   	Engine::Workflow::setStartStop	1782	6405 Setting start: 1
2018-08-03 02:58:57        [NOTE]   	Engine::Workflow::setStartStop	1783	6405 Setting stop: 4
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1397	start: 1
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1398	stop: 4
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1402	fileroot: /home/testuser/agua
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setFileDirs	1536	fileroot: /home/testuser/agua
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setFileDirs	1537	project: Project1
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setFileDirs	1538	workflow: Workflow1
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setFileDirs	1542	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1406	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1422	BEFORE monitor = self->updateMonitor()
2018-08-03 02:58:57        [CALLER]   	Engine::Workflow::updateMonitor	2059	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1426	AFTER XXX monitor = self->updateMonitor()
2018-08-03 02:58:57        [DEBUG]   	Engine::Workflow::setStages	1504	final no. stageobjects: 3
2018-08-03 02:58:57        [GROUPEND]    	Engine::Workflow::setStages	1506	Engine::Workflow::setStages
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::runLocally	816	# stages: 3
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::runLocally	819	BEFORE runStages()

2018-08-03 02:58:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::runLocally	821	AFTER runStages    success: 2018-08-03 02:58:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages


2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: completed
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"cluster":undef,"username":"testuser","project":"Project1","name":"Workflow1","status":"completed"}
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"cluster":undef,"username":"testuser","project":"Project1","name":"Workflow1","status":"completed"}
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"log":2,"oldprintlog":2,"backup":0,"dbtype":"sqlite","oldlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbfile":"/a/db/sqlite/agua.sqlite","logtype":"cli","dbh":bless( {}, "DBI::db" ),"printlog":2,"database":"agua","sqlite":"","user":"","indent":4,"password":""}, "DBase::SQLite" )
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2580	success: 1
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 02:58:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	status: completed
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::setWorkflowStatus	667	data: {"start":1,"workflow":"Workflow1","workflownumber":1,"samplehash":undef,"username":"testuser","project":"Project1"}
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::setWorkflowStatus	675	UPDATE workflow
SET status = 'completed'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
AND number = 1
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	652	uuid: undef
2018-08-03 02:58:57    [DEBUG]   	Engine::Workflow::executeWorkflow	654	addQueueSample success: 2018-08-03 02:58:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	323	OVERRIDE Engine::Workflow::runStages

2018-08-03 02:58:57    [GROUPEND]    	Engine::Workflow::executeWorkflow	662	6405 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 02:58:57  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	statuses: []
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"valueoffset":24,"logtype":"cli","memorystore":undef,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","backup":1,"oldlog":2,"memory":1,"yaml":bless( [], "YAML::Tiny" ),"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"log":2,"printlog":2,"oldprintlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:02:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	DOING executeWorkflow()
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"name":"Workflow1","cluster":undef,"status":"running","project":"Project1","username":"testuser"}
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"name":"Workflow1","cluster":undef,"status":"running","project":"Project1","username":"testuser"}
2018-08-03 03:02:36    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"oldlog":2,"database":"aguatest","dbtype":"sqlite","backup":0,"logtype":"cli","sqlite":"","password":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","user":"","dbfile":"/a/db/sqlite/test.sqlite","oldprintlog":2,"indent":4,"printlog":2,"log":2,"dbh":bless( {}, "DBI::db" )}, "DBase::SQLite" )
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"logtype":"cli","printlog":2,"memory":1,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","indent":4,"backup":1,"yaml":bless( [], "YAML::Tiny" ),"log":2,"valueoffset":24,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memorystore":undef,"oldprintlog":2,"oldlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4"}
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:03:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	DOING executeWorkflow()
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"status":"running","username":"testuser","name":"Workflow1","project":"Project1","cluster":undef}
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"status":"running","username":"testuser","name":"Workflow1","project":"Project1","cluster":undef}
2018-08-03 03:03:56    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"log":2,"dbfile":"/a/db/sqlite/test.sqlite","dbh":bless( {}, "DBI::db" ),"sqlite":"","oldprintlog":2,"oldlog":2,"dbtype":"sqlite","printlog":2,"database":"aguatest","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","user":"","backup":0,"password":"","indent":4}, "DBase::SQLite" )
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","valueoffset":24,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","memorystore":undef,"oldlog":2,"log":2,"yaml":bless( [], "YAML::Tiny" ),"indent":4,"backup":1,"oldprintlog":2,"printlog":2}, "Conf::Yaml" ),"log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5}
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:05:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	DOING executeWorkflow()
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"username":"testuser","name":"Workflow1","cluster":undef,"status":"running","project":"Project1"}
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"username":"testuser","name":"Workflow1","cluster":undef,"status":"running","project":"Project1"}
2018-08-03 03:05:13    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"sqlite":"","printlog":2,"dbh":bless( {}, "DBI::db" ),"oldprintlog":2,"backup":0,"indent":4,"log":2,"dbfile":"/a/db/sqlite/test.sqlite","password":"","oldlog":2,"user":"","dbtype":"sqlite","database":"aguatest","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli"}, "DBase::SQLite" )
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"memory":1,"indent":4,"printlog":2,"yaml":bless( [], "YAML::Tiny" ),"logtype":"cli","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldlog":2,"log":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","valueoffset":24,"memorystore":undef,"backup":1,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2}, "Conf::Yaml" ),"log":"4"}
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:09:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	DOING executeWorkflow()
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"project":"Project1","status":"running","name":"Workflow1","cluster":undef,"username":"testuser"}
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"project":"Project1","status":"running","name":"Workflow1","cluster":undef,"username":"testuser"}
2018-08-03 03:09:00    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"sqlite":"","log":2,"backup":0,"user":"","oldprintlog":2,"dbtype":"sqlite","dbfile":"/a/db/sqlite/test.sqlite","printlog":2,"indent":4,"oldlog":2,"database":"aguatest","dbh":bless( {}, "DBI::db" ),"password":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli"}, "DBase::SQLite" )
2018-08-03 03:11:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4","conf":bless( {"memorystore":undef,"log":2,"printlog":2,"oldprintlog":2,"indent":4,"valueoffset":24,"logtype":"cli","backup":1,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","yaml":bless( [], "YAML::Tiny" ),"memory":1,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 03:11:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:11:38    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:11:38    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:11:38    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:11:38    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:11:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	DOING executeWorkflow()
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"cluster":undef,"name":"Workflow1","project":"Project1","status":"running","username":"testuser"}
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"cluster":undef,"name":"Workflow1","project":"Project1","status":"running","username":"testuser"}
2018-08-03 03:11:39    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"dbtype":"sqlite","oldlog":2,"dbh":bless( {}, "DBI::db" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","backup":0,"logtype":"cli","password":"","indent":4,"oldprintlog":2,"database":"aguatest","printlog":2,"log":2,"sqlite":"","dbfile":"/a/db/sqlite/test.sqlite","user":""}, "DBase::SQLite" )
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5,"log":"4","conf":bless( {"yaml":bless( [], "YAML::Tiny" ),"memory":1,"oldprintlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memorystore":undef,"backup":1,"logtype":"cli","valueoffset":24,"printlog":2,"log":2,"oldlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4}, "Conf::Yaml" )}
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:11:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	DOING executeWorkflow()
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"cluster":undef,"username":"testuser","status":"running","project":"Project1","name":"Workflow1"}
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"cluster":undef,"username":"testuser","status":"running","project":"Project1","name":"Workflow1"}
2018-08-03 03:11:57    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"logtype":"cli","backup":0,"sqlite":"","oldprintlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","user":"","dbtype":"sqlite","indent":4,"dbfile":"/a/db/sqlite/test.sqlite","password":"","oldlog":2,"database":"aguatest","printlog":2,"dbh":bless( {}, "DBI::db" ),"log":2}, "DBase::SQLite" )
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"oldprintlog":2,"memorystore":undef,"printlog":2,"valueoffset":24,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","indent":4,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"backup":1,"log":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldlog":2,"yaml":bless( [], "YAML::Tiny" ),"logtype":"cli"}, "Conf::Yaml" )}
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:13:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	DOING executeWorkflow()
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 03:13:24    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 03:13:26    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2572	hash: {"name":"Workflow1","status":"running","project":"Project1","cluster":undef,"username":"testuser"}
2018-08-03 03:13:26    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2578	BEFORE _updateTable   hash: {"name":"Workflow1","status":"running","project":"Project1","cluster":undef,"username":"testuser"}
2018-08-03 03:13:26    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	self->db: bless( {"database":"aguatest","dbfile":"/a/db/sqlite/test.sqlite","log":2,"backup":0,"oldlog":2,"logtype":"cli","dbh":bless( {}, "DBI::db" ),"password":"","dbtype":"sqlite","oldprintlog":2,"printlog":2,"sqlite":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","indent":4,"user":""}, "DBase::SQLite" )
2018-08-03 03:18:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"printlog":2,"yaml":bless( [], "YAML::Tiny" ),"memory":1,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"logtype":"cli","log":2,"valueoffset":24,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memorystore":undef,"indent":4,"oldlog":2}, "Conf::Yaml" ),"printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 03:18:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:18:05    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:18:05    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:18:05    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:18:05    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:18:06    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	355	DOING executeWorkflow()
2018-08-03 03:18:06    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 03:18:06    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 03:18:06    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 03:18:06    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 03:18:06    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 03:18:06    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 03:18:06    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 03:18:06    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 03:18:06    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 03:18:06    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 03:18:06    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 03:18:06    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 03:18:08    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2572	hash: {"cluster":undef,"name":"Workflow1","project":"Project1","status":"running","username":"testuser"}
2018-08-03 03:18:08    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2578	BEFORE _updateTable   hash: {"cluster":undef,"name":"Workflow1","project":"Project1","status":"running","username":"testuser"}
2018-08-03 03:18:08    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	self->db: bless( {"oldlog":2,"password":"","dbh":bless( {}, "DBI::db" ),"dbfile":"/a/db/sqlite/test.sqlite","indent":4,"dbtype":"sqlite","log":2,"database":"aguatest","user":"","logtype":"cli","backup":0,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","sqlite":"","oldprintlog":2,"printlog":2}, "DBase::SQLite" )
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"log":2,"indent":4,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","backup":1,"oldprintlog":2,"oldlog":2,"valueoffset":24,"memorystore":undef,"printlog":2,"yaml":bless( [], "YAML::Tiny" )}, "Conf::Yaml" ),"log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5}
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:20:45    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:20:45    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:20:45    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:20:45    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:20:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	309	query: SELECT * FROM workflow
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5,"log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"indent":4,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","yaml":bless( [], "YAML::Tiny" ),"log":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"logtype":"cli","oldlog":2,"memory":1,"memorystore":undef,"printlog":2,"valueoffset":24,"oldprintlog":2}, "Conf::Yaml" )}
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:21:17    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:21:17    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:21:17    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:21:17    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:21:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	309	query: SELECT * FROM workflow
2018-08-03 03:21:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"logtype":"cli","memory":1,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldlog":2,"oldprintlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2,"log":2,"backup":1,"memorystore":undef,"valueoffset":24,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"yaml":bless( [], "YAML::Tiny" )}, "Conf::Yaml" )}
2018-08-03 03:21:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:21:45    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:21:45    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:21:45    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:21:45    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	309	query: SELECT * FROM workflow
2018-08-03 03:21:46    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	312	results: SELECT * FROM workflow
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","memory":1,"oldlog":2,"printlog":2,"yaml":bless( [], "YAML::Tiny" ),"valueoffset":24,"indent":4,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"memorystore":undef,"oldprintlog":2,"backup":1}, "Conf::Yaml" ),"printlog":5,"log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:22:01    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:22:01    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:22:01    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:22:01    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	309	query: SELECT * FROM workflow
2018-08-03 03:22:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	312	results: SELECT * FROM workflow
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"logtype":"cli","log":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"valueoffset":24,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"indent":4,"oldprintlog":2,"oldlog":2,"memorystore":undef,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","yaml":bless( [], "YAML::Tiny" ),"backup":1}, "Conf::Yaml" ),"log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:23:30    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:23:30    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:23:30    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:23:30    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	309	query: SELECT * FROM workflow
2018-08-03 03:23:30    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	312	results: ["testuser","Project1","Workflow1",1,"","","",undef]
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"log":"4","conf":bless( {"memorystore":undef,"backup":1,"valueoffset":24,"oldlog":2,"printlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"indent":4,"memory":1,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","yaml":bless( [], "YAML::Tiny" ),"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:23:56    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:23:56    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:23:56    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:23:56    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	309	query: SELECT * FROM workflow
2018-08-03 03:23:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	313	results: SELECT * FROM workflow
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"logtype":"cli","yaml":bless( [], "YAML::Tiny" ),"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"printlog":2,"indent":4,"oldlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","backup":1,"memorystore":undef,"valueoffset":24,"oldprintlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1}, "Conf::Yaml" ),"printlog":5,"log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:24:25    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:24:25    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:24:25    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:24:25    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	309	query: SELECT * FROM workflow
2018-08-03 03:24:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	313	results: ["testuser","Project1","Workflow1",1,"","","",undef]
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","conf":bless( {"indent":4,"memorystore":undef,"valueoffset":24,"printlog":2,"oldprintlog":2,"memory":1,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"logtype":"cli","oldlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	309	query: SELECT * FROM workflow
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	313	results: ["testuser","Project1","Workflow1",1,"","","",undef]
2018-08-03 03:24:38    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	363	DOING executeWorkflow()
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 03:24:38    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 03:24:40    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2572	hash: {"project":"Project1","username":"testuser","name":"Workflow1","cluster":undef,"status":"running"}
2018-08-03 03:24:40    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2578	BEFORE _updateTable   hash: {"project":"Project1","username":"testuser","name":"Workflow1","cluster":undef,"status":"running"}
2018-08-03 03:24:40    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	self->db: bless( {"dbfile":"/a/db/sqlite/test.sqlite","backup":0,"user":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":2,"sqlite":"","logtype":"cli","dbh":bless( {}, "DBI::db" ),"oldlog":2,"indent":4,"dbtype":"sqlite","password":"","database":"aguatest","printlog":2,"oldprintlog":2}, "DBase::SQLite" )
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"oldprintlog":2,"log":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"backup":1,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldlog":2,"memory":1,"memorystore":undef,"logtype":"cli","valueoffset":24,"indent":4}, "Conf::Yaml" ),"printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:25:23    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:25:23    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:25:23    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:25:23    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	358	query: SELECT * FROM workflow
2018-08-03 03:25:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	362	results: ["testuser","Project1","Workflow1",1,"","","",undef]
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"log":"4","conf":bless( {"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldlog":2,"logtype":"cli","printlog":2,"backup":1,"memory":1,"memorystore":undef,"oldprintlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","indent":4,"yaml":bless( [], "YAML::Tiny" ),"valueoffset":24,"log":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" )}
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	358	query: SELECT * FROM workflow
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	362	results: ["testuser","Project1","Workflow1",1,"","","",undef]
2018-08-03 03:25:51    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	365	DOING executeWorkflow()
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 03:25:51    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 03:25:53    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2572	hash: {"username":"testuser","project":"Project1","cluster":undef,"status":"running","name":"Workflow1"}
2018-08-03 03:25:53    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2578	BEFORE _updateTable   hash: {"username":"testuser","project":"Project1","cluster":undef,"status":"running","name":"Workflow1"}
2018-08-03 03:25:53    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2579	self->db: bless( {"password":"","dbh":bless( {}, "DBI::db" ),"log":2,"indent":4,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","user":"","dbtype":"sqlite","dbfile":"/a/db/sqlite/test.sqlite","sqlite":"","database":"aguatest","oldprintlog":2,"backup":0,"printlog":2,"logtype":"cli","oldlog":2}, "DBase::SQLite" )
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"logtype":"cli","oldlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2,"memory":1,"backup":1,"valueoffset":24,"indent":4,"log":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2,"yaml":bless( [], "YAML::Tiny" ),"memorystore":undef}, "Conf::Yaml" ),"log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	358	query: SELECT * FROM workflow
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	362	results: ["testuser","Project1","Workflow1",1,"","","",undef]
2018-08-03 03:26:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	365	DOING executeWorkflow()
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2570	hash: {"status":"running","cluster":undef,"project":"Project1","name":"Workflow1","username":"testuser"}
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	BEFORE _updateTable   hash: {"status":"running","cluster":undef,"project":"Project1","name":"Workflow1","username":"testuser"}
2018-08-03 03:26:02    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2577	self->db: bless( {"oldlog":2,"user":"","logtype":"cli","database":"aguatest","sqlite":"","backup":0,"oldprintlog":2,"password":"","dbtype":"sqlite","log":2,"dbh":bless( {}, "DBI::db" ),"indent":4,"dbfile":"/a/db/sqlite/test.sqlite","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2}, "DBase::SQLite" )
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4","conf":bless( {"memory":1,"memorystore":undef,"oldprintlog":2,"yaml":bless( [], "YAML::Tiny" ),"valueoffset":24,"log":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","oldlog":2,"indent":4,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1}, "Conf::Yaml" )}
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	358	query: SELECT * FROM workflow
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	362	results: ["testuser","Project1","Workflow1",1,"","","",undef]
2018-08-03 03:26:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	365	DOING executeWorkflow()
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2564	query: SELECT * FROM workflow
2018-08-03 03:26:21    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2568	results: ["testuser","Project1","Workflow1",1,"","","",undef]
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"logtype":"cli","memorystore":undef,"valueoffset":24,"oldlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","memory":1,"log":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"indent":4,"oldprintlog":2,"yaml":bless( [], "YAML::Tiny" )}, "Conf::Yaml" )}
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	358	query: SELECT * FROM workflow
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	362	results: ["testuser","Project1","Workflow1",1,"","","",undef]
2018-08-03 03:26:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	365	DOING executeWorkflow()
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2564	query: SELECT * FROM workflow
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2568	results: ["testuser","Project1","Workflow1",1,"","","",undef]
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2578	hash: {"name":"Workflow1","username":"testuser","status":"running","project":"Project1","cluster":undef}
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2584	BEFORE _updateTable   hash: {"name":"Workflow1","username":"testuser","status":"running","project":"Project1","cluster":undef}
2018-08-03 03:26:39    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2585	self->db: bless( {"dbtype":"sqlite","database":"aguatest","dbh":bless( {}, "DBI::db" ),"logtype":"cli","sqlite":"","oldlog":2,"user":"","password":"","log":2,"printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbfile":"/a/db/sqlite/test.sqlite","oldprintlog":2,"indent":4,"backup":0}, "DBase::SQLite" )
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"memorystore":undef,"memory":1,"oldlog":2,"valueoffset":24,"backup":1,"oldprintlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"logtype":"cli","yaml":bless( [], "YAML::Tiny" ),"log":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","printlog":5}
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:27:17    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:27:17    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:27:17    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:27:17    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:27:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:27:18    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	358	query: SELECT * FROM workflow
2018-08-03 03:27:18    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	362	results: ["testuser","Project1","Workflow1",1,"","","",undef]
2018-08-03 03:27:18    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	365	DOING executeWorkflow()
2018-08-03 03:27:18    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 03:27:18    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 03:27:18    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 03:27:18    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 03:27:18    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 03:27:18    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 03:27:18    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 03:27:18    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 03:27:18    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 03:27:18    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 03:27:18    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 03:27:18    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 03:27:18    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2569	query: UPDATE workflow SET status = 'running'
 WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","conf":bless( {"memorystore":undef,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2,"oldlog":2,"printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","memory":1,"log":2,"valueoffset":24,"indent":4,"yaml":bless( [], "YAML::Tiny" ),"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"logtype":"cli"}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:28:27    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:28:27    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:28:27    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:28:27    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:28:27    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	314	query: UPDATE workflow SET status = 'running'
 WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 03:29:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2,"memory":1,"valueoffset":24,"log":2,"memorystore":undef,"oldlog":2,"logtype":"cli","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"oldprintlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"backup":1}, "Conf::Yaml" ),"log":"4"}
2018-08-03 03:29:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:29:54    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:29:54    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:29:54    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:29:54    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	315	query: SELECT * FROM workflow
2018-08-03 03:29:55    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	results: ["testuser","Project1","Workflow1",1,"","","",undef]
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"conf":bless( {"yaml":bless( [], "YAML::Tiny" ),"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"backup":1,"oldlog":2,"oldprintlog":2,"log":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"logtype":"cli","memorystore":undef,"valueoffset":24,"indent":4}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4"}
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:30:39    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:30:39    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:30:39    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:30:39    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:30:39    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	316	query: UPDATE workflow SET status='running'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"yaml":bless( [], "YAML::Tiny" ),"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","memory":1,"log":2,"memorystore":undef,"oldprintlog":2,"indent":4,"valueoffset":24,"oldlog":2,"backup":1,"printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}, "Conf::Yaml" ),"log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5}
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:33:19    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:33:19    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:33:19    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:33:19    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:33:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	318	query: UPDATE workflow SET status='running'
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"backup":1,"logtype":"cli","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","memorystore":undef,"indent":4,"memory":1,"oldlog":2,"printlog":2,"valueoffset":24,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"oldprintlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2}, "Conf::Yaml" ),"log":"4","printlog":5}
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 03:33:31    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 03:33:31    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 03:33:31    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 03:33:31    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	318	query: SELECT * FROM workflow
2018-08-03 03:33:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	322	results: ["testuser","Project1","Workflow1",1,"","","",undef]
2018-08-03 04:21:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","conf":bless( {"oldlog":2,"yaml":bless( [], "YAML::Tiny" ),"oldprintlog":2,"backup":1,"log":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"memory":1,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","valueoffset":24,"memorystore":undef,"printlog":2}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5}
2018-08-03 04:21:00    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:21:00    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:21:00    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:21:00    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:21:00    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:21:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow1",1,"","","",undef
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"conf":bless( {"valueoffset":24,"oldlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2,"logtype":"cli","backup":1,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2,"memorystore":undef,"log":2,"yaml":bless( [], "YAML::Tiny" ),"indent":4}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4"}
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:21:21    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:21:21    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:21:21    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:21:21    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:21:21    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow1",1,"","","",undef
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","conf":bless( {"logtype":"cli","valueoffset":24,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"backup":1,"printlog":2,"oldlog":2,"indent":4,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"log":2,"memory":1,"memorystore":undef}, "Conf::Yaml" ),"printlog":5}
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:21:35    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:21:35    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:21:35    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:21:35    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: SELECT * FROM workflow
2018-08-03 04:21:35    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: ["testuser","Project1","Workflow1",1,"","","",undef]
2018-08-03 04:22:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","printlog":5,"conf":bless( {"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","valueoffset":24,"indent":4,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"backup":1,"logtype":"cli","yaml":bless( [], "YAML::Tiny" ),"memorystore":undef,"oldlog":2,"memory":1,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"log":2}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 04:22:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:22:22    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:22:22    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:22:22    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:22:22    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:22:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:22:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:22:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:22:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:22:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:22:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:22:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:22:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:22:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:24:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"memory":1,"memorystore":undef,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"yaml":bless( [], "YAML::Tiny" ),"valueoffset":24,"logtype":"cli","oldprintlog":2,"printlog":2,"backup":1,"oldlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" )}
2018-08-03 04:24:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:24:01    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:24:01    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:24:01    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:24:01    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:24:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:24:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:24:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:24:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:24:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:24:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:24:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:24:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:24:01    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:25:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"indent":4,"valueoffset":24,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"memory":1,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"oldlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","backup":1,"printlog":2,"oldprintlog":2,"memorystore":undef,"logtype":"cli"}, "Conf::Yaml" )}
2018-08-03 04:25:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:25:48    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:25:48    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:25:48    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:25:48    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:25:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:25:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:25:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:25:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:25:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:25:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:25:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: SELECT * FROM workflow
2018-08-03 04:25:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:27:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"logtype":"cli","valueoffset":24,"printlog":2,"memorystore":undef,"log":2,"indent":4,"oldlog":2,"backup":1,"oldprintlog":2,"memory":1,"yaml":bless( [], "YAML::Tiny" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","printlog":5}
2018-08-03 04:27:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:27:03    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:27:03    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:27:03    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:27:03    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:27:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:27:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:27:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:27:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:27:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:27:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:27:03    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow1",1,"","","",undef
2018-08-03 04:27:26    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"oldprintlog":2,"memorystore":undef,"backup":1,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldlog":2,"yaml":bless( [], "YAML::Tiny" ),"printlog":2,"valueoffset":24,"logtype":"cli","memory":1,"indent":4,"log":2}, "Conf::Yaml" )}
2018-08-03 04:27:26    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:27:26    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:27:26    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:27:26    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:27:26    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:27:26    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:27:26    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:27:26    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:27:26    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:27:26    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:27:26    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:27:26    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow1",1,"","","","")
2018-08-03 04:27:26    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:27:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"conf":bless( {"yaml":bless( [], "YAML::Tiny" ),"oldprintlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memorystore":undef,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"backup":1,"logtype":"cli","log":2,"indent":4,"memory":1,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldlog":2,"valueoffset":24}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 04:27:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:27:56    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:27:56    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:27:56    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:27:56    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:27:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:27:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:27:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:27:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:27:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:27:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:27:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='running'
2018-08-03 04:27:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4","printlog":5,"conf":bless( {"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"indent":4,"log":2,"logtype":"cli","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"memorystore":undef,"yaml":bless( [], "YAML::Tiny" ),"memory":1,"backup":1,"valueoffset":24}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:28:19    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:28:19    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:28:19    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:28:19    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='running'
2018-08-03 04:28:19    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","conf":bless( {"memory":1,"oldprintlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memorystore":undef,"oldlog":2,"backup":1,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"printlog":2,"valueoffset":24,"logtype":"cli","yaml":bless( [], "YAML::Tiny" ),"indent":4,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:28:49    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:28:49    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:28:49    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:28:49    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXX'
2018-08-03 04:28:49    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":2,"memorystore":undef,"backup":1,"oldlog":2,"indent":4,"yaml":bless( [], "YAML::Tiny" ),"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2,"printlog":2,"valueoffset":24,"logtype":"cli","memory":1}, "Conf::Yaml" ),"log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:29:04    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:29:04    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:29:04    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:29:04    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='running'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:29:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:29:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","conf":bless( {"oldlog":2,"valueoffset":24,"printlog":2,"log":2,"backup":1,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memorystore":undef,"yaml":bless( [], "YAML::Tiny" ),"logtype":"cli","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2,"memory":1,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","indent":4}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5}
2018-08-03 04:29:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:29:56    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:29:56    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:29:56    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:29:56    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:29:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:29:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:29:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:29:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:29:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:29:56    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:29:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:29:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:29:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:29:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:29:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:29:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:29:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:29:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:29:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:29:57    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	378	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-03 04:30:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"memorystore":undef,"valueoffset":24,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","yaml":bless( [], "YAML::Tiny" ),"memory":1,"oldlog":2,"indent":4,"logtype":"cli","backup":1,"log":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2}, "Conf::Yaml" ),"log":"4","printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 04:30:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:30:31    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:30:31    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:30:31    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:30:31    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:30:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	378	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"yaml":bless( [], "YAML::Tiny" ),"oldlog":2,"printlog":2,"oldprintlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","memorystore":undef,"backup":1,"logtype":"cli","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"valueoffset":24,"log":2}, "Conf::Yaml" ),"log":"4"}
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:30:47    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:30:47    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:30:47    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:30:47    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='running'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:30:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"logtype":"cli","printlog":2,"oldlog":2,"indent":4,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","yaml":bless( [], "YAML::Tiny" ),"memory":1,"memorystore":undef,"backup":1,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","valueoffset":24,"oldprintlog":2,"log":2}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:31:04    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:31:04    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:31:04    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:31:04    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:31:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:31:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='running'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:31:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","conf":bless( {"yaml":bless( [], "YAML::Tiny" ),"indent":4,"valueoffset":24,"oldlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"memory":1,"log":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","printlog":2,"oldprintlog":2,"memorystore":undef}, "Conf::Yaml" ),"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:31:17    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:31:17    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:31:17    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:31:17    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:31:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:31:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"oldprintlog":2,"valueoffset":24,"memory":1,"log":2,"printlog":2,"indent":4,"logtype":"cli","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","memorystore":undef,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"backup":1}, "Conf::Yaml" ),"log":"4","printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 04:31:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:31:41    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:31:41    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:31:41    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:31:41    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:31:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:31:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:31:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:31:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:31:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:31:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:31:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:31:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:31:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:31:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:31:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:31:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:31:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:31:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:31:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:31:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:31:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:31:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	377	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-03 04:31:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	381	results: undef
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"indent":4,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"backup":1,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"memorystore":undef,"memory":1,"logtype":"cli","log":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldlog":2,"printlog":2,"valueoffset":24}, "Conf::Yaml" ),"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	377	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	381	results: undef
2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	384	DOING executeWorkflow()
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2583	hash: {"status":"running","name":"Workflow1","username":"testuser","cluster":undef,"project":"Project1"}
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2589	BEFORE _updateTable   hash: {"status":"running","name":"Workflow1","username":"testuser","cluster":undef,"project":"Project1"}
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2590	self->db: bless( {"log":2,"oldlog":2,"printlog":2,"user":"","dbh":bless( {}, "DBI::db" ),"logtype":"cli","dbtype":"sqlite","sqlite":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","indent":4,"oldprintlog":2,"database":"aguatest","dbfile":"/a/db/sqlite/test.sqlite","password":"","backup":0}, "DBase::SQLite" )
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2593	success: 1
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 04:32:22        [GROUP]    	Engine::Workflow::setStages	1368	Engine::Workflow::setStages
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1369	username: testuser
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1370	cluster: undef
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1371	project: Project1
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1372	workflow: Workflow1
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1373	scheduler: local
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1380	slots: undef
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1387	force: undef
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::checkPrevious	1706	start: 0
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1389	previouscompleted: 1
2018-08-03 04:32:22        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"paramnumber":"1","paramFunction":"","owner":"aguatest","category":"filter","discretion":"optional","appnumber":"1","workflow":"Workflow1","inputParams":"","appname":"FTP","chained":0,"valuetype":"string","username":"testuser","paramtype":"input","value":"","locked":0,"ordinal":0,"paramname":"filter","args":"","project":"Project1","format":"","workflownumber":1,"description":"Download only files containing this text fragment","argument":"--filter"},{"paramFunction":"","owner":"aguatest","category":"outputdir","paramnumber":"2","appnumber":"1","workflow":"Workflow1","discretion":"required","username":"testuser","paramtype":"input","value":"Project1/Workflow1/downloads","locked":0,"ordinal":0,"inputParams":"","appname":"FTP","chained":0,"valuetype":"directory","description":"Create this directory and download files to it","argument":"--outputdir","paramname":"outputdir","args":"","project":"Project1","format":"","workflownumber":1},{"description":"Download files matching this regular expression","argument":"--regex","args":"","paramname":"regex","project":"Project1","format":"","workflownumber":1,"username":"testuser","paramtype":"input","value":"chr[XYM0-9]+.fa.gz","locked":0,"ordinal":0,"appname":"FTP","inputParams":"","chained":0,"valuetype":"string","appnumber":"1","workflow":"Workflow1","discretion":"optional","paramFunction":"","category":"regex","owner":"aguatest","paramnumber":"3"},{"paramnumber":"4","owner":"aguatest","paramFunction":"","category":"type","discretion":"essential","workflow":"Workflow1","appnumber":"1","valuetype":"string","chained":0,"appname":"FTP","inputParams":"","ordinal":0,"locked":0,"value":"html","paramtype":"input","username":"testuser","workflownumber":1,"format":"","project":"Project1","args":"","paramname":"type","argument":"--type","description":"Type of page: html or text"},{"workflow":"Workflow1","appnumber":"1","discretion":"required","owner":"aguatest","paramFunction":"","category":"url","paramnumber":"5","argument":"--url","description":"Download files linked on this page","workflownumber":1,"format":"","project":"Project1","args":"","paramname":"url","ordinal":0,"locked":0,"value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","paramtype":"input","username":"testuser","valuetype":"string","chained":0,"appname":"FTP","inputParams":""}]
2018-08-03 04:32:22        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"appname":"unzipFiles","inputParams":"","valuetype":"flag","chained":0,"locked":0,"value":"1","paramtype":"input","username":"testuser","ordinal":0,"project":"Project1","args":"","paramname":"delete","workflownumber":1,"format":"","argument":"--delete","description":" Remove zipped files after unzipping","paramnumber":"1","owner":"aguatest","paramFunction":"","category":"delete","discretion":"optional","appnumber":"2","workflow":"Workflow1"},{"project":"Project1","paramname":"filter","args":"","workflownumber":1,"format":"","argument":"--filter","description":"Unzip only files containing this text fragment","inputParams":"","appname":"unzipFiles","valuetype":"string","chained":0,"paramtype":"input","value":"","locked":0,"username":"testuser","ordinal":0,"discretion":"optional","appnumber":"2","workflow":"Workflow1","paramnumber":"2","paramFunction":"","owner":"aguatest","category":"filter"},{"workflownumber":1,"format":"","project":"Project1","args":"input.outputdir.value","paramname":"inputdir","argument":"--inputdir","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","valuetype":"directory","chained":0,"appname":"unzipFiles","inputParams":"InputParams","ordinal":0,"value":"Project1/Workflow1/downloads","locked":0,"paramtype":"input","username":"testuser","discretion":"essential","workflow":"Workflow1","appnumber":"2","paramnumber":"3","owner":"aguatest","paramFunction":"","category":"inputdir"},{"username":"testuser","value":"Project1/Workflow1/downloads","paramtype":"input","locked":0,"ordinal":0,"appname":"unzipFiles","inputParams":"InputParams","chained":0,"valuetype":"directory","description":"Unzip files to this directory","argument":"--outputdir","paramname":"outputdir","args":"input.outputdir.value","project":"Project1","format":"","workflownumber":1,"owner":"aguatest","paramFunction":"","category":"outputdir","paramnumber":"4","appnumber":"2","workflow":"Workflow1","discretion":"required"},{"chained":1,"valuetype":"string","appname":"unzipFiles","inputParams":"","ordinal":0,"username":"testuser","value":"chr[XYM0-9]+.fa.gz","locked":0,"paramtype":"input","format":"","workflownumber":1,"paramname":"regex","args":"input.regex.value","project":"Project1","description":"Unzip only files matching this regular expression","argument":"--regex","paramnumber":"5","category":"filter","paramFunction":"","owner":"aguatest","discretion":"optional","workflow":"Workflow1","appnumber":"2"},{"discretion":"required","appnumber":"2","workflow":"Workflow1","paramnumber":"6","paramFunction":"","category":"type","owner":"aguatest","project":"Project1","args":"","paramname":"type","workflownumber":1,"format":"","argument":"--type","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","appname":"unzipFiles","inputParams":"","valuetype":"string","chained":0,"value":"gunzip","paramtype":"input","locked":0,"username":"testuser","ordinal":0}]
2018-08-03 04:32:22        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"appnumber":"3","workflow":"Workflow1","discretion":"essential","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","owner":"aguatest","category":"inputdir","paramnumber":"1","description":"Location of directory containing *.fa files","argument":"--inputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramname":"inputdir","project":"Project1","format":"","workflownumber":1,"username":"testuser","paramtype":"input","value":"Project1/Workflow1/reference/fasta","locked":0,"ordinal":0,"inputParams":"referencedir,outputdir,inputdir","appname":"elandIndex","chained":0,"valuetype":"directory"},{"category":"outputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","owner":"aguatest","paramnumber":"2","workflow":"Workflow1","appnumber":"3","discretion":"required","ordinal":0,"username":"testuser","locked":0,"value":"Project1/Workflow1/reference/eland","paramtype":"input","chained":0,"valuetype":"directory","inputParams":"referencedir,outputdir,inputdir","appname":"elandIndex","description":"Print indexed files to this directory","argument":"--outputdir","format":"","workflownumber":1,"paramname":"outputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","project":"Project1"},{"paramnumber":"3","category":"subdirs","paramFunction":"","owner":"aguatest","discretion":"optional","appnumber":"3","workflow":"Workflow1","inputParams":"","appname":"elandIndex","valuetype":"flag","chained":0,"value":"","locked":0,"paramtype":"input","username":"testuser","ordinal":0,"project":"Project1","args":"input.subdirs.value","paramname":"subdirs","workflownumber":1,"format":"","argument":"--subdirs","description":""}]
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStartStop	1749	# stages: 3
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->start: 1
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStartStop	1755	self->stop: undef
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStartStop	1760	start: 1
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStartStop	1761	stop: 4
2018-08-03 04:32:22        [NOTE]   	Engine::Workflow::setStartStop	1782	8660 Setting start: 1
2018-08-03 04:32:22        [NOTE]   	Engine::Workflow::setStartStop	1783	8660 Setting stop: 4
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1397	start: 1
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1398	stop: 4
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1402	fileroot: /home/testuser/agua
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setFileDirs	1536	fileroot: /home/testuser/agua
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setFileDirs	1537	project: Project1
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setFileDirs	1538	workflow: Workflow1
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setFileDirs	1542	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1406	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1422	BEFORE monitor = self->updateMonitor()
2018-08-03 04:32:22        [CALLER]   	Engine::Workflow::updateMonitor	2059	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1426	AFTER XXX monitor = self->updateMonitor()
2018-08-03 04:32:22        [DEBUG]   	Engine::Workflow::setStages	1504	final no. stageobjects: 3
2018-08-03 04:32:22        [GROUPEND]    	Engine::Workflow::setStages	1506	Engine::Workflow::setStages
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::runLocally	816	# stages: 3
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::runLocally	819	BEFORE runStages()

2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::runLocally	821	AFTER runStages    success: 2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages


2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: completed
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2583	hash: {"name":"Workflow1","username":"testuser","status":"completed","project":"Project1","cluster":undef}
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2589	BEFORE _updateTable   hash: {"name":"Workflow1","username":"testuser","status":"completed","project":"Project1","cluster":undef}
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2590	self->db: bless( {"log":2,"oldlog":2,"printlog":2,"user":"","dbh":bless( {}, "DBI::db" ),"logtype":"cli","dbtype":"sqlite","sqlite":"","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","indent":4,"oldprintlog":2,"database":"aguatest","dbfile":"/a/db/sqlite/test.sqlite","password":"","backup":0}, "DBase::SQLite" )
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2593	success: 1
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 04:32:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	status: completed
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::setWorkflowStatus	667	data: {"project":"Project1","samplehash":undef,"start":1,"workflownumber":1,"username":"testuser","workflow":"Workflow1"}
2018-08-03 04:32:22    [DEBUG]   	Engine::Workflow::setWorkflowStatus	675	UPDATE workflow
SET status = 'completed'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
AND number = 1
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"log":"4","conf":bless( {"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","valueoffset":24,"printlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"yaml":bless( [], "YAML::Tiny" ),"oldlog":2,"memory":1,"indent":4,"memorystore":undef,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":2,"oldprintlog":2}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	377	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	381	results: undef
2018-08-03 04:34:09    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	384	DOING executeWorkflow()
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2583	hash: {"project":"Project1","status":"running","cluster":undef,"name":"Workflow1","username":"testuser"}
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2589	BEFORE _updateTable   hash: {"project":"Project1","status":"running","cluster":undef,"name":"Workflow1","username":"testuser"}
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2590	self->db: bless( {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","sqlite":"","dbfile":"/a/db/sqlite/test.sqlite","oldprintlog":2,"log":2,"indent":4,"user":"","database":"aguatest","printlog":2,"oldlog":2,"backup":0,"password":"","dbtype":"sqlite","dbh":bless( {}, "DBI::db" ),"logtype":"cli"}, "DBase::SQLite" )
2018-08-03 04:34:09    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2593	success: 1
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"printlog":2,"valueoffset":24,"logtype":"cli","oldprintlog":2,"yaml":bless( [], "YAML::Tiny" ),"memory":1,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"oldlog":2,"log":2,"memorystore":undef,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","indent":4,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" )}
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	377	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	381	results: undef
2018-08-03 04:34:48    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	384	DOING executeWorkflow()
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2583	hash: {"username":"testuser","status":"running","cluster":undef,"name":"Workflow1","project":"Project1"}
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2589	BEFORE _updateTable   hash: {"username":"testuser","status":"running","cluster":undef,"name":"Workflow1","project":"Project1"}
2018-08-03 04:34:48    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2590	self->db: bless( {"dbtype":"sqlite","oldprintlog":2,"printlog":2,"database":"aguatest","dbh":bless( {}, "DBI::db" ),"logtype":"cli","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","indent":4,"password":"","dbfile":"/a/db/sqlite/test.sqlite","sqlite":"","user":"","backup":0,"oldlog":2,"log":2}, "DBase::SQLite" )
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","conf":bless( {"oldlog":2,"log":2,"yaml":bless( [], "YAML::Tiny" ),"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"valueoffset":24,"backup":1,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"memorystore":undef,"logtype":"cli","oldprintlog":2,"printlog":2}, "Conf::Yaml" ),"printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	377	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	381	results: undef
2018-08-03 04:35:29    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	384	DOING executeWorkflow()
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2583	hash: {"status":"running","name":"Workflow1","cluster":undef,"username":"testuser","project":"Project1"}
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2589	BEFORE _updateTable   hash: {"status":"running","name":"Workflow1","cluster":undef,"username":"testuser","project":"Project1"}
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2590	self->db: bless( {"dbtype":"sqlite","dbh":bless( {}, "DBI::db" ),"indent":4,"user":"","oldlog":2,"log":2,"logtype":"cli","password":"","oldprintlog":2,"printlog":2,"sqlite":"","backup":0,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbfile":"/a/db/sqlite/test.sqlite","database":"aguatest"}, "DBase::SQLite" )
2018-08-03 04:35:29    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2594	success: 1
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","memory":1,"yaml":bless( [], "YAML::Tiny" ),"backup":1,"oldlog":2,"printlog":2,"memorystore":undef,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","valueoffset":24,"logtype":"cli","indent":4,"log":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	377	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	381	results: undef
2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	384	DOING executeWorkflow()
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: running
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2583	hash: {"status":"running","cluster":undef,"project":"Project1","name":"Workflow1","username":"testuser"}
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2589	BEFORE _updateTable   hash: {"status":"running","cluster":undef,"project":"Project1","name":"Workflow1","username":"testuser"}
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2590	self->db: bless( {"backup":0,"oldlog":2,"dbtype":"sqlite","printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","database":"aguatest","user":"","dbfile":"/a/db/sqlite/test.sqlite","log":2,"oldprintlog":2,"dbh":bless( {}, "DBI::db" ),"sqlite":"","logtype":"cli","indent":4,"password":""}, "DBase::SQLite" )
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2594	success: 1
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 04:35:47        [GROUP]    	Engine::Workflow::setStages	1368	Engine::Workflow::setStages
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1369	username: testuser
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1370	cluster: undef
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1371	project: Project1
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1372	workflow: Workflow1
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1373	scheduler: local
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1380	slots: undef
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1387	force: undef
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::checkPrevious	1706	start: 0
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1389	previouscompleted: 1
2018-08-03 04:35:47        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"appname":"FTP","workflow":"Workflow1","description":"Download only files containing this text fragment","project":"Project1","paramtype":"input","username":"testuser","paramname":"filter","paramnumber":"1","workflownumber":1,"valuetype":"string","value":"","chained":0,"owner":"aguatest","args":"","format":"","paramFunction":"","argument":"--filter","locked":0,"inputParams":"","ordinal":0,"discretion":"optional","appnumber":"1","category":"filter"},{"inputParams":"","paramFunction":"","argument":"--outputdir","locked":0,"discretion":"required","appnumber":"1","category":"outputdir","ordinal":0,"paramname":"outputdir","paramnumber":"2","appname":"FTP","description":"Create this directory and download files to it","workflow":"Workflow1","project":"Project1","username":"testuser","paramtype":"input","value":"Project1/Workflow1/downloads","owner":"aguatest","chained":0,"args":"","format":"","workflownumber":1,"valuetype":"directory"},{"value":"chr[XYM0-9]+.fa.gz","owner":"aguatest","chained":0,"args":"","format":"","workflownumber":1,"valuetype":"string","paramname":"regex","paramnumber":"3","appname":"FTP","description":"Download files matching this regular expression","workflow":"Workflow1","project":"Project1","paramtype":"input","username":"testuser","discretion":"optional","appnumber":"1","category":"regex","ordinal":0,"inputParams":"","paramFunction":"","argument":"--regex","locked":0},{"valuetype":"string","workflownumber":1,"format":"","args":"","chained":0,"owner":"aguatest","value":"html","paramtype":"input","username":"testuser","description":"Type of page: html or text","project":"Project1","workflow":"Workflow1","appname":"FTP","paramnumber":"4","paramname":"type","ordinal":0,"category":"type","appnumber":"1","discretion":"essential","locked":0,"paramFunction":"","argument":"--type","inputParams":""},{"args":"","format":"","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","chained":0,"owner":"aguatest","valuetype":"string","workflownumber":1,"paramnumber":"5","paramname":"url","username":"testuser","paramtype":"input","appname":"FTP","project":"Project1","description":"Download files linked on this page","workflow":"Workflow1","appnumber":"1","category":"url","discretion":"required","ordinal":0,"inputParams":"","locked":0,"paramFunction":"","argument":"--url"}]
2018-08-03 04:35:47        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"paramnumber":"1","paramname":"delete","username":"testuser","paramtype":"input","workflow":"Workflow1","description":" Remove zipped files after unzipping","project":"Project1","appname":"unzipFiles","format":"","args":"","chained":0,"owner":"aguatest","value":"1","valuetype":"flag","workflownumber":1,"inputParams":"","locked":0,"paramFunction":"","argument":"--delete","category":"delete","appnumber":"2","discretion":"optional","ordinal":0},{"username":"testuser","paramtype":"input","description":"Unzip only files containing this text fragment","project":"Project1","workflow":"Workflow1","appname":"unzipFiles","paramnumber":"2","paramname":"filter","valuetype":"string","workflownumber":1,"format":"","args":"","chained":0,"owner":"aguatest","value":"","locked":0,"paramFunction":"","argument":"--filter","inputParams":"","ordinal":0,"category":"filter","appnumber":"2","discretion":"optional"},{"workflownumber":1,"valuetype":"directory","value":"Project1/Workflow1/downloads","owner":"aguatest","chained":0,"args":"input.outputdir.value","format":"","appname":"unzipFiles","workflow":"Workflow1","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","project":"Project1","paramtype":"input","username":"testuser","paramname":"inputdir","paramnumber":"3","ordinal":0,"discretion":"essential","appnumber":"2","category":"inputdir","argument":"--inputdir","paramFunction":"","locked":0,"inputParams":"InputParams"},{"owner":"aguatest","chained":0,"value":"Project1/Workflow1/downloads","format":"","args":"input.outputdir.value","workflownumber":1,"valuetype":"directory","paramname":"outputdir","paramnumber":"4","description":"Unzip files to this directory","workflow":"Workflow1","project":"Project1","appname":"unzipFiles","paramtype":"input","username":"testuser","discretion":"required","category":"outputdir","appnumber":"2","ordinal":0,"inputParams":"InputParams","paramFunction":"","argument":"--outputdir","locked":0},{"ordinal":0,"category":"filter","appnumber":"2","discretion":"optional","locked":0,"argument":"--regex","paramFunction":"","inputParams":"","valuetype":"string","workflownumber":1,"format":"","args":"input.regex.value","chained":1,"owner":"aguatest","value":"chr[XYM0-9]+.fa.gz","paramtype":"input","username":"testuser","workflow":"Workflow1","description":"Unzip only files matching this regular expression","project":"Project1","appname":"unzipFiles","paramnumber":"5","paramname":"regex"},{"inputParams":"","locked":0,"paramFunction":"","argument":"--type","category":"type","appnumber":"2","discretion":"required","ordinal":0,"paramnumber":"6","paramname":"type","username":"testuser","paramtype":"input","project":"Project1","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","workflow":"Workflow1","appname":"unzipFiles","format":"","args":"","chained":0,"owner":"aguatest","value":"gunzip","valuetype":"string","workflownumber":1}]
2018-08-03 04:35:47        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"valuetype":"directory","workflownumber":1,"format":"","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","chained":0,"owner":"aguatest","value":"Project1/Workflow1/reference/fasta","paramtype":"input","username":"testuser","project":"Project1","description":"Location of directory containing *.fa files","workflow":"Workflow1","appname":"elandIndex","paramnumber":"1","paramname":"inputdir","ordinal":0,"category":"inputdir","appnumber":"3","discretion":"essential","locked":0,"argument":"--inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","inputParams":"referencedir,outputdir,inputdir"},{"paramnumber":"2","paramname":"outputdir","paramtype":"input","username":"testuser","appname":"elandIndex","project":"Project1","description":"Print indexed files to this directory","workflow":"Workflow1","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","format":"","value":"Project1/Workflow1/reference/eland","owner":"aguatest","chained":0,"valuetype":"directory","workflownumber":1,"inputParams":"referencedir,outputdir,inputdir","locked":0,"paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","argument":"--outputdir","appnumber":"3","category":"outputdir","discretion":"required","ordinal":0},{"paramnumber":"3","paramname":"subdirs","username":"testuser","paramtype":"input","appname":"elandIndex","description":"","project":"Project1","workflow":"Workflow1","args":"input.subdirs.value","format":"","value":"","chained":0,"owner":"aguatest","valuetype":"flag","workflownumber":1,"inputParams":"","locked":0,"paramFunction":"","argument":"--subdirs","appnumber":"3","category":"subdirs","discretion":"optional","ordinal":0}]
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStartStop	1749	# stages: 3
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->start: 1
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStartStop	1755	self->stop: undef
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStartStop	1760	start: 1
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStartStop	1761	stop: 4
2018-08-03 04:35:47        [NOTE]   	Engine::Workflow::setStartStop	1782	8738 Setting start: 1
2018-08-03 04:35:47        [NOTE]   	Engine::Workflow::setStartStop	1783	8738 Setting stop: 4
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1397	start: 1
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1398	stop: 4
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1402	fileroot: /home/testuser/agua
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setFileDirs	1536	fileroot: /home/testuser/agua
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setFileDirs	1537	project: Project1
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setFileDirs	1538	workflow: Workflow1
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setFileDirs	1542	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1406	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1422	BEFORE monitor = self->updateMonitor()
2018-08-03 04:35:47        [CALLER]   	Engine::Workflow::updateMonitor	2059	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1426	AFTER XXX monitor = self->updateMonitor()
2018-08-03 04:35:47        [DEBUG]   	Engine::Workflow::setStages	1504	final no. stageobjects: 3
2018-08-03 04:35:47        [GROUPEND]    	Engine::Workflow::setStages	1506	Engine::Workflow::setStages
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::runLocally	816	# stages: 3
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::runLocally	819	BEFORE runStages()

2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::runLocally	821	AFTER runStages    success: 2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages


2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2560	status: completed
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2583	hash: {"username":"testuser","name":"Workflow1","project":"Project1","cluster":undef,"status":"completed"}
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2589	BEFORE _updateTable   hash: {"username":"testuser","name":"Workflow1","project":"Project1","cluster":undef,"status":"completed"}
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2590	self->db: bless( {"backup":0,"oldlog":2,"dbtype":"sqlite","printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","database":"aguatest","user":"","dbfile":"/a/db/sqlite/test.sqlite","log":2,"oldprintlog":2,"dbh":bless( {}, "DBI::db" ),"sqlite":"","logtype":"cli","indent":4,"password":""}, "DBase::SQLite" )
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2594	success: 1
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 04:35:47    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::setWorkflowStatus	666	status: completed
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::setWorkflowStatus	667	data: {"samplehash":undef,"username":"testuser","workflownumber":1,"workflow":"Workflow1","project":"Project1","start":1}
2018-08-03 04:35:47    [DEBUG]   	Engine::Workflow::setWorkflowStatus	675	UPDATE workflow
SET status = 'completed'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
AND number = 1
2018-08-03 04:42:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5,"conf":bless( {"oldlog":2,"backup":1,"memorystore":undef,"logtype":"cli","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"memory":1,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"printlog":2,"oldprintlog":2,"valueoffset":24,"indent":4}, "Conf::Yaml" )}
2018-08-03 04:42:16    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:42:16    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:42:16    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:42:16    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:42:16    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	377	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	381	results: undef
2018-08-03 04:42:17    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	384	DOING executeWorkflow()
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2542	status: running
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2565	hash: {"status":"running","name":"Workflow1","project":"Project1","cluster":undef,"username":"testuser"}
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2571	BEFORE _updateTable   hash: {"status":"running","name":"Workflow1","project":"Project1","cluster":undef,"username":"testuser"}
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2572	self->db: bless( {"dbh":bless( {}, "DBI::db" ),"backup":0,"oldlog":2,"database":"aguatest","logtype":"cli","log":2,"dbfile":"/a/db/sqlite/test.sqlite","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbtype":"sqlite","oldprintlog":2,"printlog":2,"sqlite":"","indent":4,"password":"","user":""}, "DBase::SQLite" )
2018-08-03 04:42:17    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	success: 1
2018-08-03 04:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"oldlog":2,"printlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","memory":1,"log":2,"valueoffset":24,"logtype":"cli","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"indent":4,"oldprintlog":2,"memorystore":undef}, "Conf::Yaml" )}
2018-08-03 04:42:36    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:42:36    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:42:36    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:42:36    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:42:36    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	377	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	381	results: undef
2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	384	DOING executeWorkflow()
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2542	status: running
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2565	hash: {"cluster":undef,"name":"Workflow1","username":"testuser","status":"running","project":"Project1"}
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2571	BEFORE _updateTable   hash: {"cluster":undef,"name":"Workflow1","username":"testuser","status":"running","project":"Project1"}
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2572	self->db: bless( {"backup":0,"user":"","dbfile":"/a/db/sqlite/test.sqlite","log":2,"printlog":2,"oldlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbh":bless( {}, "DBI::db" ),"dbtype":"sqlite","sqlite":"","logtype":"cli","password":"","indent":4,"oldprintlog":2,"database":"aguatest"}, "DBase::SQLite" )
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	success: 1
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 04:42:37        [GROUP]    	Engine::Workflow::setStages	1350	Engine::Workflow::setStages
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1351	username: testuser
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1352	cluster: undef
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1353	project: Project1
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1354	workflow: Workflow1
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1355	scheduler: local
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1362	slots: undef
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1369	force: undef
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::checkPrevious	1688	start: 0
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1371	previouscompleted: 1
2018-08-03 04:42:37        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"argument":"--filter","appname":"FTP","category":"filter","valuetype":"string","username":"testuser","paramtype":"input","locked":0,"format":"","chained":0,"args":"","value":"","ordinal":0,"discretion":"optional","paramFunction":"","inputParams":"","appnumber":"1","paramnumber":"1","paramname":"filter","workflownumber":1,"owner":"aguatest","workflow":"Workflow1","description":"Download only files containing this text fragment","project":"Project1"},{"chained":0,"format":"","locked":0,"paramtype":"input","valuetype":"directory","username":"testuser","appname":"FTP","category":"outputdir","argument":"--outputdir","inputParams":"","paramFunction":"","discretion":"required","ordinal":0,"value":"Project1/Workflow1/downloads","args":"","paramname":"outputdir","workflownumber":1,"paramnumber":"2","appnumber":"1","project":"Project1","description":"Create this directory and download files to it","workflow":"Workflow1","owner":"aguatest"},{"paramname":"regex","workflownumber":1,"paramnumber":"3","appnumber":"1","description":"Download files matching this regular expression","project":"Project1","workflow":"Workflow1","owner":"aguatest","paramtype":"input","locked":0,"chained":0,"format":"","appname":"FTP","category":"regex","valuetype":"string","username":"testuser","argument":"--regex","inputParams":"","discretion":"optional","paramFunction":"","value":"chr[XYM0-9]+.fa.gz","ordinal":0,"args":""},{"paramnumber":"4","paramname":"type","workflownumber":1,"appnumber":"1","description":"Type of page: html or text","project":"Project1","owner":"aguatest","workflow":"Workflow1","valuetype":"string","username":"testuser","appname":"FTP","category":"type","format":"","chained":0,"paramtype":"input","locked":0,"argument":"--type","paramFunction":"","discretion":"essential","inputParams":"","args":"","ordinal":0,"value":"html"},{"category":"url","appname":"FTP","valuetype":"string","username":"testuser","locked":0,"paramtype":"input","chained":0,"format":"","argument":"--url","discretion":"required","paramFunction":"","inputParams":"","args":"","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","ordinal":0,"paramnumber":"5","paramname":"url","workflownumber":1,"appnumber":"1","description":"Download files linked on this page","project":"Project1","owner":"aguatest","workflow":"Workflow1"}]
2018-08-03 04:42:37        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"paramnumber":"1","paramname":"delete","workflownumber":1,"appnumber":"2","description":" Remove zipped files after unzipping","project":"Project1","owner":"aguatest","workflow":"Workflow1","valuetype":"flag","username":"testuser","category":"delete","appname":"unzipFiles","chained":0,"format":"","locked":0,"paramtype":"input","argument":"--delete","paramFunction":"","discretion":"optional","inputParams":"","args":"","ordinal":0,"value":"1"},{"discretion":"optional","paramFunction":"","inputParams":"","args":"","value":"","ordinal":0,"category":"filter","appname":"unzipFiles","valuetype":"string","username":"testuser","paramtype":"input","locked":0,"format":"","chained":0,"argument":"--filter","description":"Unzip only files containing this text fragment","project":"Project1","owner":"aguatest","workflow":"Workflow1","paramnumber":"2","workflownumber":1,"paramname":"filter","appnumber":"2"},{"value":"Project1/Workflow1/downloads","ordinal":0,"args":"input.outputdir.value","inputParams":"InputParams","discretion":"essential","paramFunction":"","argument":"--inputdir","paramtype":"input","locked":0,"format":"","chained":0,"appname":"unzipFiles","category":"inputdir","valuetype":"directory","username":"testuser","workflow":"Workflow1","owner":"aguatest","project":"Project1","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","appnumber":"2","workflownumber":1,"paramname":"inputdir","paramnumber":"3"},{"workflownumber":1,"paramname":"outputdir","paramnumber":"4","appnumber":"2","description":"Unzip files to this directory","project":"Project1","workflow":"Workflow1","owner":"aguatest","format":"","chained":0,"paramtype":"input","locked":0,"valuetype":"directory","username":"testuser","appname":"unzipFiles","category":"outputdir","argument":"--outputdir","inputParams":"InputParams","paramFunction":"","discretion":"required","ordinal":0,"value":"Project1/Workflow1/downloads","args":"input.outputdir.value"},{"argument":"--regex","username":"testuser","valuetype":"string","category":"filter","appname":"unzipFiles","chained":1,"format":"","paramtype":"input","locked":0,"args":"input.regex.value","ordinal":0,"value":"chr[XYM0-9]+.fa.gz","paramFunction":"","discretion":"optional","inputParams":"","appnumber":"2","paramnumber":"5","paramname":"regex","workflownumber":1,"owner":"aguatest","workflow":"Workflow1","project":"Project1","description":"Unzip only files matching this regular expression"},{"owner":"aguatest","workflow":"Workflow1","project":"Project1","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","appnumber":"2","paramnumber":"6","workflownumber":1,"paramname":"type","args":"","value":"gunzip","ordinal":0,"discretion":"required","paramFunction":"","inputParams":"","argument":"--type","category":"type","appname":"unzipFiles","valuetype":"string","username":"testuser","paramtype":"input","locked":0,"format":"","chained":0}]
2018-08-03 04:42:37        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","discretion":"essential","inputParams":"referencedir,outputdir,inputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","ordinal":0,"value":"Project1/Workflow1/reference/fasta","valuetype":"directory","username":"testuser","appname":"elandIndex","category":"inputdir","chained":0,"format":"","locked":0,"paramtype":"input","argument":"--inputdir","project":"Project1","description":"Location of directory containing *.fa files","owner":"aguatest","workflow":"Workflow1","paramnumber":"1","workflownumber":1,"paramname":"inputdir","appnumber":"3"},{"chained":0,"format":"","paramtype":"input","locked":0,"valuetype":"directory","username":"testuser","category":"outputdir","appname":"elandIndex","argument":"--outputdir","inputParams":"referencedir,outputdir,inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","discretion":"required","ordinal":0,"value":"Project1/Workflow1/reference/eland","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","workflownumber":1,"paramname":"outputdir","paramnumber":"2","appnumber":"3","project":"Project1","description":"Print indexed files to this directory","workflow":"Workflow1","owner":"aguatest"},{"project":"Project1","description":"","owner":"aguatest","workflow":"Workflow1","paramnumber":"3","workflownumber":1,"paramname":"subdirs","appnumber":"3","paramFunction":"","discretion":"optional","inputParams":"","args":"input.subdirs.value","ordinal":0,"value":"","valuetype":"flag","username":"testuser","category":"subdirs","appname":"elandIndex","chained":0,"format":"","paramtype":"input","locked":0,"argument":"--subdirs"}]
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStartStop	1731	# stages: 3
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStartStop	1736	self->start: 1
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStartStop	1737	self->stop: undef
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStartStop	1742	start: 1
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStartStop	1743	stop: 4
2018-08-03 04:42:37        [NOTE]   	Engine::Workflow::setStartStop	1764	8820 Setting start: 1
2018-08-03 04:42:37        [NOTE]   	Engine::Workflow::setStartStop	1765	8820 Setting stop: 4
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1379	start: 1
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1380	stop: 4
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1384	fileroot: /home/testuser/agua
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setFileDirs	1518	fileroot: /home/testuser/agua
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setFileDirs	1519	project: Project1
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setFileDirs	1520	workflow: Workflow1
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setFileDirs	1524	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1388	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1404	BEFORE monitor = self->updateMonitor()
2018-08-03 04:42:37        [CALLER]   	Engine::Workflow::updateMonitor	2041	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1408	AFTER XXX monitor = self->updateMonitor()
2018-08-03 04:42:37        [DEBUG]   	Engine::Workflow::setStages	1486	final no. stageobjects: 3
2018-08-03 04:42:37        [GROUPEND]    	Engine::Workflow::setStages	1488	Engine::Workflow::setStages
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::runLocally	798	# stages: 3
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::runLocally	801	BEFORE runStages()

2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::runLocally	803	AFTER runStages    success: 2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages


2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2542	status: completed
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2565	hash: {"username":"testuser","status":"completed","project":"Project1","cluster":undef,"name":"Workflow1"}
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2571	BEFORE _updateTable   hash: {"username":"testuser","status":"completed","project":"Project1","cluster":undef,"name":"Workflow1"}
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2572	self->db: bless( {"backup":0,"user":"","dbfile":"/a/db/sqlite/test.sqlite","log":2,"printlog":2,"oldlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbh":bless( {}, "DBI::db" ),"dbtype":"sqlite","sqlite":"","logtype":"cli","password":"","indent":4,"oldprintlog":2,"database":"aguatest"}, "DBase::SQLite" )
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	success: 1
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2542	status: completed
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2565	hash: {"username":"testuser","status":"completed","project":"Project1","cluster":undef,"name":"Workflow1"}
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2571	BEFORE _updateTable   hash: {"username":"testuser","status":"completed","project":"Project1","cluster":undef,"name":"Workflow1"}
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2572	self->db: bless( {"backup":0,"user":"","dbfile":"/a/db/sqlite/test.sqlite","log":2,"printlog":2,"oldlog":2,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dbh":bless( {}, "DBI::db" ),"dbtype":"sqlite","sqlite":"","logtype":"cli","password":"","indent":4,"oldprintlog":2,"database":"aguatest"}, "DBase::SQLite" )
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::updateWorkflowStatus	2576	success: 1
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	655	uuid: undef
2018-08-03 04:42:37    [DEBUG]   	Engine::Workflow::executeWorkflow	657	addQueueSample success: 2018-08-03 04:42:37    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-03 04:42:37    [GROUPEND]    	Engine::Workflow::executeWorkflow	665	8820 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 04:42:37  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	390	statuses: []
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4","conf":bless( {"memorystore":undef,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","yaml":bless( [], "YAML::Tiny" ),"log":2,"backup":1,"printlog":2,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"memory":1,"valueoffset":24,"oldprintlog":2,"oldlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" )}
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	378	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	382	results: undef
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	385	DOING executeWorkflow()
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: Workflow1
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 04:44:07        [GROUP]    	Engine::Workflow::setStages	1350	Engine::Workflow::setStages
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1351	username: testuser
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1352	cluster: undef
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1353	project: Project1
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1354	workflow: Workflow1
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1355	scheduler: local
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1362	slots: undef
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1369	force: undef
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::checkPrevious	1688	start: 0
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1371	previouscompleted: 1
2018-08-03 04:44:07        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"paramtype":"input","valuetype":"string","value":"","format":"","argument":"--filter","description":"Download only files containing this text fragment","inputParams":"","paramFunction":"","locked":0,"paramname":"filter","workflow":"Workflow1","discretion":"optional","appname":"FTP","workflownumber":1,"args":"","username":"testuser","chained":0,"owner":"aguatest","category":"filter","ordinal":0,"project":"Project1","paramnumber":"1","appnumber":"1"},{"project":"Project1","paramnumber":"2","appnumber":"1","username":"testuser","ordinal":0,"chained":0,"owner":"aguatest","category":"outputdir","workflownumber":1,"args":"","workflow":"Workflow1","paramname":"outputdir","appname":"FTP","discretion":"required","paramFunction":"","locked":0,"inputParams":"","valuetype":"directory","argument":"--outputdir","description":"Create this directory and download files to it","format":"","value":"Project1/Workflow1/downloads","paramtype":"input"},{"username":"testuser","category":"regex","chained":0,"owner":"aguatest","ordinal":0,"project":"Project1","appnumber":"1","paramnumber":"3","paramname":"regex","workflow":"Workflow1","discretion":"optional","appname":"FTP","workflownumber":1,"args":"","inputParams":"","paramFunction":"","locked":0,"paramtype":"input","valuetype":"string","format":"","value":"chr[XYM0-9]+.fa.gz","description":"Download files matching this regular expression","argument":"--regex"},{"format":"","value":"html","argument":"--type","description":"Type of page: html or text","valuetype":"string","paramtype":"input","locked":0,"paramFunction":"","inputParams":"","args":"","workflownumber":1,"discretion":"essential","appname":"FTP","paramname":"type","workflow":"Workflow1","appnumber":"1","paramnumber":"4","project":"Project1","category":"type","chained":0,"owner":"aguatest","ordinal":0,"username":"testuser"},{"category":"url","chained":0,"owner":"aguatest","ordinal":0,"username":"testuser","appnumber":"1","paramnumber":"5","project":"Project1","discretion":"required","appname":"FTP","paramname":"url","workflow":"Workflow1","args":"","workflownumber":1,"inputParams":"","locked":0,"paramFunction":"","paramtype":"input","format":"","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","description":"Download files linked on this page","argument":"--url","valuetype":"string"}]
2018-08-03 04:44:07        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"appname":"unzipFiles","discretion":"optional","workflow":"Workflow1","paramname":"delete","args":"","workflownumber":1,"ordinal":0,"category":"delete","chained":0,"owner":"aguatest","username":"testuser","appnumber":"2","paramnumber":"1","project":"Project1","paramtype":"input","description":" Remove zipped files after unzipping","argument":"--delete","format":"","value":"1","valuetype":"flag","inputParams":"","locked":0,"paramFunction":""},{"valuetype":"string","description":"Unzip only files containing this text fragment","argument":"--filter","value":"","format":"","paramtype":"input","paramFunction":"","locked":0,"inputParams":"","workflownumber":1,"args":"","workflow":"Workflow1","paramname":"filter","appname":"unzipFiles","discretion":"optional","project":"Project1","paramnumber":"2","appnumber":"2","username":"testuser","ordinal":0,"chained":0,"owner":"aguatest","category":"filter"},{"inputParams":"InputParams","paramFunction":"","locked":0,"paramtype":"input","valuetype":"directory","format":"","value":"Project1/Workflow1/downloads","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","argument":"--inputdir","username":"testuser","category":"inputdir","chained":0,"owner":"aguatest","ordinal":0,"project":"Project1","paramnumber":"3","appnumber":"2","paramname":"inputdir","workflow":"Workflow1","discretion":"essential","appname":"unzipFiles","workflownumber":1,"args":"input.outputdir.value"},{"workflownumber":1,"args":"input.outputdir.value","workflow":"Workflow1","paramname":"outputdir","appname":"unzipFiles","discretion":"required","project":"Project1","appnumber":"2","paramnumber":"4","username":"testuser","ordinal":0,"owner":"aguatest","chained":0,"category":"outputdir","valuetype":"directory","argument":"--outputdir","description":"Unzip files to this directory","format":"","value":"Project1/Workflow1/downloads","paramtype":"input","paramFunction":"","locked":0,"inputParams":"InputParams"},{"paramname":"regex","workflow":"Workflow1","discretion":"optional","appname":"unzipFiles","workflownumber":1,"args":"input.regex.value","username":"testuser","chained":1,"owner":"aguatest","category":"filter","ordinal":0,"project":"Project1","paramnumber":"5","appnumber":"2","paramtype":"input","valuetype":"string","format":"","value":"chr[XYM0-9]+.fa.gz","argument":"--regex","description":"Unzip only files matching this regular expression","inputParams":"","paramFunction":"","locked":0},{"project":"Project1","paramnumber":"6","appnumber":"2","username":"testuser","category":"type","chained":0,"owner":"aguatest","ordinal":0,"workflownumber":1,"args":"","paramname":"type","workflow":"Workflow1","discretion":"required","appname":"unzipFiles","paramFunction":"","locked":0,"inputParams":"","valuetype":"string","value":"gunzip","format":"","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","argument":"--type","paramtype":"input"}]
2018-08-03 04:44:07        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"inputParams":"referencedir,outputdir,inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","locked":0,"paramtype":"input","valuetype":"directory","format":"","value":"Project1/Workflow1/reference/fasta","argument":"--inputdir","description":"Location of directory containing *.fa files","username":"testuser","category":"inputdir","chained":0,"owner":"aguatest","ordinal":0,"project":"Project1","paramnumber":"1","appnumber":"3","paramname":"inputdir","workflow":"Workflow1","discretion":"essential","appname":"elandIndex","workflownumber":1,"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value"},{"paramtype":"input","argument":"--outputdir","description":"Print indexed files to this directory","value":"Project1/Workflow1/reference/eland","format":"","valuetype":"directory","inputParams":"referencedir,outputdir,inputdir","locked":0,"paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","appname":"elandIndex","discretion":"required","workflow":"Workflow1","paramname":"outputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","workflownumber":1,"ordinal":0,"chained":0,"owner":"aguatest","category":"outputdir","username":"testuser","appnumber":"3","paramnumber":"2","project":"Project1"},{"paramname":"subdirs","workflow":"Workflow1","discretion":"optional","appname":"elandIndex","workflownumber":1,"args":"input.subdirs.value","username":"testuser","chained":0,"owner":"aguatest","category":"subdirs","ordinal":0,"project":"Project1","paramnumber":"3","appnumber":"3","paramtype":"input","valuetype":"flag","value":"","format":"","description":"","argument":"--subdirs","inputParams":"","paramFunction":"","locked":0}]
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStartStop	1731	# stages: 3
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStartStop	1736	self->start: 1
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStartStop	1737	self->stop: undef
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStartStop	1742	start: 1
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStartStop	1743	stop: 4
2018-08-03 04:44:07        [NOTE]   	Engine::Workflow::setStartStop	1764	8844 Setting start: 1
2018-08-03 04:44:07        [NOTE]   	Engine::Workflow::setStartStop	1765	8844 Setting stop: 4
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1379	start: 1
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1380	stop: 4
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1384	fileroot: /home/testuser/agua
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setFileDirs	1518	fileroot: /home/testuser/agua
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setFileDirs	1519	project: Project1
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setFileDirs	1520	workflow: Workflow1
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setFileDirs	1524	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1388	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1404	BEFORE monitor = self->updateMonitor()
2018-08-03 04:44:07        [CALLER]   	Engine::Workflow::updateMonitor	2041	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1408	AFTER XXX monitor = self->updateMonitor()
2018-08-03 04:44:07        [DEBUG]   	Engine::Workflow::setStages	1486	final no. stageobjects: 3
2018-08-03 04:44:07        [GROUPEND]    	Engine::Workflow::setStages	1488	Engine::Workflow::setStages
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::runLocally	798	# stages: 3
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::runLocally	801	BEFORE runStages()

2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::runLocally	803	AFTER runStages    success: 2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages


2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: Workflow1
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: Workflow1
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	655	uuid: undef
2018-08-03 04:44:07    [DEBUG]   	Engine::Workflow::executeWorkflow	657	addQueueSample success: 2018-08-03 04:44:07    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-03 04:44:07    [GROUPEND]    	Engine::Workflow::executeWorkflow	665	8844 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 04:44:07  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	391	statuses: ["Workflow1","Workflow1","Workflow1"]
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5,"conf":bless( {"logtype":"cli","backup":1,"memorystore":undef,"valueoffset":24,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","yaml":bless( [], "YAML::Tiny" ),"oldprintlog":2,"log":2,"oldlog":2,"indent":4,"printlog":2,"memory":1,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	378	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	382	results: undef
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	385	DOING executeWorkflow()
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: running
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 04:44:22        [GROUP]    	Engine::Workflow::setStages	1350	Engine::Workflow::setStages
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1351	username: testuser
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1352	cluster: undef
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1353	project: Project1
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1354	workflow: Workflow1
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1355	scheduler: local
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1362	slots: undef
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1369	force: undef
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::checkPrevious	1688	start: 0
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1371	previouscompleted: 1
2018-08-03 04:44:22        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"workflownumber":1,"chained":0,"paramFunction":"","description":"Download only files containing this text fragment","category":"filter","paramname":"filter","paramnumber":"1","appnumber":"1","paramtype":"input","argument":"--filter","valuetype":"string","username":"testuser","ordinal":0,"appname":"FTP","workflow":"Workflow1","value":"","locked":0,"format":"","args":"","inputParams":"","owner":"aguatest","discretion":"optional","project":"Project1"},{"argument":"--outputdir","username":"testuser","valuetype":"directory","paramtype":"input","appnumber":"1","paramname":"outputdir","paramnumber":"2","description":"Create this directory and download files to it","category":"outputdir","paramFunction":"","workflownumber":1,"chained":0,"project":"Project1","discretion":"required","owner":"aguatest","inputParams":"","args":"","format":"","value":"Project1/Workflow1/downloads","locked":0,"workflow":"Workflow1","appname":"FTP","ordinal":0},{"paramname":"regex","paramnumber":"3","appnumber":"1","paramtype":"input","argument":"--regex","valuetype":"string","username":"testuser","chained":0,"workflownumber":1,"paramFunction":"","category":"regex","description":"Download files matching this regular expression","value":"chr[XYM0-9]+.fa.gz","locked":0,"args":"","format":"","inputParams":"","owner":"aguatest","discretion":"optional","project":"Project1","ordinal":0,"appname":"FTP","workflow":"Workflow1"},{"paramname":"type","paramnumber":"4","appnumber":"1","paramtype":"input","argument":"--type","username":"testuser","valuetype":"string","chained":0,"workflownumber":1,"paramFunction":"","category":"type","description":"Type of page: html or text","value":"html","locked":0,"args":"","format":"","inputParams":"","owner":"aguatest","discretion":"essential","project":"Project1","ordinal":0,"appname":"FTP","workflow":"Workflow1"},{"description":"Download files linked on this page","category":"url","chained":0,"workflownumber":1,"paramFunction":"","appnumber":"1","paramname":"url","paramnumber":"5","argument":"--url","valuetype":"string","username":"testuser","paramtype":"input","appname":"FTP","ordinal":0,"workflow":"Workflow1","args":"","format":"","locked":0,"value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","discretion":"required","project":"Project1","inputParams":"","owner":"aguatest"}]
2018-08-03 04:44:22        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"workflownumber":1,"chained":0,"paramFunction":"","description":" Remove zipped files after unzipping","category":"delete","paramname":"delete","paramnumber":"1","appnumber":"2","paramtype":"input","argument":"--delete","valuetype":"flag","username":"testuser","ordinal":0,"appname":"unzipFiles","workflow":"Workflow1","locked":0,"value":"1","args":"","format":"","owner":"aguatest","inputParams":"","discretion":"optional","project":"Project1"},{"value":"","locked":0,"args":"","format":"","inputParams":"","owner":"aguatest","project":"Project1","discretion":"optional","ordinal":0,"appname":"unzipFiles","workflow":"Workflow1","paramnumber":"2","paramname":"filter","appnumber":"2","paramtype":"input","valuetype":"string","argument":"--filter","username":"testuser","paramFunction":"","chained":0,"workflownumber":1,"category":"filter","description":"Unzip only files containing this text fragment"},{"paramFunction":"","chained":0,"workflownumber":1,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","category":"inputdir","paramnumber":"3","paramname":"inputdir","appnumber":"2","paramtype":"input","argument":"--inputdir","valuetype":"directory","username":"testuser","ordinal":0,"appname":"unzipFiles","workflow":"Workflow1","value":"Project1/Workflow1/downloads","locked":0,"format":"","args":"input.outputdir.value","owner":"aguatest","inputParams":"InputParams","project":"Project1","discretion":"essential"},{"description":"Unzip files to this directory","category":"outputdir","workflownumber":1,"chained":0,"paramFunction":"","argument":"--outputdir","valuetype":"directory","username":"testuser","paramtype":"input","appnumber":"2","paramnumber":"4","paramname":"outputdir","workflow":"Workflow1","appname":"unzipFiles","ordinal":0,"discretion":"required","project":"Project1","owner":"aguatest","inputParams":"InputParams","format":"","args":"input.outputdir.value","value":"Project1/Workflow1/downloads","locked":0},{"discretion":"optional","project":"Project1","inputParams":"","owner":"aguatest","format":"","args":"input.regex.value","value":"chr[XYM0-9]+.fa.gz","locked":0,"workflow":"Workflow1","appname":"unzipFiles","ordinal":0,"argument":"--regex","valuetype":"string","username":"testuser","paramtype":"input","appnumber":"2","paramnumber":"5","paramname":"regex","category":"filter","description":"Unzip only files matching this regular expression","workflownumber":1,"chained":1,"paramFunction":""},{"format":"","args":"","locked":0,"value":"gunzip","discretion":"required","project":"Project1","owner":"aguatest","inputParams":"","appname":"unzipFiles","ordinal":0,"workflow":"Workflow1","appnumber":"2","paramnumber":"6","paramname":"type","argument":"--type","valuetype":"string","username":"testuser","paramtype":"input","category":"type","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","chained":0,"workflownumber":1,"paramFunction":""}]
2018-08-03 04:44:22        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"description":"Location of directory containing *.fa files","category":"inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","chained":0,"workflownumber":1,"username":"testuser","argument":"--inputdir","valuetype":"directory","paramtype":"input","appnumber":"3","paramnumber":"1","paramname":"inputdir","workflow":"Workflow1","appname":"elandIndex","ordinal":0,"project":"Project1","discretion":"essential","inputParams":"referencedir,outputdir,inputdir","owner":"aguatest","format":"","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","locked":0,"value":"Project1/Workflow1/reference/fasta"},{"paramtype":"input","username":"testuser","argument":"--outputdir","valuetype":"directory","paramnumber":"2","paramname":"outputdir","appnumber":"3","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","workflownumber":1,"chained":0,"category":"outputdir","description":"Print indexed files to this directory","owner":"aguatest","inputParams":"referencedir,outputdir,inputdir","project":"Project1","discretion":"required","locked":0,"value":"Project1/Workflow1/reference/eland","format":"","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","workflow":"Workflow1","ordinal":0,"appname":"elandIndex"},{"argument":"--subdirs","valuetype":"flag","username":"testuser","paramtype":"input","appnumber":"3","paramname":"subdirs","paramnumber":"3","category":"subdirs","description":"","chained":0,"workflownumber":1,"paramFunction":"","discretion":"optional","project":"Project1","owner":"aguatest","inputParams":"","format":"","args":"input.subdirs.value","locked":0,"value":"","workflow":"Workflow1","appname":"elandIndex","ordinal":0}]
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStartStop	1731	# stages: 3
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStartStop	1736	self->start: 1
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStartStop	1737	self->stop: undef
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStartStop	1742	start: 1
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStartStop	1743	stop: 4
2018-08-03 04:44:22        [NOTE]   	Engine::Workflow::setStartStop	1764	8861 Setting start: 1
2018-08-03 04:44:22        [NOTE]   	Engine::Workflow::setStartStop	1765	8861 Setting stop: 4
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1379	start: 1
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1380	stop: 4
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1384	fileroot: /home/testuser/agua
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setFileDirs	1518	fileroot: /home/testuser/agua
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setFileDirs	1519	project: Project1
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setFileDirs	1520	workflow: Workflow1
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setFileDirs	1524	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1388	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1404	BEFORE monitor = self->updateMonitor()
2018-08-03 04:44:22        [CALLER]   	Engine::Workflow::updateMonitor	2041	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1408	AFTER XXX monitor = self->updateMonitor()
2018-08-03 04:44:22        [DEBUG]   	Engine::Workflow::setStages	1486	final no. stageobjects: 3
2018-08-03 04:44:22        [GROUPEND]    	Engine::Workflow::setStages	1488	Engine::Workflow::setStages
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::runLocally	798	# stages: 3
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::runLocally	801	BEFORE runStages()

2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::runLocally	803	AFTER runStages    success: 2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages


2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: completed
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: completed
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	655	uuid: undef
2018-08-03 04:44:22    [DEBUG]   	Engine::Workflow::executeWorkflow	657	addQueueSample success: 2018-08-03 04:44:22    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-03 04:44:22    [GROUPEND]    	Engine::Workflow::executeWorkflow	665	8861 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 04:44:22  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	391	statuses: ["running","completed","completed"]
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"indent":4,"memorystore":undef,"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldlog":2,"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"yaml":bless( [], "YAML::Tiny" ),"printlog":2,"oldprintlog":2,"valueoffset":24,"backup":1,"memory":1,"logtype":"cli","inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"4","printlog":5}
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	378	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	382	results: undef
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	385	DOING executeWorkflow()
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: running
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 04:45:10        [GROUP]    	Engine::Workflow::setStages	1350	Engine::Workflow::setStages
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1351	username: testuser
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1352	cluster: undef
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1353	project: Project1
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1354	workflow: Workflow1
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1355	scheduler: local
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1362	slots: undef
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1369	force: undef
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::checkPrevious	1688	start: 0
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1371	previouscompleted: 1
2018-08-03 04:45:10        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"argument":"--filter","appname":"FTP","description":"Download only files containing this text fragment","workflownumber":1,"username":"testuser","valuetype":"string","ordinal":0,"category":"filter","paramFunction":"","inputParams":"","args":"","discretion":"optional","project":"Project1","appnumber":"1","workflow":"Workflow1","locked":0,"owner":"aguatest","format":"","value":"","paramtype":"input","chained":0,"paramname":"filter","paramnumber":"1"},{"description":"Create this directory and download files to it","workflownumber":1,"argument":"--outputdir","appname":"FTP","valuetype":"directory","username":"testuser","paramFunction":"","category":"outputdir","ordinal":0,"args":"","inputParams":"","project":"Project1","discretion":"required","workflow":"Workflow1","locked":0,"appnumber":"1","format":"","owner":"aguatest","paramnumber":"2","paramtype":"input","chained":0,"paramname":"outputdir","value":"Project1/Workflow1/downloads"},{"username":"testuser","valuetype":"string","appname":"FTP","argument":"--regex","workflownumber":1,"description":"Download files matching this regular expression","args":"","inputParams":"","ordinal":0,"category":"regex","paramFunction":"","appnumber":"1","locked":0,"workflow":"Workflow1","discretion":"optional","project":"Project1","value":"chr[XYM0-9]+.fa.gz","paramname":"regex","chained":0,"paramtype":"input","paramnumber":"3","owner":"aguatest","format":""},{"ordinal":0,"category":"type","paramFunction":"","args":"","inputParams":"","appname":"FTP","argument":"--type","description":"Type of page: html or text","workflownumber":1,"username":"testuser","valuetype":"string","owner":"aguatest","format":"","value":"html","chained":0,"paramname":"type","paramtype":"input","paramnumber":"4","discretion":"essential","project":"Project1","appnumber":"1","workflow":"Workflow1","locked":0},{"args":"","inputParams":"","paramFunction":"","ordinal":0,"category":"url","username":"testuser","valuetype":"string","workflownumber":1,"description":"Download files linked on this page","appname":"FTP","argument":"--url","chained":0,"paramtype":"input","paramname":"url","paramnumber":"5","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","format":"","owner":"aguatest","workflow":"Workflow1","locked":0,"appnumber":"1","project":"Project1","discretion":"required"}]
2018-08-03 04:45:10        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"ordinal":0,"category":"delete","paramFunction":"","inputParams":"","args":"","appname":"unzipFiles","argument":"--delete","description":" Remove zipped files after unzipping","workflownumber":1,"username":"testuser","valuetype":"flag","owner":"aguatest","format":"","value":"1","paramname":"delete","chained":0,"paramtype":"input","paramnumber":"1","discretion":"optional","project":"Project1","appnumber":"2","workflow":"Workflow1","locked":0},{"appname":"unzipFiles","argument":"--filter","description":"Unzip only files containing this text fragment","workflownumber":1,"username":"testuser","valuetype":"string","ordinal":0,"category":"filter","paramFunction":"","inputParams":"","args":"","discretion":"optional","project":"Project1","appnumber":"2","workflow":"Workflow1","locked":0,"owner":"aguatest","format":"","value":"","chained":0,"paramtype":"input","paramname":"filter","paramnumber":"2"},{"owner":"aguatest","format":"","value":"Project1/Workflow1/downloads","paramnumber":"3","paramname":"inputdir","chained":0,"paramtype":"input","discretion":"essential","project":"Project1","appnumber":"2","locked":0,"workflow":"Workflow1","category":"inputdir","ordinal":0,"paramFunction":"","args":"input.outputdir.value","inputParams":"InputParams","appname":"unzipFiles","argument":"--inputdir","workflownumber":1,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","valuetype":"directory","username":"testuser"},{"discretion":"required","project":"Project1","appnumber":"2","locked":0,"workflow":"Workflow1","owner":"aguatest","format":"","value":"Project1/Workflow1/downloads","paramnumber":"4","chained":0,"paramname":"outputdir","paramtype":"input","appname":"unzipFiles","argument":"--outputdir","workflownumber":1,"description":"Unzip files to this directory","valuetype":"directory","username":"testuser","category":"outputdir","ordinal":0,"paramFunction":"","args":"input.outputdir.value","inputParams":"InputParams"},{"appnumber":"2","locked":0,"workflow":"Workflow1","discretion":"optional","project":"Project1","value":"chr[XYM0-9]+.fa.gz","paramnumber":"5","paramname":"regex","chained":1,"paramtype":"input","owner":"aguatest","format":"","valuetype":"string","username":"testuser","appname":"unzipFiles","argument":"--regex","description":"Unzip only files matching this regular expression","workflownumber":1,"inputParams":"","args":"input.regex.value","category":"filter","ordinal":0,"paramFunction":""},{"workflow":"Workflow1","locked":0,"appnumber":"2","project":"Project1","discretion":"required","paramnumber":"6","chained":0,"paramname":"type","paramtype":"input","value":"gunzip","format":"","owner":"aguatest","valuetype":"string","username":"testuser","workflownumber":1,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","appname":"unzipFiles","argument":"--type","inputParams":"","args":"","paramFunction":"","category":"type","ordinal":0}]
2018-08-03 04:45:10        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"appnumber":"3","workflow":"Workflow1","locked":0,"discretion":"essential","project":"Project1","value":"Project1/Workflow1/reference/fasta","chained":0,"paramtype":"input","paramname":"inputdir","paramnumber":"1","owner":"aguatest","format":"","username":"testuser","valuetype":"directory","appname":"elandIndex","argument":"--inputdir","description":"Location of directory containing *.fa files","workflownumber":1,"inputParams":"referencedir,outputdir,inputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","ordinal":0,"category":"inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;"},{"value":"Project1/Workflow1/reference/eland","paramnumber":"2","chained":0,"paramtype":"input","paramname":"outputdir","owner":"aguatest","format":"","appnumber":"3","workflow":"Workflow1","locked":0,"discretion":"required","project":"Project1","inputParams":"referencedir,outputdir,inputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","category":"outputdir","ordinal":0,"paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","valuetype":"directory","username":"testuser","appname":"elandIndex","argument":"--outputdir","description":"Print indexed files to this directory","workflownumber":1},{"valuetype":"flag","username":"testuser","workflownumber":1,"description":"","appname":"elandIndex","argument":"--subdirs","inputParams":"","args":"input.subdirs.value","paramFunction":"","category":"subdirs","ordinal":0,"workflow":"Workflow1","locked":0,"appnumber":"3","project":"Project1","discretion":"optional","paramnumber":"3","chained":0,"paramtype":"input","paramname":"subdirs","value":"","format":"","owner":"aguatest"}]
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStartStop	1731	# stages: 3
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStartStop	1736	self->start: 1
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStartStop	1737	self->stop: undef
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStartStop	1742	start: 1
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStartStop	1743	stop: 4
2018-08-03 04:45:10        [NOTE]   	Engine::Workflow::setStartStop	1764	8882 Setting start: 1
2018-08-03 04:45:10        [NOTE]   	Engine::Workflow::setStartStop	1765	8882 Setting stop: 4
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1379	start: 1
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1380	stop: 4
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1384	fileroot: /home/testuser/agua
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setFileDirs	1518	fileroot: /home/testuser/agua
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setFileDirs	1519	project: Project1
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setFileDirs	1520	workflow: Workflow1
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setFileDirs	1524	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1388	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1404	BEFORE monitor = self->updateMonitor()
2018-08-03 04:45:10        [CALLER]   	Engine::Workflow::updateMonitor	2041	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1408	AFTER XXX monitor = self->updateMonitor()
2018-08-03 04:45:10        [DEBUG]   	Engine::Workflow::setStages	1486	final no. stageobjects: 3
2018-08-03 04:45:10        [GROUPEND]    	Engine::Workflow::setStages	1488	Engine::Workflow::setStages
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::runLocally	798	# stages: 3
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::runLocally	801	BEFORE runStages()

2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::runLocally	803	AFTER runStages    success: 2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages


2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: completed
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: completed
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	655	uuid: undef
2018-08-03 04:45:10    [DEBUG]   	Engine::Workflow::executeWorkflow	657	addQueueSample success: 2018-08-03 04:45:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-03 04:45:10    [GROUPEND]    	Engine::Workflow::executeWorkflow	665	8882 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 04:45:10  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	391	statuses: ["running","completed","completed"]
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"outputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"backup":1,"inputfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"memory":1,"indent":4,"logtype":"cli","log":2,"oldlog":2,"valueoffset":24,"yaml":bless( [], "YAML::Tiny" ),"memorystore":undef}, "Conf::Yaml" ),"printlog":5,"log":"4","dumpfile":"/mnt/repos/agua/agua/aguadev/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /a/db/sqlite/test.sqlite
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	378	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	382	results: undef
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	385	DOING executeWorkflow()
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	555	force: undef
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	558	submit: 1
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	559	username: testuser
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	560	project: Project1
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	561	workflow: Workflow1
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	562	workflownumber: 1
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	563	cluster: undef
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	564	start: 1
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	565	stop: 2
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	566	dryrun: undef
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	567	scheduler: local
2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: running
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	615	DOING self->setStages
2018-08-03 05:13:05        [GROUP]    	Engine::Workflow::setStages	1350	Engine::Workflow::setStages
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1351	username: testuser
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1352	cluster: undef
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1353	project: Project1
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1354	workflow: Workflow1
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1355	scheduler: local
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1362	slots: undef
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1369	force: undef
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::checkPrevious	1688	start: 0
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1371	previouscompleted: 1
2018-08-03 05:13:05        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"format":"","chained":0,"inputParams":"","paramtype":"input","paramnumber":"1","valuetype":"string","appname":"FTP","username":"testuser","appnumber":"1","argument":"--filter","value":"","workflow":"Workflow1","description":"Download only files containing this text fragment","args":"","ordinal":0,"paramname":"filter","owner":"aguatest","locked":0,"discretion":"optional","category":"filter","workflownumber":1,"project":"Project1","paramFunction":""},{"appname":"FTP","valuetype":"directory","format":"","chained":0,"inputParams":"","paramtype":"input","paramnumber":"2","workflow":"Workflow1","args":"","paramname":"outputdir","description":"Create this directory and download files to it","ordinal":0,"owner":"aguatest","appnumber":"1","username":"testuser","argument":"--outputdir","value":"Project1/Workflow1/downloads","locked":0,"discretion":"required","workflownumber":1,"paramFunction":"","project":"Project1","category":"outputdir"},{"valuetype":"string","appname":"FTP","format":"","inputParams":"","chained":0,"paramnumber":"3","paramtype":"input","workflow":"Workflow1","paramname":"regex","args":"","description":"Download files matching this regular expression","ordinal":0,"owner":"aguatest","username":"testuser","appnumber":"1","argument":"--regex","value":"chr[XYM0-9]+.fa.gz","locked":0,"discretion":"optional","workflownumber":1,"paramFunction":"","project":"Project1","category":"regex"},{"paramnumber":"4","paramtype":"input","inputParams":"","chained":0,"format":"","appname":"FTP","valuetype":"string","value":"html","username":"testuser","appnumber":"1","argument":"--type","owner":"aguatest","paramname":"type","args":"","description":"Type of page: html or text","ordinal":0,"workflow":"Workflow1","discretion":"essential","locked":0,"category":"type","project":"Project1","paramFunction":"","workflownumber":1},{"format":"","chained":0,"inputParams":"","paramnumber":"5","paramtype":"input","valuetype":"string","appname":"FTP","username":"testuser","appnumber":"1","argument":"--url","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","workflow":"Workflow1","description":"Download files linked on this page","args":"","ordinal":0,"paramname":"url","owner":"aguatest","locked":0,"discretion":"required","category":"url","workflownumber":1,"project":"Project1","paramFunction":""}]
2018-08-03 05:13:05        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"args":"","ordinal":0,"description":" Remove zipped files after unzipping","paramname":"delete","workflow":"Workflow1","owner":"aguatest","value":"1","argument":"--delete","username":"testuser","appnumber":"2","valuetype":"flag","appname":"unzipFiles","format":"","paramtype":"input","paramnumber":"1","chained":0,"inputParams":"","project":"Project1","paramFunction":"","workflownumber":1,"category":"delete","locked":0,"discretion":"optional"},{"discretion":"optional","locked":0,"category":"filter","workflownumber":1,"project":"Project1","paramFunction":"","chained":0,"inputParams":"","paramnumber":"2","paramtype":"input","format":"","appname":"unzipFiles","valuetype":"string","appnumber":"2","username":"testuser","argument":"--filter","value":"","owner":"aguatest","workflow":"Workflow1","paramname":"filter","args":"","description":"Unzip only files containing this text fragment","ordinal":0},{"category":"inputdir","paramFunction":"","project":"Project1","workflownumber":1,"discretion":"essential","locked":0,"value":"Project1/Workflow1/downloads","appnumber":"2","username":"testuser","argument":"--inputdir","owner":"aguatest","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","args":"input.outputdir.value","ordinal":0,"paramname":"inputdir","workflow":"Workflow1","paramtype":"input","paramnumber":"3","chained":0,"inputParams":"InputParams","format":"","valuetype":"directory","appname":"unzipFiles"},{"description":"Unzip files to this directory","args":"input.outputdir.value","paramname":"outputdir","ordinal":0,"workflow":"Workflow1","owner":"aguatest","value":"Project1/Workflow1/downloads","username":"testuser","appnumber":"2","argument":"--outputdir","valuetype":"directory","appname":"unzipFiles","format":"","paramtype":"input","paramnumber":"4","inputParams":"InputParams","chained":0,"project":"Project1","paramFunction":"","workflownumber":1,"category":"outputdir","locked":0,"discretion":"required"},{"appname":"unzipFiles","valuetype":"string","paramtype":"input","paramnumber":"5","inputParams":"","chained":1,"format":"","owner":"aguatest","args":"input.regex.value","ordinal":0,"description":"Unzip only files matching this regular expression","paramname":"regex","workflow":"Workflow1","value":"chr[XYM0-9]+.fa.gz","username":"testuser","argument":"--regex","appnumber":"2","discretion":"optional","locked":0,"paramFunction":"","project":"Project1","workflownumber":1,"category":"filter"},{"chained":0,"inputParams":"","paramtype":"input","paramnumber":"6","format":"","valuetype":"string","appname":"unzipFiles","username":"testuser","appnumber":"2","argument":"--type","value":"gunzip","owner":"aguatest","workflow":"Workflow1","args":"","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","paramname":"type","ordinal":0,"discretion":"required","locked":0,"category":"type","workflownumber":1,"project":"Project1","paramFunction":""}]
2018-08-03 05:13:05        [NOTE]   	Engine::Workflow::setStageParameters	1723	stageparameters: [{"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","ordinal":0,"description":"Location of directory containing *.fa files","paramname":"inputdir","workflow":"Workflow1","owner":"aguatest","value":"Project1/Workflow1/reference/fasta","username":"testuser","argument":"--inputdir","appnumber":"3","appname":"elandIndex","valuetype":"directory","format":"","paramnumber":"1","paramtype":"input","chained":0,"inputParams":"referencedir,outputdir,inputdir","project":"Project1","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","workflownumber":1,"category":"inputdir","locked":0,"discretion":"essential"},{"workflow":"Workflow1","description":"Print indexed files to this directory","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramname":"outputdir","ordinal":0,"owner":"aguatest","argument":"--outputdir","username":"testuser","appnumber":"3","value":"Project1/Workflow1/reference/eland","valuetype":"directory","appname":"elandIndex","format":"","inputParams":"referencedir,outputdir,inputdir","chained":0,"paramtype":"input","paramnumber":"2","workflownumber":1,"project":"Project1","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","category":"outputdir","locked":0,"discretion":"required"},{"discretion":"optional","locked":0,"workflownumber":1,"paramFunction":"","project":"Project1","category":"subdirs","valuetype":"flag","appname":"elandIndex","chained":0,"inputParams":"","paramtype":"input","paramnumber":"3","format":"","owner":"aguatest","workflow":"Workflow1","description":"","args":"input.subdirs.value","ordinal":0,"paramname":"subdirs","appnumber":"3","username":"testuser","argument":"--subdirs","value":""}]
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStartStop	1731	# stages: 3
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStartStop	1736	self->start: 1
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStartStop	1737	self->stop: undef
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStartStop	1742	start: 1
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStartStop	1743	stop: 4
2018-08-03 05:13:05        [NOTE]   	Engine::Workflow::setStartStop	1764	10894 Setting start: 1
2018-08-03 05:13:05        [NOTE]   	Engine::Workflow::setStartStop	1765	10894 Setting stop: 4
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1379	start: 1
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1380	stop: 4
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1384	fileroot: /home/testuser/agua
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setFileDirs	1518	fileroot: /home/testuser/agua
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setFileDirs	1519	project: Project1
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setFileDirs	1520	workflow: Workflow1
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setFileDirs	1524	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1388	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setEnvar	195	customvars: undef
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setEnvar	196	envarsub: undef
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1404	BEFORE monitor = self->updateMonitor()
2018-08-03 05:13:05        [CALLER]   	Engine::Workflow::updateMonitor	2041	caller: Engine::Workflow::setStages	616	scheduler: local
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1408	AFTER XXX monitor = self->updateMonitor()
2018-08-03 05:13:05        [DEBUG]   	Engine::Workflow::setStages	1486	final no. stageobjects: 3
2018-08-03 05:13:05        [GROUPEND]    	Engine::Workflow::setStages	1488	Engine::Workflow::setStages
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	617	no. stages: 3
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	630	DOING self->runLocally
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::runLocally	798	# stages: 3
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::runLocally	801	BEFORE runStages()

2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::runLocally	803	AFTER runStages    success: 2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages


2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: completed
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	643	success: 2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: completed
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	655	uuid: undef
2018-08-03 05:13:05    [DEBUG]   	Engine::Workflow::executeWorkflow	657	addQueueSample success: 2018-08-03 05:13:05    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-03 05:13:05    [GROUPEND]    	Engine::Workflow::executeWorkflow	665	10894 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-03 05:13:05  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	391	statuses: ["running","completed","completed"]
2018-08-15 23:25:44    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","oldprintlog":2,"log":2,"outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"memory":1,"memorystore":undef,"valueoffset":24,"oldlog":2,"backup":1,"indent":4,"printlog":2}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":2,"printlog":5}
2018-08-15 23:25:44    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-15 23:25:44    [DEBUG]   	Engine::Workflow::setDbObject	261	database: undef
2018-08-15 23:25:44    [DEBUG]   	Engine::Workflow::setDbObject	262	user: undef
2018-08-15 23:25:44    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-15 23:25:44    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /
2018-08-15 23:30:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"yaml":bless( [], "YAML::Tiny" ),"indent":4,"log":2,"valueoffset":24,"memorystore":undef,"oldlog":2,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2,"memory":1,"oldprintlog":2,"logtype":"cli","inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"log":2,"dumpfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","printlog":5}
2018-08-15 23:30:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-15 23:30:02    [DEBUG]   	Engine::Workflow::setDbObject	261	database: undef
2018-08-15 23:30:02    [DEBUG]   	Engine::Workflow::setDbObject	262	user: undef
2018-08-15 23:30:02    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-15 23:30:02    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /
2018-08-15 23:31:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"log":2,"conf":bless( {"outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" ),"oldprintlog":2,"oldlog":2,"printlog":2,"backup":1,"memorystore":undef,"log":2,"valueoffset":24,"memory":1,"logtype":"cli","indent":4,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump"}
2018-08-15 23:31:41    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-15 23:31:41    [DEBUG]   	Engine::Workflow::setDbObject	261	database: undef
2018-08-15 23:31:41    [DEBUG]   	Engine::Workflow::setDbObject	262	user: undef
2018-08-15 23:31:41    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-15 23:31:41    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /
2018-08-15 23:32:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"memorystore":undef,"logtype":"cli","indent":4,"log":2,"memory":1,"outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","valueoffset":24,"oldprintlog":2,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"yaml":bless( [], "YAML::Tiny" ),"backup":1,"oldlog":2}, "Conf::Yaml" ),"dumpfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":2,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5}
2018-08-15 23:32:13    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-15 23:32:13    [DEBUG]   	Engine::Workflow::setDbObject	261	database: undef
2018-08-15 23:32:13    [DEBUG]   	Engine::Workflow::setDbObject	262	user: undef
2018-08-15 23:32:13    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-15 23:32:13    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /
2018-08-15 23:32:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":2,"printlog":5,"dumpfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"memory":1,"outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"indent":4,"logtype":"cli","yaml":bless( [], "YAML::Tiny" ),"backup":1,"oldprintlog":2,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":2,"valueoffset":24,"memorystore":undef,"oldlog":2}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-15 23:32:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-15 23:32:24    [DEBUG]   	Engine::Workflow::setDbObject	261	database: undef
2018-08-15 23:32:24    [DEBUG]   	Engine::Workflow::setDbObject	262	user: undef
2018-08-15 23:32:24    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-15 23:32:24    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /
2018-08-15 23:32:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"dumpfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","log":"5","conf":bless( {"oldlog":2,"log":2,"memory":1,"inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"yaml":bless( [], "YAML::Tiny" ),"outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memorystore":undef,"printlog":2,"indent":4,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","valueoffset":24,"logtype":"cli","oldprintlog":2}, "Conf::Yaml" ),"printlog":5,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-15 23:32:42    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-15 23:32:42    [DEBUG]   	Engine::Workflow::setDbObject	261	database: undef
2018-08-15 23:32:42    [DEBUG]   	Engine::Workflow::setDbObject	262	user: undef
2018-08-15 23:32:42    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-15 23:32:42    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /
2018-08-15 23:45:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"dumpfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"oldlog":2,"log":2,"indent":4,"backup":1,"memory":1,"valueoffset":24,"printlog":2,"memorystore":undef,"outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2,"logtype":"cli","logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","yaml":bless( [], "YAML::Tiny" )}, "Conf::Yaml" ),"log":"5"}
2018-08-15 23:45:45    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-15 23:45:45    [DEBUG]   	Engine::Workflow::setDbObject	261	database: undef
2018-08-15 23:45:45    [DEBUG]   	Engine::Workflow::setDbObject	262	user: undef
2018-08-15 23:45:45    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-15 23:45:45    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /f/
2018-08-15 23:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"5","printlog":5,"dumpfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"indent":4,"printlog":2,"inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","valueoffset":24,"outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"yaml":bless( [], "YAML::Tiny" ),"memorystore":undef,"logtype":"cli","oldprintlog":2,"oldlog":2,"backup":1}, "Conf::Yaml" )}
2018-08-15 23:50:10    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-15 23:50:10    [DEBUG]   	Engine::Workflow::setDbObject	261	database: undef
2018-08-15 23:50:10    [DEBUG]   	Engine::Workflow::setDbObject	262	user: undef
2018-08-15 23:50:10    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-15 23:50:10    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /f/
2018-08-15 23:51:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"log":"5","logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","dumpfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../dump/create.dump","conf":bless( {"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","indent":4,"valueoffset":24,"yaml":bless( [], "YAML::Tiny" ),"inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldlog":2,"memory":1,"printlog":2,"memorystore":undef,"oldprintlog":2,"logtype":"cli","outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"log":2}, "Conf::Yaml" )}
2018-08-15 23:51:04    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-15 23:51:04    [DEBUG]   	Engine::Workflow::setDbObject	261	database: aguatest
2018-08-15 23:51:04    [DEBUG]   	Engine::Workflow::setDbObject	262	user: agua
2018-08-15 23:51:04    [DEBUG]   	Engine::Workflow::setDbObject	263	dbtype: SQLite
2018-08-15 23:51:04    [DEBUG]   	Engine::Workflow::setDbObject	264	dbfile: /f/db/sqlite/test.sqlite
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"4","printlog":5,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"logtype":"cli","memory":1,"backup":1,"valueoffset":24,"oldlog":2,"yaml":bless( [], "YAML::Tiny" ),"oldprintlog":2,"indent":4,"memorystore":undef,"printlog":2,"log":2,"inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml"}, "Conf::Yaml" )}
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-16 06:45:02    [DEBUG]   	Engine::Workflow::setDbObject	279	database: aguatest
2018-08-16 06:45:02    [DEBUG]   	Engine::Workflow::setDbObject	280	user: agua
2018-08-16 06:45:02    [DEBUG]   	Engine::Workflow::setDbObject	281	dbtype: SQLite
2018-08-16 06:45:02    [DEBUG]   	Engine::Workflow::setDbObject	282	dbfile: /f/db/test.sqlite
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-16 06:45:02    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-16 06:45:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"5","printlog":5,"conf":bless( {"valueoffset":24,"inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"oldprintlog":2,"log":2,"memorystore":undef,"memory":1,"outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","logtype":"cli","indent":4,"yaml":bless( [], "YAML::Tiny" ),"backup":1,"oldlog":2,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}, "Conf::Yaml" )}
2018-08-16 06:45:23    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-16 06:45:23    [DEBUG]   	Engine::Workflow::setDbObject	279	database: aguatest
2018-08-16 06:45:23    [DEBUG]   	Engine::Workflow::setDbObject	280	user: agua
2018-08-16 06:45:23    [DEBUG]   	Engine::Workflow::setDbObject	281	dbtype: SQLite
2018-08-16 06:45:23    [DEBUG]   	Engine::Workflow::setDbObject	282	dbfile: /f/db/test.sqlite
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-16 06:45:24    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"log":"5","conf":bless( {"logtype":"cli","yaml":bless( [], "YAML::Tiny" ),"oldprintlog":2,"log":2,"outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memorystore":undef,"backup":1,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"printlog":2,"oldlog":2,"valueoffset":24,"memory":1}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-16 06:45:31    [DEBUG]   	Engine::Workflow::setDbObject	279	database: aguatest
2018-08-16 06:45:31    [DEBUG]   	Engine::Workflow::setDbObject	280	user: agua
2018-08-16 06:45:31    [DEBUG]   	Engine::Workflow::setDbObject	281	dbtype: SQLite
2018-08-16 06:45:31    [DEBUG]   	Engine::Workflow::setDbObject	282	dbfile: /f/db/test.sqlite
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-16 06:45:31    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"conf":bless( {"inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","indent":4,"outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","log":2,"valueoffset":24,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","backup":1,"oldprintlog":2,"printlog":2,"memory":1,"oldlog":2,"yaml":bless( [], "YAML::Tiny" ),"memorystore":undef,"logtype":"cli"}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","log":"5"}
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::setDbObject	279	database: aguatest
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::setDbObject	280	user: agua
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::setDbObject	281	dbtype: SQLite
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::setDbObject	282	dbfile: /f/db/test.sqlite
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	378	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	382	results: undef
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	385	DOING executeWorkflow()
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	573	force: undef
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	576	submit: 1
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	577	username: testuser
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	578	project: Project1
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	579	workflow: Workflow1
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	580	workflownumber: 1
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	581	cluster: undef
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	582	start: 1
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	583	stop: 2
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	584	dryrun: undef
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	585	scheduler: local
2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: running
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	633	DOING self->setStages
2018-08-16 06:49:25        [GROUP]    	Engine::Workflow::setStages	1368	Engine::Workflow::setStages
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1369	username: testuser
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1370	cluster: undef
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1371	project: Project1
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1372	workflow: Workflow1
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1373	scheduler: local
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1380	slots: undef
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1387	force: undef
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::checkPrevious	1706	start: 0
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1389	previouscompleted: 1
2018-08-16 06:49:25        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"project":"Project1","appnumber":"1","chained":0,"args":"","value":"","argument":"--filter","paramtype":"input","inputParams":"","owner":"aguatest","valuetype":"string","discretion":"optional","workflow":"Workflow1","ordinal":0,"category":"filter","description":"Download only files containing this text fragment","locked":0,"format":"","paramnumber":"1","paramname":"filter","appname":"FTP","workflownumber":1,"paramFunction":"","username":"testuser"},{"locked":0,"format":"","description":"Create this directory and download files to it","category":"outputdir","paramnumber":"2","workflownumber":1,"appname":"FTP","paramname":"outputdir","username":"testuser","paramFunction":"","args":"","chained":0,"project":"Project1","appnumber":"1","argument":"--outputdir","paramtype":"input","value":"Project1/Workflow1/downloads","valuetype":"directory","owner":"aguatest","inputParams":"","ordinal":0,"discretion":"required","workflow":"Workflow1"},{"discretion":"optional","workflow":"Workflow1","ordinal":0,"owner":"aguatest","valuetype":"string","inputParams":"","paramtype":"input","argument":"--regex","value":"chr[XYM0-9]+.fa.gz","args":"","appnumber":"1","project":"Project1","chained":0,"paramFunction":"","username":"testuser","workflownumber":1,"appname":"FTP","paramname":"regex","paramnumber":"3","format":"","locked":0,"category":"regex","description":"Download files matching this regular expression"},{"ordinal":0,"discretion":"essential","workflow":"Workflow1","valuetype":"string","owner":"aguatest","inputParams":"","argument":"--type","paramtype":"input","value":"html","args":"","chained":0,"appnumber":"1","project":"Project1","username":"testuser","paramFunction":"","workflownumber":1,"appname":"FTP","paramname":"type","paramnumber":"4","locked":0,"format":"","description":"Type of page: html or text","category":"type"},{"args":"","project":"Project1","appnumber":"1","chained":0,"argument":"--url","paramtype":"input","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","owner":"aguatest","valuetype":"string","inputParams":"","discretion":"required","workflow":"Workflow1","ordinal":0,"format":"","locked":0,"category":"url","description":"Download files linked on this page","paramnumber":"5","workflownumber":1,"paramname":"url","appname":"FTP","paramFunction":"","username":"testuser"}]
2018-08-16 06:49:25        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"paramnumber":"1","locked":0,"format":"","category":"delete","description":" Remove zipped files after unzipping","paramFunction":"","username":"testuser","workflownumber":1,"appname":"unzipFiles","paramname":"delete","argument":"--delete","paramtype":"input","value":"1","args":"","project":"Project1","appnumber":"2","chained":0,"discretion":"optional","workflow":"Workflow1","ordinal":0,"owner":"aguatest","valuetype":"flag","inputParams":""},{"discretion":"optional","workflow":"Workflow1","ordinal":0,"owner":"aguatest","valuetype":"string","inputParams":"","argument":"--filter","paramtype":"input","value":"","args":"","appnumber":"2","project":"Project1","chained":0,"paramFunction":"","username":"testuser","workflownumber":1,"paramname":"filter","appname":"unzipFiles","paramnumber":"2","locked":0,"format":"","category":"filter","description":"Unzip only files containing this text fragment"},{"valuetype":"directory","owner":"aguatest","inputParams":"InputParams","ordinal":0,"discretion":"essential","workflow":"Workflow1","args":"input.outputdir.value","chained":0,"project":"Project1","appnumber":"2","argument":"--inputdir","paramtype":"input","value":"Project1/Workflow1/downloads","workflownumber":1,"appname":"unzipFiles","paramname":"inputdir","paramFunction":"","username":"testuser","locked":0,"format":"","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","category":"inputdir","paramnumber":"3"},{"argument":"--outputdir","paramtype":"input","value":"Project1/Workflow1/downloads","args":"input.outputdir.value","appnumber":"2","project":"Project1","chained":0,"workflow":"Workflow1","discretion":"required","ordinal":0,"owner":"aguatest","valuetype":"directory","inputParams":"InputParams","paramnumber":"4","format":"","locked":0,"category":"outputdir","description":"Unzip files to this directory","paramFunction":"","username":"testuser","workflownumber":1,"appname":"unzipFiles","paramname":"outputdir"},{"discretion":"optional","workflow":"Workflow1","ordinal":0,"owner":"aguatest","valuetype":"string","inputParams":"","paramtype":"input","argument":"--regex","value":"chr[XYM0-9]+.fa.gz","args":"input.regex.value","project":"Project1","appnumber":"2","chained":1,"paramFunction":"","username":"testuser","workflownumber":1,"paramname":"regex","appname":"unzipFiles","paramnumber":"5","format":"","locked":0,"category":"filter","description":"Unzip only files matching this regular expression"},{"appnumber":"2","project":"Project1","chained":0,"args":"","value":"gunzip","argument":"--type","paramtype":"input","inputParams":"","owner":"aguatest","valuetype":"string","workflow":"Workflow1","discretion":"required","ordinal":0,"category":"type","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","locked":0,"format":"","paramnumber":"6","appname":"unzipFiles","paramname":"type","workflownumber":1,"username":"testuser","paramFunction":""}]
2018-08-16 06:49:25        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"argument":"--inputdir","paramtype":"input","value":"Project1/Workflow1/reference/fasta","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","chained":0,"appnumber":"3","project":"Project1","ordinal":0,"discretion":"essential","workflow":"Workflow1","valuetype":"directory","owner":"aguatest","inputParams":"referencedir,outputdir,inputdir","paramnumber":"1","format":"","locked":0,"description":"Location of directory containing *.fa files","category":"inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","username":"testuser","workflownumber":1,"paramname":"inputdir","appname":"elandIndex"},{"paramtype":"input","argument":"--outputdir","value":"Project1/Workflow1/reference/eland","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","project":"Project1","appnumber":"3","chained":0,"workflow":"Workflow1","discretion":"required","ordinal":0,"owner":"aguatest","valuetype":"directory","inputParams":"referencedir,outputdir,inputdir","paramnumber":"2","locked":0,"format":"","category":"outputdir","description":"Print indexed files to this directory","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","username":"testuser","workflownumber":1,"paramname":"outputdir","appname":"elandIndex"},{"inputParams":"","valuetype":"flag","owner":"aguatest","ordinal":0,"discretion":"optional","workflow":"Workflow1","chained":0,"project":"Project1","appnumber":"3","args":"input.subdirs.value","value":"","paramtype":"input","argument":"--subdirs","appname":"elandIndex","paramname":"subdirs","workflownumber":1,"paramFunction":"","username":"testuser","description":"","category":"subdirs","locked":0,"format":"","paramnumber":"3"}]
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStartStop	1749	# stages: 3
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->start: 1
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStartStop	1755	self->stop: undef
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStartStop	1760	start: 1
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStartStop	1761	stop: 4
2018-08-16 06:49:25        [NOTE]   	Engine::Workflow::setStartStop	1782	25808 Setting start: 1
2018-08-16 06:49:25        [NOTE]   	Engine::Workflow::setStartStop	1783	25808 Setting stop: 4
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1397	start: 1
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1398	stop: 4
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1402	fileroot: /home/testuser/agua
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setFileDirs	1536	fileroot: /home/testuser/agua
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setFileDirs	1537	project: Project1
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setFileDirs	1538	workflow: Workflow1
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setFileDirs	1542	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1406	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setEnvar	196	customvars: undef
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setEnvar	197	envarsub: undef
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1422	BEFORE monitor = self->updateMonitor()
2018-08-16 06:49:25        [CALLER]   	Engine::Workflow::updateMonitor	2059	caller: Engine::Workflow::setStages	634	scheduler: local
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1426	AFTER XXX monitor = self->updateMonitor()
2018-08-16 06:49:25        [DEBUG]   	Engine::Workflow::setStages	1504	final no. stageobjects: 3
2018-08-16 06:49:25        [GROUPEND]    	Engine::Workflow::setStages	1506	Engine::Workflow::setStages
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	635	no. stages: 3
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	648	DOING self->runLocally
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::runLocally	816	# stages: 3
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::runLocally	819	BEFORE runStages()

2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::runLocally	821	AFTER runStages    success: 2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages


2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: completed
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	661	success: 2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: completed
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	673	uuid: undef
2018-08-16 06:49:25    [DEBUG]   	Engine::Workflow::executeWorkflow	675	addQueueSample success: 2018-08-16 06:49:25    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-16 06:49:25    [GROUPEND]    	Engine::Workflow::executeWorkflow	683	25808 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-16 06:49:25  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	391	statuses: ["running","completed","completed"]
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"conf":bless( {"oldprintlog":2,"indent":4,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","memorystore":undef,"logtype":"cli","oldlog":2,"yaml":bless( [], "YAML::Tiny" ),"outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","backup":1,"memory":1,"inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"log":2,"valueoffset":24}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","printlog":5,"log":"1"}
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::setDbObject	279	database: aguatest
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::setDbObject	280	user: agua
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::setDbObject	281	dbtype: SQLite
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::setDbObject	282	dbfile: /f/db/test.sqlite
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	378	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	382	results: undef
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	385	DOING executeWorkflow()
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	573	force: undef
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	576	submit: 1
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	577	username: testuser
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	578	project: Project1
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	579	workflow: Workflow1
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	580	workflownumber: 1
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	581	cluster: undef
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	582	start: 1
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	583	stop: 2
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	584	dryrun: undef
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	585	scheduler: local
2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: running
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	633	DOING self->setStages
2018-08-16 06:49:32        [GROUP]    	Engine::Workflow::setStages	1368	Engine::Workflow::setStages
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1369	username: testuser
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1370	cluster: undef
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1371	project: Project1
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1372	workflow: Workflow1
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1373	scheduler: local
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1380	slots: undef
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1387	force: undef
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::checkPrevious	1706	start: 0
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1389	previouscompleted: 1
2018-08-16 06:49:32        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"paramnumber":"1","appnumber":"1","discretion":"optional","paramFunction":"","argument":"--filter","inputParams":"","chained":0,"valuetype":"string","args":"","project":"Project1","locked":0,"description":"Download only files containing this text fragment","paramtype":"input","username":"testuser","category":"filter","appname":"FTP","workflow":"Workflow1","value":"","ordinal":0,"format":"","owner":"aguatest","workflownumber":1,"paramname":"filter"},{"username":"testuser","paramtype":"input","category":"outputdir","description":"Create this directory and download files to it","locked":0,"project":"Project1","chained":0,"valuetype":"directory","args":"","paramFunction":"","inputParams":"","argument":"--outputdir","paramnumber":"2","appnumber":"1","discretion":"required","paramname":"outputdir","workflownumber":1,"owner":"aguatest","format":"","value":"Project1/Workflow1/downloads","workflow":"Workflow1","ordinal":0,"appname":"FTP"},{"format":"","appname":"FTP","workflow":"Workflow1","value":"chr[XYM0-9]+.fa.gz","ordinal":0,"workflownumber":1,"paramname":"regex","owner":"aguatest","chained":0,"valuetype":"string","args":"","paramnumber":"3","discretion":"optional","appnumber":"1","paramFunction":"","inputParams":"","argument":"--regex","description":"Download files matching this regular expression","paramtype":"input","username":"testuser","category":"regex","project":"Project1","locked":0},{"appname":"FTP","workflow":"Workflow1","value":"html","ordinal":0,"format":"","owner":"aguatest","workflownumber":1,"paramname":"type","paramnumber":"4","appnumber":"1","discretion":"essential","argument":"--type","paramFunction":"","inputParams":"","valuetype":"string","chained":0,"args":"","project":"Project1","locked":0,"description":"Type of page: html or text","paramtype":"input","username":"testuser","category":"type"},{"workflow":"Workflow1","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","ordinal":0,"appname":"FTP","format":"","owner":"aguatest","paramname":"url","workflownumber":1,"paramFunction":"","argument":"--url","inputParams":"","paramnumber":"5","discretion":"required","appnumber":"1","valuetype":"string","chained":0,"args":"","locked":0,"project":"Project1","paramtype":"input","username":"testuser","category":"url","description":"Download files linked on this page"}]
2018-08-16 06:49:32        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"locked":0,"project":"Project1","description":" Remove zipped files after unzipping","category":"delete","paramtype":"input","username":"testuser","appnumber":"2","discretion":"optional","paramnumber":"1","argument":"--delete","paramFunction":"","inputParams":"","args":"","valuetype":"flag","chained":0,"owner":"aguatest","workflownumber":1,"paramname":"delete","appname":"unzipFiles","ordinal":0,"value":"1","workflow":"Workflow1","format":""},{"project":"Project1","locked":0,"category":"filter","paramtype":"input","username":"testuser","description":"Unzip only files containing this text fragment","inputParams":"","paramFunction":"","argument":"--filter","discretion":"optional","appnumber":"2","paramnumber":"2","args":"","chained":0,"valuetype":"string","owner":"aguatest","paramname":"filter","workflownumber":1,"ordinal":0,"workflow":"Workflow1","value":"","appname":"unzipFiles","format":""},{"paramname":"inputdir","workflownumber":1,"owner":"aguatest","format":"","value":"Project1/Workflow1/downloads","workflow":"Workflow1","ordinal":0,"appname":"unzipFiles","paramtype":"input","username":"testuser","category":"inputdir","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","locked":0,"project":"Project1","valuetype":"directory","chained":0,"args":"input.outputdir.value","argument":"--inputdir","paramFunction":"","inputParams":"InputParams","paramnumber":"3","appnumber":"2","discretion":"essential"},{"owner":"aguatest","paramname":"outputdir","workflownumber":1,"workflow":"Workflow1","value":"Project1/Workflow1/downloads","ordinal":0,"appname":"unzipFiles","format":"","locked":0,"project":"Project1","paramtype":"input","username":"testuser","category":"outputdir","description":"Unzip files to this directory","inputParams":"InputParams","paramFunction":"","argument":"--outputdir","paramnumber":"4","appnumber":"2","discretion":"required","valuetype":"directory","chained":0,"args":"input.outputdir.value"},{"appname":"unzipFiles","value":"chr[XYM0-9]+.fa.gz","workflow":"Workflow1","ordinal":0,"format":"","owner":"aguatest","workflownumber":1,"paramname":"regex","paramnumber":"5","discretion":"optional","appnumber":"2","paramFunction":"","argument":"--regex","inputParams":"","valuetype":"string","chained":1,"args":"input.regex.value","locked":0,"project":"Project1","description":"Unzip only files matching this regular expression","username":"testuser","paramtype":"input","category":"filter"},{"args":"","valuetype":"string","chained":0,"inputParams":"","paramFunction":"","argument":"--type","appnumber":"2","discretion":"required","paramnumber":"6","category":"type","paramtype":"input","username":"testuser","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","locked":0,"project":"Project1","format":"","ordinal":0,"workflow":"Workflow1","value":"gunzip","appname":"unzipFiles","paramname":"type","workflownumber":1,"owner":"aguatest"}]
2018-08-16 06:49:32        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"workflownumber":1,"paramname":"inputdir","owner":"aguatest","format":"","appname":"elandIndex","workflow":"Workflow1","value":"Project1/Workflow1/reference/fasta","ordinal":0,"description":"Location of directory containing *.fa files","paramtype":"input","username":"testuser","category":"inputdir","locked":0,"project":"Project1","valuetype":"directory","chained":0,"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramnumber":"1","discretion":"essential","appnumber":"3","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","inputParams":"referencedir,outputdir,inputdir","argument":"--inputdir"},{"workflow":"Workflow1","value":"Project1/Workflow1/reference/eland","ordinal":0,"appname":"elandIndex","format":"","owner":"aguatest","paramname":"outputdir","workflownumber":1,"paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","argument":"--outputdir","inputParams":"referencedir,outputdir,inputdir","paramnumber":"2","appnumber":"3","discretion":"required","valuetype":"directory","chained":0,"args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","locked":0,"project":"Project1","paramtype":"input","username":"testuser","category":"outputdir","description":"Print indexed files to this directory"},{"paramFunction":"","inputParams":"","argument":"--subdirs","discretion":"optional","appnumber":"3","paramnumber":"3","args":"input.subdirs.value","chained":0,"valuetype":"flag","locked":0,"project":"Project1","category":"subdirs","paramtype":"input","username":"testuser","description":"","ordinal":0,"value":"","workflow":"Workflow1","appname":"elandIndex","format":"","owner":"aguatest","paramname":"subdirs","workflownumber":1}]
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStartStop	1749	# stages: 3
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->start: 1
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStartStop	1755	self->stop: undef
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStartStop	1760	start: 1
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStartStop	1761	stop: 4
2018-08-16 06:49:32        [NOTE]   	Engine::Workflow::setStartStop	1782	25823 Setting start: 1
2018-08-16 06:49:32        [NOTE]   	Engine::Workflow::setStartStop	1783	25823 Setting stop: 4
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1397	start: 1
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1398	stop: 4
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1402	fileroot: /home/testuser/agua
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setFileDirs	1536	fileroot: /home/testuser/agua
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setFileDirs	1537	project: Project1
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setFileDirs	1538	workflow: Workflow1
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setFileDirs	1542	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1406	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setEnvar	196	customvars: undef
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setEnvar	197	envarsub: undef
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1422	BEFORE monitor = self->updateMonitor()
2018-08-16 06:49:32        [CALLER]   	Engine::Workflow::updateMonitor	2059	caller: Engine::Workflow::setStages	634	scheduler: local
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1426	AFTER XXX monitor = self->updateMonitor()
2018-08-16 06:49:32        [DEBUG]   	Engine::Workflow::setStages	1504	final no. stageobjects: 3
2018-08-16 06:49:32        [GROUPEND]    	Engine::Workflow::setStages	1506	Engine::Workflow::setStages
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	635	no. stages: 3
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	648	DOING self->runLocally
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::runLocally	816	# stages: 3
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::runLocally	819	BEFORE runStages()

2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::runLocally	821	AFTER runStages    success: 2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages


2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: completed
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	661	success: 2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: completed
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	673	uuid: undef
2018-08-16 06:49:32    [DEBUG]   	Engine::Workflow::executeWorkflow	675	addQueueSample success: 2018-08-16 06:49:32    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-16 06:49:32    [GROUPEND]    	Engine::Workflow::executeWorkflow	683	25823 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-16 06:49:32  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	391	statuses: ["running","completed","completed"]
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"printlog":5,"log":"5","conf":bless( {"inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","valueoffset":24,"yaml":bless( [], "YAML::Tiny" ),"memorystore":undef,"memory":1,"oldlog":2,"oldprintlog":2,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","backup":1,"outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","printlog":2,"log":2,"indent":4}, "Conf::Yaml" ),"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log"}
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::setDbObject	279	database: aguatest
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::setDbObject	280	user: agua
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::setDbObject	281	dbtype: SQLite
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::setDbObject	282	dbfile: /f/db/test.sqlite
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	378	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	382	results: undef
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	385	DOING executeWorkflow()
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	573	force: undef
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	576	submit: 1
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	577	username: testuser
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	578	project: Project1
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	579	workflow: Workflow1
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	580	workflownumber: 1
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	581	cluster: undef
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	582	start: 1
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	583	stop: 2
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	584	dryrun: undef
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	585	scheduler: local
2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: running
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	633	DOING self->setStages
2018-08-16 06:50:20        [GROUP]    	Engine::Workflow::setStages	1368	Engine::Workflow::setStages
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1369	username: testuser
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1370	cluster: undef
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1371	project: Project1
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1372	workflow: Workflow1
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1373	scheduler: local
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1380	slots: undef
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1387	force: undef
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::checkPrevious	1706	start: 0
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1389	previouscompleted: 1
2018-08-16 06:50:20        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"workflow":"Workflow1","ordinal":0,"appname":"FTP","paramFunction":"","paramname":"filter","description":"Download only files containing this text fragment","locked":0,"category":"filter","valuetype":"string","format":"","appnumber":"1","project":"Project1","paramnumber":"1","workflownumber":1,"inputParams":"","discretion":"optional","owner":"aguatest","paramtype":"input","args":"","value":"","chained":0,"username":"testuser","argument":"--filter"},{"paramFunction":"","appname":"FTP","ordinal":0,"workflow":"Workflow1","format":"","appnumber":"1","valuetype":"directory","category":"outputdir","locked":0,"description":"Create this directory and download files to it","paramname":"outputdir","inputParams":"","workflownumber":1,"paramnumber":"2","project":"Project1","chained":0,"argument":"--outputdir","username":"testuser","value":"Project1/Workflow1/downloads","args":"","paramtype":"input","owner":"aguatest","discretion":"required"},{"chained":0,"argument":"--regex","username":"testuser","value":"chr[XYM0-9]+.fa.gz","args":"","owner":"aguatest","paramtype":"input","discretion":"optional","inputParams":"","workflownumber":1,"paramnumber":"3","project":"Project1","appnumber":"1","format":"","valuetype":"string","category":"regex","description":"Download files matching this regular expression","locked":0,"paramname":"regex","paramFunction":"","appname":"FTP","ordinal":0,"workflow":"Workflow1"},{"paramnumber":"4","workflownumber":1,"inputParams":"","project":"Project1","chained":0,"username":"testuser","argument":"--type","value":"html","owner":"aguatest","paramtype":"input","args":"","discretion":"essential","paramFunction":"","ordinal":0,"appname":"FTP","workflow":"Workflow1","format":"","appnumber":"1","valuetype":"string","category":"type","paramname":"type","description":"Type of page: html or text","locked":0},{"paramFunction":"","ordinal":0,"appname":"FTP","workflow":"Workflow1","format":"","appnumber":"1","valuetype":"string","category":"url","paramname":"url","locked":0,"description":"Download files linked on this page","paramnumber":"5","inputParams":"","workflownumber":1,"project":"Project1","argument":"--url","chained":0,"username":"testuser","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","paramtype":"input","owner":"aguatest","args":"","discretion":"required"}]
2018-08-16 06:50:20        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"paramname":"delete","locked":0,"description":" Remove zipped files after unzipping","category":"delete","valuetype":"flag","appnumber":"2","format":"","workflow":"Workflow1","ordinal":0,"appname":"unzipFiles","paramFunction":"","discretion":"optional","owner":"aguatest","paramtype":"input","args":"","value":"1","chained":0,"username":"testuser","argument":"--delete","project":"Project1","paramnumber":"1","workflownumber":1,"inputParams":""},{"paramFunction":"","appname":"unzipFiles","ordinal":0,"workflow":"Workflow1","format":"","appnumber":"2","valuetype":"string","category":"filter","description":"Unzip only files containing this text fragment","locked":0,"paramname":"filter","workflownumber":1,"inputParams":"","paramnumber":"2","project":"Project1","argument":"--filter","chained":0,"username":"testuser","value":"","args":"","paramtype":"input","owner":"aguatest","discretion":"optional"},{"value":"Project1/Workflow1/downloads","argument":"--inputdir","chained":0,"username":"testuser","discretion":"essential","args":"input.outputdir.value","paramtype":"input","owner":"aguatest","workflownumber":1,"inputParams":"InputParams","paramnumber":"3","project":"Project1","valuetype":"directory","appnumber":"2","format":"","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","locked":0,"paramname":"inputdir","category":"inputdir","appname":"unzipFiles","ordinal":0,"paramFunction":"","workflow":"Workflow1"},{"appname":"unzipFiles","ordinal":0,"paramFunction":"","workflow":"Workflow1","valuetype":"directory","appnumber":"2","format":"","description":"Unzip files to this directory","locked":0,"paramname":"outputdir","category":"outputdir","workflownumber":1,"inputParams":"InputParams","paramnumber":"4","project":"Project1","value":"Project1/Workflow1/downloads","username":"testuser","chained":0,"argument":"--outputdir","discretion":"required","args":"input.outputdir.value","paramtype":"input","owner":"aguatest"},{"discretion":"optional","owner":"aguatest","paramtype":"input","args":"input.regex.value","value":"chr[XYM0-9]+.fa.gz","username":"testuser","chained":1,"argument":"--regex","project":"Project1","paramnumber":"5","workflownumber":1,"inputParams":"","paramname":"regex","locked":0,"description":"Unzip only files matching this regular expression","category":"filter","valuetype":"string","appnumber":"2","format":"","workflow":"Workflow1","ordinal":0,"appname":"unzipFiles","paramFunction":""},{"category":"type","paramname":"type","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","locked":0,"appnumber":"2","format":"","valuetype":"string","workflow":"Workflow1","paramFunction":"","ordinal":0,"appname":"unzipFiles","owner":"aguatest","paramtype":"input","args":"","discretion":"required","chained":0,"argument":"--type","username":"testuser","value":"gunzip","project":"Project1","paramnumber":"6","workflownumber":1,"inputParams":""}]
2018-08-16 06:50:20        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"paramname":"inputdir","description":"Location of directory containing *.fa files","locked":0,"category":"inputdir","valuetype":"directory","appnumber":"3","format":"","workflow":"Workflow1","ordinal":0,"appname":"elandIndex","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","discretion":"essential","owner":"aguatest","paramtype":"input","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","value":"Project1/Workflow1/reference/fasta","username":"testuser","chained":0,"argument":"--inputdir","project":"Project1","paramnumber":"1","workflownumber":1,"inputParams":"referencedir,outputdir,inputdir"},{"chained":0,"argument":"--outputdir","username":"testuser","value":"Project1/Workflow1/reference/eland","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramtype":"input","owner":"aguatest","discretion":"required","inputParams":"referencedir,outputdir,inputdir","workflownumber":1,"paramnumber":"2","project":"Project1","format":"","appnumber":"3","valuetype":"directory","category":"outputdir","locked":0,"description":"Print indexed files to this directory","paramname":"outputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","appname":"elandIndex","ordinal":0,"workflow":"Workflow1"},{"category":"subdirs","paramname":"subdirs","description":"","locked":0,"format":"","appnumber":"3","valuetype":"flag","workflow":"Workflow1","paramFunction":"","ordinal":0,"appname":"elandIndex","owner":"aguatest","paramtype":"input","args":"input.subdirs.value","discretion":"optional","argument":"--subdirs","chained":0,"username":"testuser","value":"","project":"Project1","paramnumber":"3","workflownumber":1,"inputParams":""}]
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStartStop	1749	# stages: 3
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->start: 1
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStartStop	1755	self->stop: undef
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStartStop	1760	start: 1
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStartStop	1761	stop: 4
2018-08-16 06:50:20        [NOTE]   	Engine::Workflow::setStartStop	1782	25866 Setting start: 1
2018-08-16 06:50:20        [NOTE]   	Engine::Workflow::setStartStop	1783	25866 Setting stop: 4
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1397	start: 1
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1398	stop: 4
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1402	fileroot: /home/testuser/agua
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setFileDirs	1536	fileroot: /home/testuser/agua
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setFileDirs	1537	project: Project1
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setFileDirs	1538	workflow: Workflow1
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setFileDirs	1542	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1406	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setEnvar	196	customvars: undef
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setEnvar	197	envarsub: undef
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1422	BEFORE monitor = self->updateMonitor()
2018-08-16 06:50:20        [CALLER]   	Engine::Workflow::updateMonitor	2059	caller: Engine::Workflow::setStages	634	scheduler: local
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1426	AFTER XXX monitor = self->updateMonitor()
2018-08-16 06:50:20        [DEBUG]   	Engine::Workflow::setStages	1504	final no. stageobjects: 3
2018-08-16 06:50:20        [GROUPEND]    	Engine::Workflow::setStages	1506	Engine::Workflow::setStages
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	635	no. stages: 3
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	648	DOING self->runLocally
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::runLocally	816	# stages: 3
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::runLocally	819	BEFORE runStages()

2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::runLocally	821	AFTER runStages    success: 2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages


2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: completed
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	661	success: 2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: completed
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	673	uuid: undef
2018-08-16 06:50:20    [DEBUG]   	Engine::Workflow::executeWorkflow	675	addQueueSample success: 2018-08-16 06:50:20    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-16 06:50:20    [GROUPEND]    	Engine::Workflow::executeWorkflow	683	25866 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-16 06:50:20  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	391	statuses: ["running","completed","completed"]
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	69	hash: {"log":"1","logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","conf":bless( {"inputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","memory":1,"log":2,"outputfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/../../../../../../../conf/config.yml","oldprintlog":2,"printlog":2,"yaml":bless( [], "YAML::Tiny" ),"oldlog":2,"memorystore":undef,"indent":4,"valueoffset":24,"logfile":"/mnt/repos/agua/flow/lib/Engine/t/unit/bin/Workflow/ExecuteWorkflow/outputs/test.log","logtype":"cli","backup":1}, "Conf::Yaml" ),"printlog":5}
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::initialise	72	Doing self->setDbObject
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::setDbObject	279	database: aguatest
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::setDbObject	280	user: agua
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::setDbObject	281	dbtype: SQLite
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::setDbObject	282	dbfile: /f/db/test.sqlite
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	285	username: testuser
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	287	project: Project1
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	288	workflow: Workflow1
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	289	workflownumber: 1
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	290	start: 1
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	291	submit: 1
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	299	files: ["stageparameter.tsv","sessions.tsv","stage.tsv","workflow.tsv"]
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stageparameter.tsv
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stageparameter
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: sessions.tsv
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: sessions
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: stage.tsv
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: stage
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	301	file: workflow.tsv
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	303	table: workflow
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	319	query: UPDATE workflow SET status='runningXXXXX'
WHERE username = 'testuser'
AND project = 'Project1'
AND name = 'Workflow1'
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	323	results: undef
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	378	query: INSERT INTO workflow VALUES ("testuser","Project1","Workflow2",2,"","","","")
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	382	results: undef
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	385	DOING executeWorkflow()
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	573	force: undef
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	576	submit: 1
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	577	username: testuser
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	578	project: Project1
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	579	workflow: Workflow1
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	580	workflownumber: 1
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	581	cluster: undef
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	582	start: 1
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	583	stop: 2
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	584	dryrun: undef
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	585	scheduler: local
2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: running
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	633	DOING self->setStages
2018-08-16 06:50:54        [GROUP]    	Engine::Workflow::setStages	1368	Engine::Workflow::setStages
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1369	username: testuser
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1370	cluster: undef
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1371	project: Project1
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1372	workflow: Workflow1
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1373	scheduler: local
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1380	slots: undef
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1387	force: undef
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::checkPrevious	1706	start: 0
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1389	previouscompleted: 1
2018-08-16 06:50:54        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"workflownumber":1,"value":"","paramnumber":"1","ordinal":0,"appname":"FTP","project":"Project1","owner":"aguatest","appnumber":"1","paramFunction":"","locked":0,"inputParams":"","workflow":"Workflow1","category":"filter","args":"","description":"Download only files containing this text fragment","chained":0,"paramtype":"input","username":"testuser","paramname":"filter","discretion":"optional","argument":"--filter","valuetype":"string","format":""},{"owner":"aguatest","project":"Project1","appname":"FTP","appnumber":"1","ordinal":0,"paramnumber":"2","value":"Project1/Workflow1/downloads","workflownumber":1,"category":"outputdir","args":"","inputParams":"","workflow":"Workflow1","locked":0,"paramFunction":"","username":"testuser","paramtype":"input","chained":0,"description":"Create this directory and download files to it","format":"","argument":"--outputdir","valuetype":"directory","paramname":"outputdir","discretion":"required"},{"discretion":"optional","paramname":"regex","valuetype":"string","argument":"--regex","format":"","description":"Download files matching this regular expression","chained":0,"paramtype":"input","username":"testuser","locked":0,"inputParams":"","workflow":"Workflow1","paramFunction":"","args":"","category":"regex","paramnumber":"3","value":"chr[XYM0-9]+.fa.gz","workflownumber":1,"appname":"FTP","project":"Project1","owner":"aguatest","appnumber":"1","ordinal":0},{"args":"","category":"type","workflow":"Workflow1","inputParams":"","locked":0,"paramFunction":"","appname":"FTP","project":"Project1","owner":"aguatest","appnumber":"1","ordinal":0,"paramnumber":"4","value":"html","workflownumber":1,"format":"","valuetype":"string","argument":"--type","discretion":"essential","paramname":"type","paramtype":"input","username":"testuser","chained":0,"description":"Type of page: html or text"},{"appname":"FTP","project":"Project1","appnumber":"1","owner":"aguatest","ordinal":0,"paramnumber":"5","value":"http://hgdownload.cse.ucsc.edu/goldenPath/hg19/chromosomes","workflownumber":1,"category":"url","args":"","inputParams":"","workflow":"Workflow1","locked":0,"paramFunction":"","paramtype":"input","username":"testuser","description":"Download files linked on this page","chained":0,"format":"","valuetype":"string","argument":"--url","discretion":"required","paramname":"url"}]
2018-08-16 06:50:54        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"project":"Project1","appnumber":"2","owner":"aguatest","appname":"unzipFiles","ordinal":0,"value":"1","paramnumber":"1","workflownumber":1,"args":"","category":"delete","workflow":"Workflow1","inputParams":"","locked":0,"paramFunction":"","paramtype":"input","username":"testuser","chained":0,"description":" Remove zipped files after unzipping","format":"","valuetype":"flag","argument":"--delete","paramname":"delete","discretion":"optional"},{"ordinal":0,"project":"Project1","owner":"aguatest","appnumber":"2","appname":"unzipFiles","workflownumber":1,"value":"","paramnumber":"2","args":"","category":"filter","paramFunction":"","locked":0,"workflow":"Workflow1","inputParams":"","username":"testuser","paramtype":"input","description":"Unzip only files containing this text fragment","chained":0,"argument":"--filter","valuetype":"string","format":"","paramname":"filter","discretion":"optional"},{"paramtype":"input","username":"testuser","chained":0,"description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","argument":"--inputdir","valuetype":"directory","format":"","paramname":"inputdir","discretion":"essential","owner":"aguatest","appnumber":"2","appname":"unzipFiles","project":"Project1","ordinal":0,"paramnumber":"3","value":"Project1/Workflow1/downloads","workflownumber":1,"category":"inputdir","args":"input.outputdir.value","locked":0,"inputParams":"InputParams","workflow":"Workflow1","paramFunction":""},{"description":"Unzip files to this directory","chained":0,"paramtype":"input","username":"testuser","paramname":"outputdir","discretion":"required","valuetype":"directory","argument":"--outputdir","format":"","workflownumber":1,"paramnumber":"4","value":"Project1/Workflow1/downloads","ordinal":0,"project":"Project1","owner":"aguatest","appnumber":"2","appname":"unzipFiles","paramFunction":"","locked":0,"workflow":"Workflow1","inputParams":"InputParams","category":"outputdir","args":"input.outputdir.value"},{"description":"Unzip only files matching this regular expression","chained":1,"paramtype":"input","username":"testuser","paramname":"regex","discretion":"optional","format":"","valuetype":"string","argument":"--regex","workflownumber":1,"paramnumber":"5","value":"chr[XYM0-9]+.fa.gz","ordinal":0,"owner":"aguatest","appname":"unzipFiles","project":"Project1","appnumber":"2","paramFunction":"","inputParams":"","workflow":"Workflow1","locked":0,"category":"filter","args":"input.regex.value"},{"argument":"--type","valuetype":"string","format":"","paramname":"type","discretion":"required","paramtype":"input","username":"testuser","description":"Name of unzip application (unzip|gunzip) (DEFAULT: gunzip)","chained":0,"category":"type","args":"","locked":0,"inputParams":"","workflow":"Workflow1","paramFunction":"","project":"Project1","owner":"aguatest","appnumber":"2","appname":"unzipFiles","ordinal":0,"value":"gunzip","paramnumber":"6","workflownumber":1}]
2018-08-16 06:50:54        [NOTE]   	Engine::Workflow::setStageParameters	1741	stageparameters: [{"discretion":"essential","paramname":"inputdir","argument":"--inputdir","valuetype":"directory","format":"","description":"Location of directory containing *.fa files","chained":0,"username":"testuser","paramtype":"input","locked":0,"workflow":"Workflow1","inputParams":"referencedir,outputdir,inputdir","paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","category":"inputdir","value":"Project1/Workflow1/reference/fasta","paramnumber":"1","workflownumber":1,"project":"Project1","appnumber":"3","appname":"elandIndex","owner":"aguatest","ordinal":0},{"paramname":"outputdir","discretion":"required","format":"","valuetype":"directory","argument":"--outputdir","description":"Print indexed files to this directory","chained":0,"paramtype":"input","username":"testuser","inputParams":"referencedir,outputdir,inputdir","workflow":"Workflow1","locked":0,"paramFunction":"if ( referencedir ) return referencedir; if ( outputdir ) return outputdir; if ( inputdir ) return inputdir;","category":"outputdir","args":"input.referencedir.value,input.outputdir.value,input.inputdir.value","paramnumber":"2","value":"Project1/Workflow1/reference/eland","workflownumber":1,"project":"Project1","appnumber":"3","appname":"elandIndex","owner":"aguatest","ordinal":0},{"workflownumber":1,"paramnumber":"3","value":"","ordinal":0,"appnumber":"3","owner":"aguatest","appname":"elandIndex","project":"Project1","paramFunction":"","locked":0,"inputParams":"","workflow":"Workflow1","category":"subdirs","args":"input.subdirs.value","description":"","chained":0,"username":"testuser","paramtype":"input","discretion":"optional","paramname":"subdirs","valuetype":"flag","argument":"--subdirs","format":""}]
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStartStop	1749	# stages: 3
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStartStop	1754	self->start: 1
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStartStop	1755	self->stop: undef
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStartStop	1760	start: 1
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStartStop	1761	stop: 4
2018-08-16 06:50:54        [NOTE]   	Engine::Workflow::setStartStop	1782	25880 Setting start: 1
2018-08-16 06:50:54        [NOTE]   	Engine::Workflow::setStartStop	1783	25880 Setting stop: 4
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1397	start: 1
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1398	stop: 4
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1402	fileroot: /home/testuser/agua
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setFileDirs	1536	fileroot: /home/testuser/agua
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setFileDirs	1537	project: Project1
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setFileDirs	1538	workflow: Workflow1
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setFileDirs	1542	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1406	scriptdir: /home/testuser/agua/Project1/Workflow1/script
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setEnvar	196	customvars: undef
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setEnvar	197	envarsub: undef
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1422	BEFORE monitor = self->updateMonitor()
2018-08-16 06:50:54        [CALLER]   	Engine::Workflow::updateMonitor	2059	caller: Engine::Workflow::setStages	634	scheduler: local
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1426	AFTER XXX monitor = self->updateMonitor()
2018-08-16 06:50:54        [DEBUG]   	Engine::Workflow::setStages	1504	final no. stageobjects: 3
2018-08-16 06:50:54        [GROUPEND]    	Engine::Workflow::setStages	1506	Engine::Workflow::setStages
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	635	no. stages: 3
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	648	DOING self->runLocally
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::runLocally	816	# stages: 3
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::runLocally	819	BEFORE runStages()

2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::runLocally	821	AFTER runStages    success: 2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages


2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: completed
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	661	success: 2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	357	XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ADDING status: completed
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	673	uuid: undef
2018-08-16 06:50:54    [DEBUG]   	Engine::Workflow::executeWorkflow	675	addQueueSample success: 2018-08-16 06:50:54    [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::__ANON__	348	OVERRIDE Engine::Workflow::runStages

2018-08-16 06:50:54    [GROUPEND]    	Engine::Workflow::executeWorkflow	683	25880 Engine::Workflow::executeWorkflow    COMPLETED
2018-08-16 06:50:54  [DEBUG]   	Test::Engine::Workflow::ExecuteWorkflow::testExecuteWorkflow	391	statuses: ["running","completed","completed"]
